

17/06/2013

Change the file name "/home/jfz/codes/MML_ThomX/machine/SOLEIL/Booster/applications/set_param.m" t0 "/home/jfz/codes/MML_ThomX/machine/SOLEIL/Booster/applications/set_para.m", 
since the file name "set_param.m" is conflict with the Matlab buildin
file "set_param.m". 

This may cause problems in some SOLEIL applications which call
this local "set_param.m" file.


04/10/2013

(1) linopt.m 
    Fix the bug to avoid the mirror tunes of ThomX ring.
    Using the sign of M12.

07/10/2013

(1)tunechrom.m 
   Fix the bug to avoid the mirror tunes.

10/01/2014
  Fix the bug in the longitudinal parameters definitions to get 
  the correct 6D orbit.

 
   10/02/2014

   Fix the bug in "BndMPoleSymplecticNew4Pass.c" to 
   compile the AT code on the MAC computers.

   
 
  

24/02/2014

Modified "setpvmodel.m", now the bending elements can be defined with 
the names of the 4 first initials as "BEND...".



05/03/2014

Modified "setpvmodel.m" and "getpvmodel.m", now the values of TL ...
    dipoles can be modified or read back by the bending angles 
    with the physics unit [rad], through the functions "setsp()"
    or "getsp()". While the dipoles in the storage ring are still
    connected to the beam energy as before. 





(1) Files need to update with the real machine:

Needs to active all links with TANGO...

 --15/11/2013 

  …/common/cycling/*
   Thomxinit.m; setoperationmode.m;
   Magnetcoefficients.m; k2amp.m; amp2k.m; bend2gev.m; gev2bend.m






(2) 17/12/2013
 .../mml/setpathmml.m

correct with the Tango of ThomX...

case 'TANGO'




24/02/2014  Jianfeng Zhang @ LAL

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
NEED TO take a lot of time & special attentions 
            to configure:  "magnetcoefficients.m",

also need to check "bend2gev.m" & "gev2bend.m".

 

---- There are two types of dipoles in the transfer line (TL),
     BEND1, BEND2, (different length and bending angle.),
     so there will be two type of B---> I.


----- The magnetic field strength of dipoles in the ring are 
      the same as BEND1 in TL.



---- 05/03/2014
       In AT model, the TL dipoles are set up and read back
       by the physics units [rad].
       While the storage ring dipoles are set up and read 
       back by the beam energy through "bend2gev.m" & "gev2bend.m". 
      
      The set up and read back of the TL dipoles needs to be 
      checked in the connections through Tango. 
  

----    Need to check the basic values setting using MML 
        through TANGO: 
 
         setsp(), getsp() 

         dipole, quadrupole, sextupole, kicker, BPM, etc.

----   Set element properties using CHANEL names through TANGO.


----
09/04/2014 
(1)
    Test the machine mode in TLinit.m & thomxinit.m

This is a very important command!!!!!!!!!!!


(2) Need to set the crunch & roll parameters of BPMs in the future...

-----

&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& 2018 &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&


 17/08/2018

 .../mml/setpathmml.m  ===>>> add case TANGO and check!
 .../mml/setpaththomx.m

../machine/THOMX

/Users/ichaikov/Documents/MATLAB/MML_v1/machine/THOMX/StorageRing
thomxinit ===>>>check all the devices (nomenclature names)
aoinit
setoperationalmode  =>>> clean the file from SOLEIL cases + magnetcoeff
updateatindex
AT lattice file

 23/08/2018

function getmcf
Operands || was changed to | in oder to avoid the error in dispersion measurement.

 24/08/2018

In at2str function add

if isfield(options,'TwissData')
   options=rmfield(options,'TwissData');
end

to account for the field TwissData in the first element. Created in updateatindex and used in optics_TL….

 28/08/2018

Taking makephysdata.m from SOLEIL distribution and moving the original one to makephysdata_original.m

BBA: force to use the quadplot.m from /mml folder to address the QMS.center problem



