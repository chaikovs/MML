<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of synchro_injecteur7</title>
  <meta name="keywords" content="synchro_injecteur7">
  <meta name="description" content="SYNCHRO_INJECTEUR7 M-file for synchro_injecteur7.fig">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">machine</a> &gt; <a href="#">Soleil</a> &gt; <a href="../index.html">common</a> &gt; <a href="index.html">synchro</a> &gt; synchro_injecteur7.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for machine/Soleil/common/synchro&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>synchro_injecteur7
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>SYNCHRO_INJECTEUR7 M-file for synchro_injecteur7.fig</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function varargout = synchro_injecteur7(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> SYNCHRO_INJECTEUR7 M-file for synchro_injecteur7.fig
      SYNCHRO_INJECTEUR7, by itself, creates a new SYNCHRO_INJECTEUR7 or raises the existing
      singleton*.

      H = SYNCHRO_INJECTEUR7 returns the handle to a new SYNCHRO_INJECTEUR7 or the handle to
      the existing singleton*.

      SYNCHRO_INJECTEUR7('CALLBACK',hObject,eventData,handles,...) calls the local
      function named CALLBACK in SYNCHRO_INJECTEUR7.M with the given input arguments.

      SYNCHRO_INJECTEUR7('Property','Value',...) creates a new SYNCHRO_INJECTEUR7 or raises the
      existing singleton*.  Starting from the left, property value pairs are
      applied to the GUI before synchro_injecteur7_OpeningFunction gets called.  An
      unrecognized property name or invalid value makes property application
      stop.  All inputs are passed to synchro_injecteur7_OpeningFcn via varargin.

      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one
      instance to run (singleton)&quot;.

 See also: GUIDE, GUIDATA, GUIHANDLES</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="bucketnumber.html" class="code" title="function [n1 n2] = bucketnumber(num)">bucketnumber</a>	BUCKETNUMBER - Computes n1 n2 for timing system master board for a bucket</li><li><a href="fix_quart.html" class="code" title="function [clk_pc,clk_soft]=fix_quart">fix_quart</a>	fix premier quart</li><li><a href="get_start_clk.html" class="code" title="function [clk1,clk2]=get_start_clk">get_start_clk</a>	fix premier quart</li><li><a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>	calcul efficacité</li><li><a href="load_synchro.html" class="code" title="function load_synchro(file)">load_synchro</a>	</li><li><a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>	retour update</li><li><a href="start_3Hz.html" class="code" title="function start_3Hz(event)">start_3Hz</a>	test 3Hz</li><li><a href="start_soft.html" class="code" title="function start_soft">start_soft</a>	test 3Hz</li><li><a href="step.html" class="code" title="">step</a>	reglage delta tune à 110 MeV</li><li><a href="stop_3Hz.html" class="code" title="function stop_3Hz">stop_3Hz</a>	test 3Hz</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function synchro_injecteur7_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = synchro_injecteur7_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function boo_alim_dipole_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function boo_alim_dipole_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function boo_alim_qf_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function boo_alim_qf_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub7" class="code">function boo_alim_qd_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub8" class="code">function boo_alim_qd_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub9" class="code">function boo_alim_sf_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub10" class="code">function boo_alim_sf_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub11" class="code">function boo_alim_sd_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub12" class="code">function boo_alim_sd_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub13" class="code">function boo_rf_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub14" class="code">function boo_rf_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub15" class="code">function lin_canon_lpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub16" class="code">function lin_canon_lpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub17" class="code">function lt1_emittance_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub18" class="code">function lt1_emittance_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub19" class="code">function lt1_MC1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub20" class="code">function lt1_MC1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub21" class="code">function lt1_MC2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub22" class="code">function lt1_MC2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub23" class="code">function lt1_osc_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub24" class="code">function lt1_osc_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub25" class="code">function sdc1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub26" class="code">function sdc1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub27" class="code">function boo_inj_septum_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub28" class="code">function boo_inj_septum_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub29" class="code">function boo_inj_kicker_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub30" class="code">function boo_inj_kicker_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub31" class="code">function boo_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub32" class="code">function boo_bpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub33" class="code">function boo_nod_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub34" class="code">function boo_nod_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub35" class="code">function boo_dcct_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub36" class="code">function boo_dcct_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub37" class="code">function lin_canon_spm_fin_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub38" class="code">function lin_canon_spm_fin_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub39" class="code">function central_pc_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub40" class="code">function central_pc_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub41" class="code">function central_inj_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub42" class="code">function central_inj_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub43" class="code">function central_soft_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub44" class="code">function central_soft_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub45" class="code">function button_acquisition_nooffset_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub46" class="code">function button_acquisition_delay_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub47" class="code">function button_injection_soft_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub48" class="code">function periode_edit_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub49" class="code">function periode_edit_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub50" class="code">function uibuttongroup_SelectionChangeFcn(hObject,eventdata,handles)</a></li><li><a href="#_sub51" class="code">function fonction_alex1(arg1,arg2,hObject,eventdata,handles)</a></li><li><a href="#_sub52" class="code">function fonction_alex2(arg1,arg2,hObject,eventdata,handles)</a></li><li><a href="#_sub53" class="code">function Closinggui(obj, event, handles, figure1)</a></li><li><a href="#_sub54" class="code">function button_softmoins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub55" class="code">function button_softplus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub56" class="code">function button_injmoins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub57" class="code">function button_injplus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub58" class="code">function boo_ext_dof_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub59" class="code">function boo_ext_dof_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub60" class="code">function boo_ext_sept_p_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub61" class="code">function boo_ext_sept_p_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub62" class="code">function boo_ext_sept_a_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub63" class="code">function boo_ext_sept_a_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub64" class="code">function boo_ext_kicker_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub65" class="code">function boo_ext_kicker_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub66" class="code">function ans_inj_sept_p_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub67" class="code">function ans_inj_sept_p_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub68" class="code">function ans_inj_sept_a_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub69" class="code">function ans_inj_sept_a_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub70" class="code">function ans_inj_k1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub71" class="code">function ans_inj_k1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub72" class="code">function ans_inj_k2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub73" class="code">function ans_inj_k2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub74" class="code">function ans_inj_k3_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub75" class="code">function ans_inj_k3_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub76" class="code">function ans_inj_k4_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub77" class="code">function ans_inj_k4_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub78" class="code">function ans_dcct_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub79" class="code">function ans_dcct_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub80" class="code">function ans_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub81" class="code">function ans_bpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub82" class="code">function central_ext_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub83" class="code">function central_ext_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub84" class="code">function central_soft1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub85" class="code">function central_soft1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub86" class="code">function radiobutton6_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub87" class="code">function pushbutton8_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub88" class="code">function pushbutton9_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub89" class="code">function button_extmoins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub90" class="code">function button_extplus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub91" class="code">function sdc2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub92" class="code">function sdc2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub93" class="code">function lt2_emittance_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub94" class="code">function lt2_emittance_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub95" class="code">function lt2_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub96" class="code">function lt2_bpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub97" class="code">function lt2_osc_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub98" class="code">function lt2_osc_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub99" class="code">function lin_modulateur_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub100" class="code">function lin_modulateur_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub101" class="code">function inj_offset_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub102" class="code">function inj_offset_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub103" class="code">function ext_offset_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub104" class="code">function ext_offset_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub105" class="code">function button_acquisition_address_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub106" class="code">function button_offinj_moins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub107" class="code">function button_offinj_plus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub108" class="code">function button_offext_moins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub109" class="code">function button_offext_plus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub110" class="code">function button_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub111" class="code">function ans_bpm_c01_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub112" class="code">function ans_bpm_c01_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub113" class="code">function ans_bpm_c02_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub114" class="code">function ans_bpm_c02_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub115" class="code">function ans_bpm_c03_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub116" class="code">function ans_bpm_c03_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub117" class="code">function ans_bpm_c04_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub118" class="code">function ans_bpm_c04_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub119" class="code">function ans_bpm_c05_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub120" class="code">function ans_bpm_c05_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub121" class="code">function ans_bpm_c06_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub122" class="code">function ans_bpm_c06_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub123" class="code">function ans_bpm_c07_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub124" class="code">function ans_bpm_c07_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub125" class="code">function ans_bpm_c08_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub126" class="code">function ans_bpm_c08_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub127" class="code">function ans_bpm_c09_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub128" class="code">function ans_bpm_c09_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub129" class="code">function ans_bpm_c10_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub130" class="code">function ans_bpm_c10_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub131" class="code">function ans_bpm_c11_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub132" class="code">function ans_bpm_c11_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub133" class="code">function ans_bpm_c12_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub134" class="code">function ans_bpm_c12_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub135" class="code">function ans_bpm_c13_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub136" class="code">function ans_bpm_c13_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub137" class="code">function ans_bpm_c14_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub138" class="code">function ans_bpm_c14_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub139" class="code">function ans_bpm_c15_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub140" class="code">function ans_bpm_c15_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub141" class="code">function ans_bpm_c16_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub142" class="code">function ans_bpm_c16_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub143" class="code">function edit_filling_relecture_tables_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub144" class="code">function edit_filling_relecture_tables_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub145" class="code">function edit_filling_relecture_bunch_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub146" class="code">function edit_filling_relecture_bunch_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub147" class="code">function edit_filling_entrer_bunch_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub148" class="code">function edit_filling_entrer_bunch_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub149" class="code">function button_update_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub150" class="code">function button_acquisition_trigstatus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub151" class="code">function togglebutton2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub152" class="code">function listbox_fillingmode_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub153" class="code">function listbox_fillingmode_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub154" class="code">function button_fix_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub155" class="code">function edit_Nshot_soft_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub156" class="code">function edit_Nshot_soft_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub157" class="code">function edit_laps_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub158" class="code">function edit_laps_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub159" class="code">function edit_qlt1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub160" class="code">function edit_qlt1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub161" class="code">function edit_iboo_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub162" class="code">function edit_iboo_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub163" class="code">function edit_dians_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub164" class="code">function edit_dians_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub165" class="code">function edit_rlt1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub166" class="code">function edit_rlt1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub167" class="code">function edit_rboo_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub168" class="code">function edit_rboo_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub169" class="code">function edit_rans_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub170" class="code">function edit_rans_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub171" class="code">function edit_dians1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub172" class="code">function edit_dians1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub173" class="code">function edit_cycle_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub174" class="code">function edit_cycle_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub175" class="code">function edit_courant_total_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub176" class="code">function edit_courant_total_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub177" class="code">function lin_canon_spm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub178" class="code">function lin_canon_spm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub179" class="code">function  uipanel_mode_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub180" class="code">function uipanel_mode_SelectionChangeFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub181" class="code">function edit_filling_entrer_bunch1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub182" class="code">function edit_filling_entrer_bunch1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub183" class="code">function edit_Imin_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub184" class="code">function edit_Imin_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub185" class="code">function uipanel_spm_mode_SelectionChangeFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub186" class="code">function uipanel_lpm_spm_mode_SelectionChangeFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub187" class="code">function pushbutton_load_golden_Callback(hObject, eventdata, handles)</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = synchro_injecteur7(varargin)</a>
0002 <span class="comment">% SYNCHRO_INJECTEUR7 M-file for synchro_injecteur7.fig</span>
0003 <span class="comment">%      SYNCHRO_INJECTEUR7, by itself, creates a new SYNCHRO_INJECTEUR7 or raises the existing</span>
0004 <span class="comment">%      singleton*.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%      H = SYNCHRO_INJECTEUR7 returns the handle to a new SYNCHRO_INJECTEUR7 or the handle to</span>
0007 <span class="comment">%      the existing singleton*.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%      SYNCHRO_INJECTEUR7('CALLBACK',hObject,eventData,handles,...) calls the local</span>
0010 <span class="comment">%      function named CALLBACK in SYNCHRO_INJECTEUR7.M with the given input arguments.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%      SYNCHRO_INJECTEUR7('Property','Value',...) creates a new SYNCHRO_INJECTEUR7 or raises the</span>
0013 <span class="comment">%      existing singleton*.  Starting from the left, property value pairs are</span>
0014 <span class="comment">%      applied to the GUI before synchro_injecteur7_OpeningFunction gets called.  An</span>
0015 <span class="comment">%      unrecognized property name or invalid value makes property application</span>
0016 <span class="comment">%      stop.  All inputs are passed to synchro_injecteur7_OpeningFcn via varargin.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">%      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one</span>
0019 <span class="comment">%      instance to run (singleton)&quot;.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% See also: GUIDE, GUIDATA, GUIHANDLES</span>
0022 
0023 <span class="comment">% Edit the above text to modify the response to help synchro_injecteur7</span>
0024 
0025 <span class="comment">% Last Modified by GUIDE v2.5 26-Feb-2007 15:22:53</span>
0026 
0027 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0028 gui_Singleton = 1;
0029 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0030                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0031                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction synchro_injecteur7_OpeningFcn(hObject, eventdata, handles, varargin)">synchro_injecteur7_OpeningFcn</a>, <span class="keyword">...</span>
0032                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = synchro_injecteur7_OutputFcn(hObject, eventdata, handles)">synchro_injecteur7_OutputFcn</a>, <span class="keyword">...</span>
0033                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0034                    <span class="string">'gui_Callback'</span>,   []);
0035 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0036     gui_State.gui_Callback = str2func(varargin{1});
0037 <span class="keyword">end</span>
0038 
0039 <span class="keyword">if</span> nargout
0040     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0041 <span class="keyword">else</span>
0042     gui_mainfcn(gui_State, varargin{:});
0043 <span class="keyword">end</span>
0044 <span class="comment">% End initialization code - DO NOT EDIT</span>
0045 
0046 
0047 <span class="comment">% --- Executes just before synchro_injecteur7 is made visible.</span>
0048 <a name="_sub1" href="#_subfunctions" class="code">function synchro_injecteur7_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0049 <span class="comment">% This function has no output args, see OutputFcn.</span>
0050 <span class="comment">% hObject    handle to figure</span>
0051 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0052 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0053 <span class="comment">% varargin   command line arguments to synchro_injecteur7 (see VARARGIN)</span>
0054 
0055 <span class="comment">% Choose default command line output for synchro_injecteur7</span>
0056 handles.output = hObject;
0057 
0058 <span class="comment">% Charge les offset</span>
0059 load(<span class="string">'/home/matlabML/applications/synchro/synchro_offset_lin'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>, <span class="string">'lin_fin'</span>);
0060 set(handles.inj_offset,<span class="string">'String'</span>,num2str(inj_offset));
0061 set(handles.ext_offset,<span class="string">'String'</span>,num2str(ext_offset));
0062 set(handles.lin_canon_spm_fin,<span class="string">'String'</span>,num2str(lin_fin));
0063 <span class="comment">% Periode linac fin</span>
0064 handles.lin_fin_step=0.090;                   <span class="comment">% En ns  (90 ps)</span>
0065 handles.one_bunch=2.84/handles.lin_fin_step;  <span class="comment">% Nombre de pas pour sauter un paquet</span>
0066 
0067 <span class="comment">% Periode du trigger par defaut = 10 s</span>
0068 handles.periode = 10;
0069 set(handles.periode_edit,<span class="string">'String'</span>,num2str(handles.periode));
0070 set(handles.edit_Nshot_soft,<span class="string">'String'</span>,num2str(1));
0071 set(handles.edit_laps,<span class="string">'String'</span>,1.0);
0072 
0073 <span class="comment">%Memorise les délais pc et soft initiaux</span>
0074 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>);
0075 clk1=temp.value(1);
0076 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
0077 clk2=temp.value(1);
0078 
0079 <span class="comment">%Stocke les sauts pour les 4 quarts mode LPM</span>
0080 jump=int32([0 39 26 13]);
0081 handles.clk_pc  =jump +  int32(clk1);
0082 handles.clk_soft=jump  + int32(clk2);
0083 handles.quart=1;
0084 
0085 <span class="comment">% Table initiale sur paquet 1</span>
0086 bunch=[1];
0087 [dtour,dpaquet]=<a href="bucketnumber.html" class="code" title="function [n1 n2] = bucketnumber(num)">bucketnumber</a>(bunch);
0088 offset_linac=lin_fin/handles.lin_fin_step; 
0089 bjump=handles.one_bunch;
0090 dpaquet=dpaquet*bjump+offset_linac;
0091 handles.table=int32([length(bunch) dtour dpaquet]);
0092 handles.table0=handles.table;
0093 handles.bunch=bunch;
0094 
0095 handles.mode = <span class="string">'Mode=???'</span>;
0096 set(handles.edit_filling_relecture_tables,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0097 set(handles.edit_filling_relecture_bunch,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0098 
0099 
0100 <span class="comment">% Verifie le mode selectionné en SPM ou LPM</span>
0101 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>);
0102 modelpm=temp.value(1);
0103 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>);
0104 modespm=temp.value(1);
0105 h=get(handles.uipanel_lpm_spm_mode);
0106 <span class="keyword">if</span>     (modelpm==5)&amp;(modespm==0)
0107     set(handles.uipanel_lpm_spm_mode,<span class="string">'SelectedObject'</span>,h.Children(2))
0108 <span class="keyword">elseif</span> (modelpm==0)&amp;(modespm==5)
0109     set(handles.uipanel_lpm_spm_mode,<span class="string">'SelectedObject'</span>,h.Children(1))
0110 <span class="keyword">else</span>
0111     set(handles.uipanel_lpm_spm_mode,<span class="string">'SelectedObject'</span>,h.Children(3))
0112 <span class="keyword">end</span>
0113 
0114 
0115 
0116 <span class="comment">% Verifie le mode selectionné en SPM : 1 2 ou 3 paquets</span>
0117 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'mode'</span>);
0118 mode=temp.value(1);
0119 h=get(handles.uipanel_spm_mode);
0120 select=h.Children(5-mode);
0121 set(handles.uipanel_spm_mode,<span class="string">'SelectedObject'</span>,select)
0122 
0123 <span class="comment">% Verifie le mode d'injection selectionné : soft ou 3Hz</span>
0124 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>);
0125 mode=temp.value(1);
0126 h=get(handles.uipanel_mode);
0127 <span class="keyword">if</span>     mode==2
0128     set(handles.uipanel_mode,<span class="string">'SelectedObject'</span>,h.Children(1))
0129 <span class="keyword">elseif</span> mode==1
0130     set(handles.uipanel_mode,<span class="string">'SelectedObject'</span>,h.Children(2))
0131 <span class="keyword">else</span>
0132     set(handles.uipanel_mode,<span class="string">'SelectedObject'</span>,[])
0133 <span class="keyword">end</span>
0134 <span class="comment">% Choix des events</span>
0135 handles.event0 =int32(0);
0136 handles.event00=int32(100);  <span class="comment">%Spéciale EP</span>
0137 
0138 
0139 <span class="comment">% Cache le tableau des délais BPM</span>
0140 set(handles.panel_bpm,<span class="string">'Visible'</span>,<span class="string">'off'</span>);
0141 
0142 
0143 
0144 <span class="comment">% Fonction timer pour injection en boucle</span>
0145 <span class="comment">% Creates timer Infinite loop</span>
0146 timer2=timer(<span class="string">'StartDelay'</span>,1,<span class="keyword">...</span>
0147     <span class="string">'ExecutionMode'</span>,<span class="string">'fixedRate'</span>,<span class="string">'Period'</span>,3,<span class="string">'TasksToExecute'</span>,Inf);
0148 timer2.TimerFcn = {@<a href="#_sub52" class="code" title="subfunction fonction_alex2(arg1,arg2,hObject,eventdata,handles)">fonction_alex2</a>, hObject,eventdata, handles};
0149 setappdata(handles.figure1,<span class="string">'Timer2'</span>,timer2);
0150 
0151 <span class="comment">% Creates timer Infinite loop</span>
0152 timer1=timer(<span class="string">'StartDelay'</span>,1,<span class="keyword">...</span>
0153     <span class="string">'ExecutionMode'</span>,<span class="string">'fixedRate'</span>,<span class="string">'Period'</span>,handles.periode,<span class="string">'TasksToExecute'</span>,Inf);
0154 timer1.TimerFcn = {@<a href="#_sub51" class="code" title="subfunction fonction_alex1(arg1,arg2,hObject,eventdata,handles)">fonction_alex1</a>, hObject,eventdata, handles};
0155 setappdata(handles.figure1,<span class="string">'Timer1'</span>,timer1);
0156 
0157 <span class="comment">% button group sur on/off timer du trigger</span>
0158 h = uibuttongroup(<span class="string">'visible'</span>,<span class="string">'off'</span>,<span class="string">'Position'</span>,[0.1405 0.32 0.11 0.14],<span class="keyword">...</span>
0159     <span class="string">'Title'</span>,<span class="string">''</span>,<span class="string">'TitlePosition'</span>,<span class="string">'centertop'</span>,<span class="keyword">...</span>
0160     <span class="string">'BackgroundColor'</span>,[1 0.3 0 ]);
0161 u1 = uicontrol(<span class="string">'Style'</span>,<span class="string">'Radio'</span>,<span class="string">'String'</span>,<span class="string">' OFF'</span>,<span class="string">'Tag'</span>,<span class="string">'radiobutton1'</span>,<span class="keyword">...</span>
0162     <span class="string">'pos'</span>,[05 85 55 25],<span class="string">'parent'</span>,h,<span class="string">'HandleVisibility'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0163     <span class="string">'BackgroundColor'</span>,[1 0.3 0  ]);
0164 u2 = uicontrol(<span class="string">'Style'</span>,<span class="string">'Radio'</span>,<span class="string">'String'</span>,<span class="string">' Laps :'</span>,<span class="string">'Tag'</span>,<span class="string">'radiobutton2'</span>,<span class="keyword">...</span>
0165     <span class="string">'pos'</span>,[05 45 55 25],<span class="string">'parent'</span>,h,<span class="string">'HandleVisibility'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0166     <span class="string">'BackgroundColor'</span>,[1 0.3 0 ]);
0167 u3 = uicontrol(<span class="string">'Style'</span>,<span class="string">'Radio'</span>,<span class="string">'String'</span>,<span class="string">' Imin :'</span>,<span class="string">'Tag'</span>,<span class="string">'radiobutton3'</span>,<span class="keyword">...</span>
0168     <span class="string">'pos'</span>,[05 05 55 25],<span class="string">'parent'</span>,h,<span class="string">'HandleVisibility'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0169     <span class="string">'BackgroundColor'</span>,[1 0.3 0 ]);
0170 
0171 set(h,<span class="string">'SelectionChangeFcn'</span>,<span class="keyword">...</span>
0172     {@<a href="#_sub50" class="code" title="subfunction uibuttongroup_SelectionChangeFcn(hObject,eventdata,handles)">uibuttongroup_SelectionChangeFcn</a>,handles});
0173 
0174 handles.off = u1;
0175 handles.on1 = u2;
0176 handles.on2 = u3;
0177 
0178 set(h,<span class="string">'SelectedObject'</span>,u1); 
0179 set(h,<span class="string">'Visible'</span>,<span class="string">'on'</span>);
0180 
0181 <span class="comment">%% Set closing gui function</span>
0182 set(handles.figure1,<span class="string">'CloseRequestFcn'</span>,{@<a href="#_sub53" class="code" title="subfunction Closinggui(obj, event, handles, figure1)">Closinggui</a>,timer1,handles.figure1});
0183 set(handles.figure1,<span class="string">'CloseRequestFcn'</span>,{@<a href="#_sub53" class="code" title="subfunction Closinggui(obj, event, handles, figure1)">Closinggui</a>,timer2,handles.figure1});
0184 
0185 
0186 <span class="comment">% Update handles structure</span>
0187 guidata(hObject, handles);
0188 
0189 <span class="comment">% UIWAIT makes synchro_injecteur7 wait for user response (see UIRESUME)</span>
0190 <span class="comment">% uiwait(handles.figure1);</span>
0191 
0192 
0193 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0194 <a name="_sub2" href="#_subfunctions" class="code">function varargout = synchro_injecteur7_OutputFcn(hObject, eventdata, handles) </a>
0195 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0196 <span class="comment">% hObject    handle to figure</span>
0197 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0198 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0199 
0200 <span class="comment">% Get default command line output from handles structure</span>
0201 varargout{1} = handles.output;
0202 
0203 
0204 
0205 <a name="_sub3" href="#_subfunctions" class="code">function boo_alim_dipole_Callback(hObject, eventdata, handles)</a>
0206 <span class="comment">% hObject    handle to boo_alim_dipole (see GCBO)</span>
0207 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0208 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0209 
0210 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_alim_dipole as text</span>
0211 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_alim_dipole as a double</span>
0212 <span class="comment">%h=gcf</span>
0213 delay=str2double(get(hObject,<span class="string">'String'</span>));
0214 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTimeDelay'</span>,delay);
0215 
0216 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0217 <a name="_sub4" href="#_subfunctions" class="code">function boo_alim_dipole_CreateFcn(hObject, eventdata, handles)</a>
0218 <span class="comment">% hObject    handle to boo_alim_dipole (see GCBO)</span>
0219 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0220 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0221 
0222 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0223 <span class="comment">%       See ISPC and COMPUTER.</span>
0224 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0225     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0226 <span class="keyword">end</span>
0227 
0228 
0229 <a name="_sub5" href="#_subfunctions" class="code">function boo_alim_qf_Callback(hObject, eventdata, handles)</a>
0230 <span class="comment">% hObject    handle to boo_alim_qf (see GCBO)</span>
0231 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0232 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0233 
0234 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_alim_qf as text</span>
0235 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_alim_qf as a double</span>
0236 
0237 delay=str2double(get(hObject,<span class="string">'String'</span>));
0238 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTimeDelay'</span>,delay);
0239 
0240 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0241 <a name="_sub6" href="#_subfunctions" class="code">function boo_alim_qf_CreateFcn(hObject, eventdata, handles)</a>
0242 <span class="comment">% hObject    handle to boo_alim_qf (see GCBO)</span>
0243 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0244 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0245 
0246 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0247 <span class="comment">%       See ISPC and COMPUTER.</span>
0248 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0249     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0250 <span class="keyword">end</span>
0251 
0252 
0253 
0254 <a name="_sub7" href="#_subfunctions" class="code">function boo_alim_qd_Callback(hObject, eventdata, handles)</a>
0255 <span class="comment">% hObject    handle to boo_alim_qd (see GCBO)</span>
0256 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0257 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0258 
0259 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_alim_qd as text</span>
0260 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_alim_qd as a double</span>
0261 
0262 delay=str2double(get(hObject,<span class="string">'String'</span>));
0263 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTimeDelay'</span>,delay);
0264 
0265 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0266 <a name="_sub8" href="#_subfunctions" class="code">function boo_alim_qd_CreateFcn(hObject, eventdata, handles)</a>
0267 <span class="comment">% hObject    handle to boo_alim_qd (see GCBO)</span>
0268 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0269 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0270 
0271 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0272 <span class="comment">%       See ISPC and COMPUTER.</span>
0273 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0274     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0275 <span class="keyword">end</span>
0276 
0277 
0278 
0279 <a name="_sub9" href="#_subfunctions" class="code">function boo_alim_sf_Callback(hObject, eventdata, handles)</a>
0280 <span class="comment">% hObject    handle to boo_alim_sf (see GCBO)</span>
0281 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0282 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0283 
0284 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_alim_sf as text</span>
0285 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_alim_sf as a double</span>
0286 
0287 delay=str2double(get(hObject,<span class="string">'String'</span>));
0288 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTimeDelay'</span>,delay);
0289 
0290 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0291 <a name="_sub10" href="#_subfunctions" class="code">function boo_alim_sf_CreateFcn(hObject, eventdata, handles)</a>
0292 <span class="comment">% hObject    handle to boo_alim_sf (see GCBO)</span>
0293 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0294 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0295 
0296 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0297 <span class="comment">%       See ISPC and COMPUTER.</span>
0298 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0299     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0300 <span class="keyword">end</span>
0301 
0302 
0303 
0304 <a name="_sub11" href="#_subfunctions" class="code">function boo_alim_sd_Callback(hObject, eventdata, handles)</a>
0305 <span class="comment">% hObject    handle to boo_alim_sd (see GCBO)</span>
0306 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0307 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0308 
0309 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_alim_sd as text</span>
0310 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_alim_sd as a double</span>
0311 
0312 delay=str2double(get(hObject,<span class="string">'String'</span>));
0313 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTimeDelay'</span>,delay);
0314 
0315 
0316 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0317 <a name="_sub12" href="#_subfunctions" class="code">function boo_alim_sd_CreateFcn(hObject, eventdata, handles)</a>
0318 <span class="comment">% hObject    handle to boo_alim_sd (see GCBO)</span>
0319 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0320 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0321 
0322 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0323 <span class="comment">%       See ISPC and COMPUTER.</span>
0324 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0325     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0326 <span class="keyword">end</span>
0327 
0328 
0329 
0330 <a name="_sub13" href="#_subfunctions" class="code">function boo_rf_Callback(hObject, eventdata, handles)</a>
0331 <span class="comment">% hObject    handle to boo_rf (see GCBO)</span>
0332 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0333 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0334 
0335 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_rf as text</span>
0336 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_rf as a double</span>
0337 
0338 delay=str2double(get(hObject,<span class="string">'String'</span>));
0339 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTimeDelay'</span>,delay);
0340 
0341 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0342 <a name="_sub14" href="#_subfunctions" class="code">function boo_rf_CreateFcn(hObject, eventdata, handles)</a>
0343 <span class="comment">% hObject    handle to boo_rf (see GCBO)</span>
0344 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0345 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0346 
0347 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0348 <span class="comment">%       See ISPC and COMPUTER.</span>
0349 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0350     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0351 <span class="keyword">end</span>
0352 
0353 
0354 
0355 <a name="_sub15" href="#_subfunctions" class="code">function lin_canon_lpm_Callback(hObject, eventdata, handles)</a>
0356 <span class="comment">% hObject    handle to lin_canon_lpm (see GCBO)</span>
0357 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0358 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0359 
0360 <span class="comment">% Hints: get(hObject,'String') returns contents of lin_canon_lpm as text</span>
0361 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lin_canon_lpm as a double</span>
0362 
0363 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0364 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0365 tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmTimeDelay'</span>,delay);
0366 
0367 
0368 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0369 <a name="_sub16" href="#_subfunctions" class="code">function lin_canon_lpm_CreateFcn(hObject, eventdata, handles)</a>
0370 <span class="comment">% hObject    handle to lin_canon_lpm (see GCBO)</span>
0371 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0372 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0373 
0374 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0375 <span class="comment">%       See ISPC and COMPUTER.</span>
0376 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0377     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0378 <span class="keyword">end</span>
0379 
0380 
0381 
0382 <a name="_sub17" href="#_subfunctions" class="code">function lt1_emittance_Callback(hObject, eventdata, handles)</a>
0383 <span class="comment">% hObject    handle to lt1_emittance (see GCBO)</span>
0384 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0385 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0386 
0387 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_emittance as text</span>
0388 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_emittance as a double</span>
0389 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0390 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0391 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>,delay);
0392 
0393 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0394 <a name="_sub18" href="#_subfunctions" class="code">function lt1_emittance_CreateFcn(hObject, eventdata, handles)</a>
0395 <span class="comment">% hObject    handle to lt1_emittance (see GCBO)</span>
0396 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0397 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0398 
0399 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0400 <span class="comment">%       See ISPC and COMPUTER.</span>
0401 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0402     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0403 <span class="keyword">end</span>
0404 
0405 
0406 
0407 <a name="_sub19" href="#_subfunctions" class="code">function lt1_MC1_Callback(hObject, eventdata, handles)</a>
0408 <span class="comment">% hObject    handle to lt1_MC1 (see GCBO)</span>
0409 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0410 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0411 
0412 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_MC1 as text</span>
0413 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_MC1 as a double</span>
0414 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0415 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0416 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>,delay);
0417 
0418 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0419 <a name="_sub20" href="#_subfunctions" class="code">function lt1_MC1_CreateFcn(hObject, eventdata, handles)</a>
0420 <span class="comment">% hObject    handle to lt1_MC1 (see GCBO)</span>
0421 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0422 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0423 
0424 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0425 <span class="comment">%       See ISPC and COMPUTER.</span>
0426 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0427     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0428 <span class="keyword">end</span>
0429 
0430 
0431 
0432 <a name="_sub21" href="#_subfunctions" class="code">function lt1_MC2_Callback(hObject, eventdata, handles)</a>
0433 <span class="comment">% hObject    handle to lt1_MC2 (see GCBO)</span>
0434 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0435 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0436 
0437 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_MC2 as text</span>
0438 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_MC2 as a double</span>
0439 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0440 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0441 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>,delay);
0442 
0443 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0444 <a name="_sub22" href="#_subfunctions" class="code">function lt1_MC2_CreateFcn(hObject, eventdata, handles)</a>
0445 <span class="comment">% hObject    handle to lt1_MC2 (see GCBO)</span>
0446 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0447 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0448 
0449 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0450 <span class="comment">%       See ISPC and COMPUTER.</span>
0451 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0452     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0453 <span class="keyword">end</span>
0454 
0455 
0456 
0457 <a name="_sub23" href="#_subfunctions" class="code">function lt1_osc_Callback(hObject, eventdata, handles)</a>
0458 <span class="comment">% hObject    handle to lt1_osc (see GCBO)</span>
0459 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0460 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0461 
0462 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_osc as text</span>
0463 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_osc as a double</span>
0464 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0465 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0466 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
0467 
0468 
0469 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0470 <a name="_sub24" href="#_subfunctions" class="code">function lt1_osc_CreateFcn(hObject, eventdata, handles)</a>
0471 <span class="comment">% hObject    handle to lt1_osc (see GCBO)</span>
0472 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0473 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0474 
0475 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0476 <span class="comment">%       See ISPC and COMPUTER.</span>
0477 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0478     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0479 <span class="keyword">end</span>
0480 
0481 
0482 
0483 <a name="_sub25" href="#_subfunctions" class="code">function sdc1_Callback(hObject, eventdata, handles)</a>
0484 <span class="comment">% hObject    handle to sdc1 (see GCBO)</span>
0485 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0486 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0487 
0488 <span class="comment">% Hints: get(hObject,'String') returns contents of sdc1 as text</span>
0489 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sdc1 as a double</span>
0490 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0491 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0492 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
0493 
0494 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0495 <a name="_sub26" href="#_subfunctions" class="code">function sdc1_CreateFcn(hObject, eventdata, handles)</a>
0496 <span class="comment">% hObject    handle to sdc1 (see GCBO)</span>
0497 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0498 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0499 
0500 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0501 <span class="comment">%       See ISPC and COMPUTER.</span>
0502 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0503     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0504 <span class="keyword">end</span>
0505 
0506 
0507 
0508 <a name="_sub27" href="#_subfunctions" class="code">function boo_inj_septum_Callback(hObject, eventdata, handles)</a>
0509 <span class="comment">% hObject    handle to boo_inj_septum (see GCBO)</span>
0510 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0511 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0512 
0513 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_inj_septum as text</span>
0514 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_inj_septum as a double</span>
0515 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0516 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0517 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
0518 
0519 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0520 <a name="_sub28" href="#_subfunctions" class="code">function boo_inj_septum_CreateFcn(hObject, eventdata, handles)</a>
0521 <span class="comment">% hObject    handle to boo_inj_septum (see GCBO)</span>
0522 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0523 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0524 
0525 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0526 <span class="comment">%       See ISPC and COMPUTER.</span>
0527 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0528     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0529 <span class="keyword">end</span>
0530 
0531 
0532 
0533 <a name="_sub29" href="#_subfunctions" class="code">function boo_inj_kicker_Callback(hObject, eventdata, handles)</a>
0534 <span class="comment">% hObject    handle to boo_inj_kicker (see GCBO)</span>
0535 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0536 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0537 
0538 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_inj_kicker as text</span>
0539 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_inj_kicker as a double</span>
0540 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0541 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0542 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
0543 
0544 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0545 <a name="_sub30" href="#_subfunctions" class="code">function boo_inj_kicker_CreateFcn(hObject, eventdata, handles)</a>
0546 <span class="comment">% hObject    handle to boo_inj_kicker (see GCBO)</span>
0547 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0548 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0549 
0550 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0551 <span class="comment">%       See ISPC and COMPUTER.</span>
0552 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0553     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0554 <span class="keyword">end</span>
0555 
0556 
0557 
0558 <a name="_sub31" href="#_subfunctions" class="code">function boo_bpm_Callback(hObject, eventdata, handles)</a>
0559 <span class="comment">% hObject    handle to boo_bpm (see GCBO)</span>
0560 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0561 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0562 
0563 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_bpm as text</span>
0564 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_bpm as a double</span>
0565 
0566 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0567 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0568 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>,delay);
0569 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigTimeDelay'</span>,delay);
0570 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigTimeDelay'</span>,delay);
0571 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigTimeDelay'</span>,delay);
0572 
0573 
0574 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0575 <a name="_sub32" href="#_subfunctions" class="code">function boo_bpm_CreateFcn(hObject, eventdata, handles)</a>
0576 <span class="comment">% hObject    handle to boo_bpm (see GCBO)</span>
0577 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0578 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0579 
0580 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0581 <span class="comment">%       See ISPC and COMPUTER.</span>
0582 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0583     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0584 <span class="keyword">end</span>
0585 
0586 
0587 
0588 <a name="_sub33" href="#_subfunctions" class="code">function boo_nod_Callback(hObject, eventdata, handles)</a>
0589 <span class="comment">% hObject    handle to boo_nod (see GCBO)</span>
0590 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0591 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0592 
0593 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_nod as text</span>
0594 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_nod as a double</span>
0595 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0596 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0597 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>,delay);
0598 
0599 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0600 <a name="_sub34" href="#_subfunctions" class="code">function boo_nod_CreateFcn(hObject, eventdata, handles)</a>
0601 <span class="comment">% hObject    handle to boo_nod (see GCBO)</span>
0602 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0603 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0604 
0605 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0606 <span class="comment">%       See ISPC and COMPUTER.</span>
0607 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0608     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0609 <span class="keyword">end</span>
0610 
0611 
0612 
0613 <a name="_sub35" href="#_subfunctions" class="code">function boo_dcct_Callback(hObject, eventdata, handles)</a>
0614 <span class="comment">% hObject    handle to boo_dcct (see GCBO)</span>
0615 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0616 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0617 
0618 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_dcct as text</span>
0619 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_dcct as a double</span>
0620 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0621 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0622 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>,delay);
0623 
0624 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0625 <a name="_sub36" href="#_subfunctions" class="code">function boo_dcct_CreateFcn(hObject, eventdata, handles)</a>
0626 <span class="comment">% hObject    handle to boo_dcct (see GCBO)</span>
0627 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0628 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0629 
0630 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0631 <span class="comment">%       See ISPC and COMPUTER.</span>
0632 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0633     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0634 <span class="keyword">end</span>
0635 
0636 
0637 
0638 <a name="_sub37" href="#_subfunctions" class="code">function lin_canon_spm_fin_Callback(hObject, eventdata, handles)</a>
0639 <span class="comment">% hObject    handle to lin_canon_spm_fin (see GCBO)</span>
0640 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0641 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0642 
0643 <span class="comment">% Hints: get(hObject,'String') returns contents of lin_canon_spm_fin as text</span>
0644 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lin_canon_spm_fin as a double</span>
0645 
0646 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0647 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
0648 lin_fin   =str2double(get(handles.lin_canon_spm_fin,<span class="string">'String'</span>));
0649 save(<span class="string">'/home/matlabML/applications/synchro/synchro_offset_lin'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>, <span class="string">'lin_fin'</span>);
0650 
0651 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0652 <a name="_sub38" href="#_subfunctions" class="code">function lin_canon_spm_fin_CreateFcn(hObject, eventdata, handles)</a>
0653 <span class="comment">% hObject    handle to lin_canon_spm_fin (see GCBO)</span>
0654 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0655 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0656 
0657 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0658 <span class="comment">%       See ISPC and COMPUTER.</span>
0659 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0660     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0661 <span class="keyword">end</span>
0662 
0663 
0664 
0665 <a name="_sub39" href="#_subfunctions" class="code">function central_pc_Callback(hObject, eventdata, handles)</a>
0666 <span class="comment">% hObject    handle to central_pc (see GCBO)</span>
0667 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0668 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0669 
0670 <span class="comment">% Hints: get(hObject,'String') returns contents of central_pc as text</span>
0671 <span class="comment">%        str2double(get(hObject,'String')) returns contents of central_pc as a double</span>
0672 
0673 delay=str2double(get(hObject,<span class="string">'String'</span>));
0674 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>,delay);
0675 
0676 <span class="comment">%status soft checked on linac</span>
0677 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>);
0678 <span class="keyword">if</span> (temp.value(1)==2)
0679    <span class="comment">%</span>
0680 <span class="keyword">elseif</span> (temp.value(1)==5)
0681     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
0682     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0683     dt1=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
0684     delay=dt.value(1)-dt1.value(1)+inj_offset;
0685     tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
0686     temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
0687     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
0688 <span class="keyword">end</span>
0689 
0690 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0691 <a name="_sub40" href="#_subfunctions" class="code">function central_pc_CreateFcn(hObject, eventdata, handles)</a>
0692 <span class="comment">% hObject    handle to central_pc (see GCBO)</span>
0693 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0694 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0695 
0696 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0697 <span class="comment">%       See ISPC and COMPUTER.</span>
0698 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0699     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0700 <span class="keyword">end</span>
0701 
0702 
0703 
0704 <a name="_sub41" href="#_subfunctions" class="code">function central_inj_Callback(hObject, eventdata, handles)</a>
0705 <span class="comment">% hObject    handle to central_inj (see GCBO)</span>
0706 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0707 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0708 
0709 <span class="comment">% Hints: get(hObject,'String') returns contents of central_inj as text</span>
0710 <span class="comment">%        str2double(get(hObject,'String')) returns contents of central_inj as a double</span>
0711 
0712 delay=str2double(get(hObject,<span class="string">'String'</span>));
0713 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>,delay);
0714 
0715 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0716 <a name="_sub42" href="#_subfunctions" class="code">function central_inj_CreateFcn(hObject, eventdata, handles)</a>
0717 <span class="comment">% hObject    handle to central_inj (see GCBO)</span>
0718 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0719 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0720 
0721 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0722 <span class="comment">%       See ISPC and COMPUTER.</span>
0723 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0724     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0725 <span class="keyword">end</span>
0726 
0727 
0728 
0729 
0730 <a name="_sub43" href="#_subfunctions" class="code">function central_soft_Callback(hObject, eventdata, handles)</a>
0731 <span class="comment">% hObject    handle to central_soft (see GCBO)</span>
0732 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0733 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0734 
0735 <span class="comment">% Hints: get(hObject,'String') returns contents of central_soft as text</span>
0736 <span class="comment">%        str2double(get(hObject,'String')) returns contents of central_soft as a double</span>
0737 
0738 delay=str2double(get(hObject,<span class="string">'String'</span>));
0739 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>,delay);
0740 
0741 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
0742 clkinj=int32(temp.value(1)+5*52);
0743 clkext=int32(temp.value(1)/52+10);
0744 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjStepDelay'</span>,clkinj);
0745 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>,clkext);
0746 
0747 <span class="comment">%status soft checked on linac</span>
0748 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>);
0749 <span class="keyword">if</span> (temp.value(1)==2)
0750    <span class="comment">%</span>
0751 <span class="keyword">elseif</span> (temp.value(1)==1)
0752     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
0753     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0754     dt1=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
0755     delay=dt.value(1)-dt1.value(1)+inj_offset;
0756     tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
0757     temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
0758     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
0759 <span class="keyword">end</span>
0760 
0761 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0762 <a name="_sub44" href="#_subfunctions" class="code">function central_soft_CreateFcn(hObject, eventdata, handles)</a>
0763 <span class="comment">% hObject    handle to central_soft (see GCBO)</span>
0764 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0765 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0766 
0767 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0768 <span class="comment">%       See ISPC and COMPUTER.</span>
0769 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0770     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0771 <span class="keyword">end</span>
0772 
0773 
0774 <span class="comment">% --- Executes on button press in button_acquisition_nooffset.</span>
0775 <a name="_sub45" href="#_subfunctions" class="code">function button_acquisition_nooffset_Callback(hObject, eventdata, handles)</a>
0776 <span class="comment">% hObject    handle to button_acquisition_nooffset (see GCBO)</span>
0777 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0778 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0779 
0780 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0781 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0782 set(handles.lin_canon_lpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0783 set(handles.lin_canon_spm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0784 set(handles.lin_canon_spm_fin,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0785 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0786 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0787 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0788 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0789 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0790 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0791 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0792 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0793 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0794 set(handles.boo_alim_dipole,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0795 set(handles.boo_alim_qf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0796 set(handles.boo_alim_qd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0797 set(handles.boo_alim_sf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0798 set(handles.boo_alim_sd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0799 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0800 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0801 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0802 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0803 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0804 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0805 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0806 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0807 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0808 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0809 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0810 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0811 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0812 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0813 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0814 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0815 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0816 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0817 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0818 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0819 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0820 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0821 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0822 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0823 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0824 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0825 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0826 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0827 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0828 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0829 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0830 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0831 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0832 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0833 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0834 
0835 
0836 n=1;
0837 
0838 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
0839 set(handles.central_pc,<span class="string">'String'</span>,num2str(temp.value(n)));
0840 
0841 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
0842 set(handles.central_inj,<span class="string">'String'</span>,num2str(temp.value(n)));
0843 
0844 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
0845 set(handles.central_soft,<span class="string">'String'</span>,num2str(temp.value(n)));
0846 
0847 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
0848 set(handles.central_ext,<span class="string">'String'</span>,num2str(temp.value(n)));
0849 
0850 
0851 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>);
0852 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)));
0853 
0854 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmTimeDelay'</span>);
0855 set(handles.lin_canon_lpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0856 
0857 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacTimeDelay'</span>);
0858 set(handles.lin_canon_spm,<span class="string">'String'</span>,num2str(temp.value(n)));
0859 
0860 
0861 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>);
0862 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0863 
0864 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>);
0865 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
0866 
0867 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>);
0868 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)));
0869 
0870 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>);
0871 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)));
0872 
0873 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>);
0874 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
0875 
0876 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>);
0877 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
0878 
0879 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>);
0880 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)));
0881 
0882 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
0883 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)));
0884 
0885 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
0886 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
0887 
0888 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTimeDelay'</span>);
0889 set(handles.boo_alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
0890 
0891 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTimeDelay'</span>);
0892 set(handles.boo_alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
0893 
0894 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTimeDelay'</span>);
0895 set(handles.boo_alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
0896 
0897 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTimeDelay'</span>);
0898 set(handles.boo_alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
0899 
0900 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTimeDelay'</span>);
0901 set(handles.boo_alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
0902 
0903 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTimeDelay'</span>);
0904 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
0905 
0906 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
0907 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)));
0908 
0909 
0910 
0911 
0912 
0913 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>);
0914 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)));
0915 
0916 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
0917 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
0918 
0919 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
0920 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
0921 
0922 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
0923 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
0924 
0925 
0926 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>);
0927 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)));
0928 
0929 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>);
0930 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
0931 
0932 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>);
0933 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
0934 
0935 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0936 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0937 
0938 
0939 
0940 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>);
0941 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)));
0942 
0943 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>);
0944 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)));
0945 
0946 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>);
0947 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)));
0948 
0949 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>);
0950 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)));
0951 
0952 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
0953 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
0954 
0955 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
0956 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
0957 
0958 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTimeDelay'</span>);
0959 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
0960 
0961 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0962 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0963 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)));
0964 
0965 
0966 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0967 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)));
0968 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0969 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)));
0970 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0971 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)));
0972 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0973 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)));
0974 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0975 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)));
0976 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0977 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)));
0978 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0979 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)));
0980 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0981 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)));
0982 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0983 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)));
0984 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0985 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)));
0986 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0987 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)));
0988 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0989 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)));
0990 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0991 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)));
0992 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0993 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)));
0994 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0995 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)));
0996 
0997 
0998 
0999 <span class="comment">%status soft checked on linac</span>
1000 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>);
1001 <span class="keyword">if</span> (temp.value(n)==2)
1002     <span class="comment">%set(handles.soft_button,'Value',0);</span>
1003 <span class="keyword">elseif</span> (temp.value(n)==5)
1004     <span class="comment">%set(handles.soft_button,'Value',1);</span>
1005 <span class="keyword">end</span>
1006 
1007 <span class="comment">%status tables</span>
1008 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>);
1009 offset=temp.value(1)*52;
1010 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TablesCurrentDepth'</span>);
1011 n=temp.value;
1012 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionDelayTable'</span>);
1013 table=temp.value(1:n)-offset;
1014 set(handles.edit_filling_relecture_tables,<span class="string">'String'</span>,[<span class="string">'T='</span> , num2str(table)]);  
1015 
1016 
1017 
1018 <span class="comment">% --- Executes on button press in button_acquisition_delay.</span>
1019 <a name="_sub46" href="#_subfunctions" class="code">function button_acquisition_delay_Callback(hObject, eventdata, handles)</a>
1020 <span class="comment">% hObject    handle to button_acquisition_delay (see GCBO)</span>
1021 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1022 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1023 
1024 
1025 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1026 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1027 set(handles.lin_canon_lpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1028 set(handles.lin_canon_spm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1029 set(handles.lin_canon_spm_fin,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1030 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1031 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1032 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1033 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1034 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1035 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1036 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1037 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1038 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1039 set(handles.boo_alim_dipole,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1040 set(handles.boo_alim_qf,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1041 set(handles.boo_alim_qd,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1042 set(handles.boo_alim_sf,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1043 set(handles.boo_alim_sd,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1044 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1045 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1046 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1047 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1048 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1049 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1050 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1051 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1052 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1053 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1054 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1055 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1056 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1057 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1058 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1059 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1060 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1061 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1062 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1063 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1064 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1065 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1066 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1067 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1068 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1069 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1070 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1071 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1072 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1073 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1074 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1075 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1076 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1077 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1078 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1079 
1080 load(<span class="string">'home/matlabML/applications/synchro/synchro_offset_lin'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>, <span class="string">'lin_fin'</span>);
1081 set(handles.inj_offset,<span class="string">'String'</span>,num2str(inj_offset));
1082 set(handles.ext_offset,<span class="string">'String'</span>,num2str(ext_offset));
1083 set(handles.lin_canon_spm_fin,<span class="string">'String'</span>,num2str(lin_fin));
1084 
1085 n=1;
1086 
1087 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
1088 set(handles.central_pc,<span class="string">'String'</span>,num2str(temp.value(n)));
1089 
1090 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1091 set(handles.central_inj,<span class="string">'String'</span>,num2str(temp.value(n)));
1092 
1093 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1094 set(handles.central_soft,<span class="string">'String'</span>,num2str(temp.value(n)));
1095 set(handles.central_soft1,<span class="string">'String'</span>,num2str(temp.value(n)));
1096 
1097 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
1098 set(handles.central_ext,<span class="string">'String'</span>,num2str(temp.value(n)));
1099 
1100 
1101 
1102 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
1103 
1104 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>);
1105 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1106 
1107 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmTimeDelay'</span>);
1108 set(handles.lin_canon_lpm,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1109 
1110 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacTimeDelay'</span>);
1111 set(handles.lin_canon_spm,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1112 
1113 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>);
1114 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1115 
1116 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>);
1117 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1118 
1119 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>);
1120 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1121 
1122 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>);
1123 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1124 
1125 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>);
1126 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1127 
1128 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>);
1129 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1130 
1131 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>);
1132 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1133 
1134 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
1135 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1136 
1137 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
1138 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1139 
1140 
1141 
1142 
1143 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTimeDelay'</span>);
1144 set(handles.boo_alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
1145 
1146 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTimeDelay'</span>);
1147 set(handles.boo_alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
1148 
1149 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTimeDelay'</span>);
1150 set(handles.boo_alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
1151 
1152 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTimeDelay'</span>);
1153 set(handles.boo_alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
1154 
1155 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTimeDelay'</span>);
1156 set(handles.boo_alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
1157 
1158 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTimeDelay'</span>);
1159 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
1160 
1161 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
1162 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1163 
1164 
1165 
1166 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1167 
1168 
1169 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>);
1170 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1171 
1172 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
1173 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1174 
1175 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
1176 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1177 
1178 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
1179 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1180 
1181 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1182 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1183 
1184 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>);
1185 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1186 
1187 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>);
1188 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1189 
1190 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1191 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1192 
1193 
1194 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>);
1195 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1196 
1197 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>);
1198 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1199 
1200 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>);
1201 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1202 
1203 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>);
1204 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1205 
1206 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
1207 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1208 
1209 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
1210 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1211 
1212 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTimeDelay'</span>);
1213 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1214 
1215 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1216 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1217 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1218 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1219 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1220 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1221 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1222 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1223 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1224 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1225 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1226 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1227 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1228 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1229 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1230 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1231 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1232 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1233 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1234 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1235 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1236 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1237 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1238 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1239 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1240 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1241 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1242 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1243 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1244 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1245 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1246 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1247 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1248 
1249 <span class="comment">%status soft checked on linac</span>
1250 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>);
1251 <span class="keyword">if</span> (temp.value(n)==2)
1252     <span class="comment">%set(handles.soft_button,'Value',0);</span>
1253 <span class="keyword">elseif</span> (temp.value(n)==5)
1254     <span class="comment">%set(handles.uipanel_mode,'String','Mode Soft');</span>
1255 <span class="keyword">end</span>
1256 
1257 <span class="comment">%status tables</span>
1258 <span class="comment">%temp=tango_read_attribute('ANS/SY/CENTRAL', 'ExtractionOffsetClkStepValue');</span>
1259 <span class="comment">%offset=temp.value(1)*52;</span>
1260 offset_linac=10*lin_fin;
1261 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TablesCurrentDepth'</span>);
1262 n=temp.value;
1263 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionDelayTable'</span>);
1264 table_ext=temp.value(1:n); <span class="comment">%-offset_ext;</span>
1265 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'LinacDelayTable'</span>);
1266 table_linac=(temp.value(1:n)-offset_linac)/28;
1267 table=[];
1268 <span class="keyword">for</span> i=1:n
1269     table=[table <span class="string">' '</span> <span class="string">'('</span> num2str([table_ext(i)])  <span class="string">' '</span>  num2str([table_linac(i)]) <span class="string">')'</span>];
1270 <span class="keyword">end</span>
1271 set(handles.edit_filling_relecture_tables,<span class="string">'String'</span>,[num2str(table)]);
1272 set(handles.edit_filling_relecture_bunch, <span class="string">'String'</span>,<span class="string">'??'</span>);
1273 
1274 
1275 
1276 <span class="comment">% --- Executes on button press in button_injection_soft.</span>
1277 <a name="_sub47" href="#_subfunctions" class="code">function button_injection_soft_Callback(hObject, eventdata, handles)</a>
1278 <span class="comment">% hObject    handle to button_injection_soft (see GCBO)</span>
1279 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1280 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1281 
1282 set(handles.button_injection_soft,<span class="string">'Enable'</span>,<span class="string">'Off'</span>)
1283 offset_linac=10*str2double(get(handles.lin_canon_spm_fin,<span class="string">'String'</span>));<span class="comment">% délai fin de réglage en pas de 100 ps</span>
1284 modeinj=get(get(handles.uipanel_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);      <span class="comment">% mode soft ou 3Hz</span>
1285 modefill=get(handles.listbox_fillingmode,<span class="string">'Value'</span>);                  <span class="comment">% mode de remplissage</span>
1286 [clk1,clk2]=<a href="get_start_clk.html" class="code" title="function [clk1,clk2]=get_start_clk">get_start_clk</a>;                                          <span class="comment">% get clk pc et soft initiaux</span>
1287 table=handles.table;                                                 <span class="comment">% table de délais</span>
1288 load <span class="string">'/home/matlabML/applications/synchro/table.mat'</span> <span class="string">'table'</span>;     <span class="comment">% pour palier aux handles via timer non mis à jour !!!!!!</span>
1289 nb=table(1) ;                                                        <span class="comment">% Nombre de paq</span>
1290 dtour=table(2:1+nb);                                                 <span class="comment">% delais associés extraction, tour booster</span>
1291 paq  =table(2+nb:1+2*nb);                                           <span class="comment">% delais associés linac, saut de paquets</span>
1292 
1293 
1294 
1295 dt=1.5; <span class="comment">% délais pour acquisitions rendements</span>
1296 <span class="comment">%Inialise data pour les rendements</span>
1297 temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur0=temp.value;
1298 q1=0;q2=0;n=0;
1299 
1300 
1301 <span class="keyword">if</span> strcmp(modeinj,<span class="string">'togglebutton_soft'</span>)
1302     boucle=int16(str2double(get(handles.edit_Nshot_soft,<span class="string">'String'</span>)));  
1303     modeinj=<span class="string">'Injection soft'</span>;
1304     <span class="keyword">for</span> k=1:boucle
1305         <span class="keyword">for</span> i=1:nb
1306             clk_pc  =int32(clk1+dtour(i));
1307             clk_soft=int32(clk2+dtour(i));
1308             table0=int32([1 0 paq(i)]);
1309             tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'SetTables'</span>,table0); pause(0.2)  ;  
1310             tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>,clk_pc);
1311             tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>,clk_soft);
1312             tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'FireSoftEvent'</span>);
1313             pause(dt)
1314             [q1,q2,n]=<a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>(q1,q2,n);
1315             
1316             fprintf(<span class="string">'%g  %g  %g\n'</span>,i,clk_pc, paq(i))
1317             
1318         <span class="keyword">end</span>
1319     <span class="keyword">end</span>    
1320     
1321     <span class="comment">% retour déalis initiaux</span>
1322     tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>,clk1);
1323     tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>,clk2);
1324     
1325     <span class="comment">% Calcul des rendements</span>
1326     pause(1);
1327     temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur=temp.value;
1328     dcur=anscur-anscur0;
1329     r1=0;<span class="keyword">if</span> (q1~=0);r1=q2/q1*100;<span class="keyword">end</span>
1330     r2=0;<span class="keyword">if</span> (q2~=0);r2=dcur/q2*0.524*416/184*100;<span class="keyword">end</span>
1331     <span class="keyword">if</span>(r1&lt;0);r1=0;<span class="keyword">elseif</span>(r1&gt;100);r1=100;<span class="keyword">end</span>
1332     <span class="keyword">if</span>(r2&lt;0);r2=0;<span class="keyword">elseif</span>(r2&gt;100);r2=100;<span class="keyword">end</span>
1333     q1=q1/n;q2=q2/n;  
1334 
1335     set(handles.edit_qlt1,<span class="string">'String'</span>,num2str(q1,<span class="string">'%5.2f'</span>));
1336     set(handles.edit_iboo,<span class="string">'String'</span>,num2str(q2/0.524,<span class="string">'%5.2f'</span>));
1337     set(handles.edit_dians,<span class="string">'String'</span>,num2str(dcur/n,<span class="string">'%5.2f'</span>));
1338     set(handles.edit_rboo,<span class="string">'String'</span>,num2str(int16(r1)));
1339     set(handles.edit_rans,<span class="string">'String'</span>,num2str(int16(r2)));
1340     set(handles.edit_cycle,<span class="string">'String'</span>,num2str(n,<span class="string">'%g'</span>));
1341     set(handles.edit_dians1,<span class="string">'String'</span>,num2str(dcur,<span class="string">'%5.2f'</span>));
1342     set(handles.edit_courant_total,<span class="string">'String'</span>, num2str(anscur,<span class="string">'%5.2f'</span>));
1343     
1344     temp=tango_read_attribute2(<span class="string">'ANS/DG/BPM-tunex'</span>,<span class="string">'Nu'</span>); nux=temp.value;
1345     temp=tango_read_attribute2(<span class="string">'ANS/DG/BPM-tunez'</span>,<span class="string">'Nu'</span>); nuz=temp.value;
1346     temp=tango_read_attribute2(<span class="string">'ANS-C03/RF/lle.1'</span>,<span class="string">'voltageRF'</span>);v1=temp.value(2);
1347     temp=tango_read_attribute2(<span class="string">'ANS-C03/RF/lle.2'</span>,<span class="string">'voltageRF'</span>);v2=temp.value(2);
1348     vrf=(v1+v2)/1000;
1349 
1350     fprintf(<span class="string">'%s   %s  Remplissage = %d     Rendements=%5.2f %5.2f    Tunes=%5.2f %5.2f    Vrf=%5.2f \n'</span>,datestr(clock),modeinj,modefill,r1,r2, nux,nuz,vrf);
1351     
1352     
1353 <span class="keyword">elseif</span> strcmp(modeinj,<span class="string">'togglebutton_3Hz'</span>)
1354     
1355     modelinac=get(get(handles.uipanel_lpm_spm_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
1356     <span class="keyword">switch</span> modelinac  <span class="comment">% Get Tag of selected object</span>
1357         <span class="keyword">case</span> <span class="string">'no_mode'</span>
1358             event=[0 0];
1359         <span class="keyword">case</span> <span class="string">'lpm_mode'</span>
1360             event=[2 0];
1361         <span class="keyword">case</span> <span class="string">'spm_mode'</span>
1362             event=[0 2];
1363     <span class="keyword">end</span>
1364     
1365     modeinj=<span class="string">'Injection 3 Hz'</span>;
1366     laps=str2double(get(handles.edit_laps,<span class="string">'String'</span>));
1367     fprintf(<span class="string">'%s   %s  Remplissage = %d\n'</span>,datestr(clock),modeinj,modefill);
1368     <a href="start_3Hz.html" class="code" title="function start_3Hz(event)">start_3Hz</a>(event)
1369     pause(laps)
1370     <a href="stop_3Hz.html" class="code" title="function stop_3Hz">stop_3Hz</a>
1371     
1372     pause(1);
1373     [q1,q2,n]=<a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>(q1,q2,n);
1374     temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur=temp.value;
1375     dcur=anscur-anscur0;
1376     n=int16(laps/0.340);
1377     r1=0;<span class="keyword">if</span> (q1~=0);r1=int16(q2/q1*100);<span class="keyword">end</span>
1378     r2=0;<span class="keyword">if</span> (q2~=0);r2=int16(dcur/n/q2*0.524*416/184*100);<span class="keyword">end</span>
1379     <span class="keyword">if</span>(r1&lt;0);r1=0;<span class="keyword">elseif</span>(r1&gt;100);r1=100;<span class="keyword">end</span>
1380     <span class="keyword">if</span>(r2&lt;0);r2=0;<span class="keyword">elseif</span>(r2&gt;100);r2=100;<span class="keyword">end</span>
1381     
1382     set(handles.edit_qlt1,<span class="string">'String'</span>,num2str(q1,<span class="string">'%5.2f'</span>));
1383     set(handles.edit_iboo,<span class="string">'String'</span>,num2str(q2/0.524,<span class="string">'%5.2f'</span>));
1384     set(handles.edit_dians,<span class="string">'String'</span>,num2str(dcur/n,<span class="string">'%5.2f'</span>));
1385     set(handles.edit_rboo,<span class="string">'String'</span>,num2str(r1));
1386     set(handles.edit_rans,<span class="string">'String'</span>,num2str(r2));
1387     set(handles.edit_cycle,<span class="string">'String'</span>,num2str(n,<span class="string">'%g'</span>));
1388     set(handles.edit_dians1,<span class="string">'String'</span>,num2str(dcur,<span class="string">'%5.2f'</span>));
1389     set(handles.edit_courant_total,<span class="string">'String'</span>, num2str(anscur,<span class="string">'%5.2f'</span>));
1390 
1391 <span class="keyword">end</span>
1392 
1393 
1394 
1395 set(handles.button_injection_soft,<span class="string">'Enable'</span>,<span class="string">'On'</span>);
1396 
1397 
1398 <a name="_sub48" href="#_subfunctions" class="code">function periode_edit_Callback(hObject, eventdata, handles)</a>
1399 <span class="comment">% hObject    handle to periode_edit (see GCBO)</span>
1400 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1401 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1402 
1403 <span class="comment">% Hints: get(hObject,'String') returns contents of periode_edit as text</span>
1404 <span class="comment">%        str2double(get(hObject,'String')) returns contents of periode_edit as a double</span>
1405 
1406 val_multishot = get(handles.on1,<span class="string">'Value'</span>);
1407 
1408 <span class="keyword">if</span> val_multishot
1409     errordlg(<span class="string">'positionner le trigger a OFF !'</span>,<span class="string">'Attention'</span>);
1410     <span class="keyword">return</span>
1411 <span class="keyword">else</span>
1412     handles.periode = str2double(get(hObject,<span class="string">'String'</span>));
1413 
1414     <span class="comment">% change timer Infinite loop</span>
1415     timer1=timer(<span class="string">'StartDelay'</span>,1,<span class="keyword">...</span>
1416         <span class="string">'ExecutionMode'</span>,<span class="string">'fixedRate'</span>,<span class="string">'Period'</span>,handles.periode,<span class="string">'TasksToExecute'</span>,Inf);
1417     timer1.TimerFcn = {@fonction_alex, hObject,eventdata, handles};
1418     setappdata(handles.figure1,<span class="string">'Timer'</span>,timer1);
1419 
1420     <span class="comment">% Update handles structure</span>
1421     guidata(hObject, handles);
1422 <span class="keyword">end</span>
1423 
1424 
1425 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1426 <a name="_sub49" href="#_subfunctions" class="code">function periode_edit_CreateFcn(hObject, eventdata, handles)</a>
1427 <span class="comment">% hObject    handle to periode_edit (see GCBO)</span>
1428 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1429 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1430 
1431 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1432 <span class="comment">%       See ISPC and COMPUTER.</span>
1433 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1434     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1435 <span class="keyword">end</span>
1436 
1437 <a name="_sub50" href="#_subfunctions" class="code">function uibuttongroup_SelectionChangeFcn(hObject,eventdata,handles)</a>
1438 <span class="comment">% hObject    handle to uipanel1 (see GCBO)</span>
1439 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1440 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1441 
1442 <span class="comment">%handles = guidata(gcbo);</span>
1443 timer1 = getappdata(handles.figure1,<span class="string">'Timer1'</span>);
1444 timer2 = getappdata(handles.figure1,<span class="string">'Timer2'</span>);
1445 
1446 <span class="keyword">switch</span> get(get(hObject,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>)  <span class="comment">% Get Tag of selected object</span>
1447     <span class="keyword">case</span> <span class="string">'radiobutton1'</span>
1448         <span class="comment">% stop du trigger</span>
1449         stop(timer1);
1450         stop(timer2);
1451     <span class="keyword">case</span> <span class="string">'radiobutton2'</span>
1452         <span class="comment">% démarrage  du trigger 1</span>
1453         start(timer1);
1454     <span class="keyword">case</span> <span class="string">'radiobutton3'</span>
1455         <span class="comment">% démarrage du trigger 2</span>
1456         temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur=temp.value;
1457         <span class="keyword">if</span> (anscur&gt;1.) 
1458            start(timer2);      
1459         <span class="keyword">else</span>
1460             <span class="comment">% ne fait rien, en cas de perte faisceau</span>
1461         <span class="keyword">end</span>  
1462 <span class="keyword">end</span>
1463 
1464 
1465 <a name="_sub51" href="#_subfunctions" class="code">function fonction_alex1(arg1,arg2,hObject,eventdata,handles)</a>
1466 <span class="comment">% hObject    handle to uipanel1 (see GCBO)</span>
1467 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1468 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1469 
1470 <a href="#_sub47" class="code" title="subfunction button_injection_soft_Callback(hObject, eventdata, handles)">button_injection_soft_Callback</a>(hObject,eventdata,handles)
1471 
1472 
1473 <a name="_sub52" href="#_subfunctions" class="code">function fonction_alex2(arg1,arg2,hObject,eventdata,handles)</a>
1474 <span class="comment">% hObject    handle to uipanel1 (see GCBO)</span>
1475 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1476 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1477 
1478 
1479 temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur=temp.value;
1480 set(handles.edit_courant_total,<span class="string">'String'</span>, num2str(anscur,<span class="string">'%5.2f'</span>));
1481 Imin=str2double(get(handles.edit_Imin,<span class="string">'String'</span>));
1482 
1483 
1484 <span class="keyword">if</span>     (anscur&gt;Imin)
1485    <span class="comment">% on attend</span>
1486    <span class="comment">%fprintf('Cur = %g \n',anscur)</span>
1487 <span class="keyword">else</span>
1488   <span class="comment">% inject le cycle en cours</span>
1489   <span class="comment">%fprintf('Cur = %g : Injection \n',anscur)</span>
1490   <a href="#_sub47" class="code" title="subfunction button_injection_soft_Callback(hObject, eventdata, handles)">button_injection_soft_Callback</a>(hObject, eventdata, handles)
1491 <span class="keyword">end</span>   
1492 
1493 
1494 
1495 <span class="comment">%% What to do before closing the application</span>
1496 <a name="_sub53" href="#_subfunctions" class="code">function Closinggui(obj, event, handles, figure1)</a>
1497 
1498 <span class="comment">% Get default command line output from handles structure</span>
1499 answer = questdlg(<span class="string">'Fermer softsynchro ?'</span>,<span class="keyword">...</span>
1500     <span class="string">'Exit softsynchro'</span>,<span class="keyword">...</span>
1501     <span class="string">'Yes'</span>,<span class="string">'No'</span>,<span class="string">'Yes'</span>);
1502 
1503 <span class="keyword">switch</span> answer
1504     <span class="keyword">case</span> <span class="string">'Yes'</span>           
1505         delete(handles); <span class="comment">%Delete Timer</span>
1506         delete(figure1); <span class="comment">%Close gui</span>
1507     <span class="keyword">otherwise</span>
1508         disp(<span class="string">'Closing aborted'</span>)
1509 <span class="keyword">end</span>
1510 
1511 
1512 
1513 <span class="comment">% --- Executes on button press in button_softmoins.</span>
1514 <a name="_sub54" href="#_subfunctions" class="code">function button_softmoins_Callback(hObject, eventdata, handles)</a>
1515 <span class="comment">% hObject    handle to button_softmoins (see GCBO)</span>
1516 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1517 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1518 
1519 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1520 <a href="step.html" class="code" title="">step</a>=temp.value(1)-51*0.52243;
1521 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1522 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1523 set(handles.central_soft,<span class="string">'String'</span>,num2str(temp.value(1)));
1524 
1525 <span class="comment">% decale adress inj et extract d'une super-periode</span>
1526 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
1527 clkinj=int32(temp.value(1)+5*52);
1528 clkext=int32(temp.value(1)/52+10);
1529 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjStepDelay'</span>,clkinj);
1530 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>,clkext);
1531 
1532 <span class="comment">%status soft checked on linac</span>
1533 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>);
1534 <span class="keyword">if</span> (temp.value(1)==2)
1535    <span class="comment">%</span>
1536 <span class="keyword">elseif</span> (temp.value(1)==1)
1537     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1538     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
1539     dt1=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
1540     delay=dt.value(1)-dt1.value(1)+inj_offset;
1541     tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
1542     temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
1543     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
1544 <span class="keyword">end</span>
1545 
1546 
1547 <span class="comment">% --- Executes on button press in button_softplus.</span>
1548 <a name="_sub55" href="#_subfunctions" class="code">function button_softplus_Callback(hObject, eventdata, handles)</a>
1549 <span class="comment">% hObject    handle to button_softplus (see GCBO)</span>
1550 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1551 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1552 
1553 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1554 <a href="step.html" class="code" title="">step</a>=temp.value(1)+52*0.52243;
1555 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1556 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1557 set(handles.central_soft,<span class="string">'String'</span>,num2str(temp.value(1)));
1558 
1559 <span class="comment">% dcale adress inj et extract d'une super-periode</span>
1560 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
1561 clkinj=int32(temp.value(1)+5*52);
1562 clkext=int32(temp.value(1)/52+10);
1563 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjStepDelay'</span>,clkinj);
1564 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>,clkext);
1565 
1566 <span class="comment">%status soft checked on linac</span>
1567 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>);
1568 <span class="keyword">if</span> (temp.value(1)==2)
1569    <span class="comment">%</span>
1570 <span class="keyword">elseif</span> (temp.value(1)==1)
1571     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1572     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
1573     dt1=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
1574     delay=dt.value(1)-dt1.value(1)+inj_offset;
1575     tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
1576     temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
1577     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
1578 <span class="keyword">end</span>
1579 
1580 
1581 <span class="comment">% --- Executes on button press in button_injmoins.</span>
1582 <a name="_sub56" href="#_subfunctions" class="code">function button_injmoins_Callback(hObject, eventdata, handles)</a>
1583 <span class="comment">% hObject    handle to button_injmoins (see GCBO)</span>
1584 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1585 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1586 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1587 <a href="step.html" class="code" title="">step</a>=temp.value(1)-51*0.52243;
1588 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1589 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1590 set(handles.central_inj,<span class="string">'String'</span>,num2str(temp.value(1)));
1591 
1592 
1593 
1594 <span class="comment">% --- Executes on button press in button_injplus.</span>
1595 <a name="_sub57" href="#_subfunctions" class="code">function button_injplus_Callback(hObject, eventdata, handles)</a>
1596 <span class="comment">% hObject    handle to button_injplus (see GCBO)</span>
1597 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1598 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1599 
1600 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1601 <a href="step.html" class="code" title="">step</a>=temp.value(1)+52*0.52243;
1602 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1603 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1604 set(handles.central_inj,<span class="string">'String'</span>,num2str(temp.value(1)));
1605 
1606 
1607 
1608 <a name="_sub58" href="#_subfunctions" class="code">function boo_ext_dof_Callback(hObject, eventdata, handles)</a>
1609 <span class="comment">% hObject    handle to boo_ext_dof (see GCBO)</span>
1610 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1611 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1612 
1613 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_dof as text</span>
1614 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_dof as a double</span>
1615 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1616 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1617 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>,delay);
1618 
1619 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1620 <a name="_sub59" href="#_subfunctions" class="code">function boo_ext_dof_CreateFcn(hObject, eventdata, handles)</a>
1621 <span class="comment">% hObject    handle to boo_ext_dof (see GCBO)</span>
1622 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1623 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1624 
1625 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1626 <span class="comment">%       See ISPC and COMPUTER.</span>
1627 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1628     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1629 <span class="keyword">end</span>
1630 
1631 
1632 
1633 <a name="_sub60" href="#_subfunctions" class="code">function boo_ext_sept_p_Callback(hObject, eventdata, handles)</a>
1634 <span class="comment">% hObject    handle to boo_ext_sept_p (see GCBO)</span>
1635 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1636 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1637 
1638 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_sept_p as text</span>
1639 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_sept_p as a double</span>
1640 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1641 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1642 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
1643 
1644 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1645 <a name="_sub61" href="#_subfunctions" class="code">function boo_ext_sept_p_CreateFcn(hObject, eventdata, handles)</a>
1646 <span class="comment">% hObject    handle to boo_ext_sept_p (see GCBO)</span>
1647 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1648 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1649 
1650 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1651 <span class="comment">%       See ISPC and COMPUTER.</span>
1652 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1653     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1654 <span class="keyword">end</span>
1655 
1656 
1657 
1658 <a name="_sub62" href="#_subfunctions" class="code">function boo_ext_sept_a_Callback(hObject, eventdata, handles)</a>
1659 <span class="comment">% hObject    handle to boo_ext_sept_a (see GCBO)</span>
1660 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1661 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1662 
1663 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_sept_a as text</span>
1664 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_sept_a as a double</span>
1665 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1666 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1667 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
1668 
1669 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1670 <a name="_sub63" href="#_subfunctions" class="code">function boo_ext_sept_a_CreateFcn(hObject, eventdata, handles)</a>
1671 <span class="comment">% hObject    handle to boo_ext_sept_a (see GCBO)</span>
1672 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1673 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1674 
1675 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1676 <span class="comment">%       See ISPC and COMPUTER.</span>
1677 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1678     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1679 <span class="keyword">end</span>
1680 
1681 
1682 
1683 <a name="_sub64" href="#_subfunctions" class="code">function boo_ext_kicker_Callback(hObject, eventdata, handles)</a>
1684 <span class="comment">% hObject    handle to boo_ext_kicker (see GCBO)</span>
1685 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1686 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1687 
1688 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_kicker as text</span>
1689 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_kicker as a double</span>
1690 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1691 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1692 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
1693 
1694 
1695 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1696 <a name="_sub65" href="#_subfunctions" class="code">function boo_ext_kicker_CreateFcn(hObject, eventdata, handles)</a>
1697 <span class="comment">% hObject    handle to boo_ext_kicker (see GCBO)</span>
1698 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1699 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1700 
1701 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1702 <span class="comment">%       See ISPC and COMPUTER.</span>
1703 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1704     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1705 <span class="keyword">end</span>
1706 
1707 
1708 
1709 <a name="_sub66" href="#_subfunctions" class="code">function ans_inj_sept_p_Callback(hObject, eventdata, handles)</a>
1710 <span class="comment">% hObject    handle to ans_inj_sept_p (see GCBO)</span>
1711 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1712 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1713 
1714 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_sept_p as text</span>
1715 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_sept_p as a double</span>
1716 
1717 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1718 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1719 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
1720 
1721 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1722 <a name="_sub67" href="#_subfunctions" class="code">function ans_inj_sept_p_CreateFcn(hObject, eventdata, handles)</a>
1723 <span class="comment">% hObject    handle to ans_inj_sept_p (see GCBO)</span>
1724 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1725 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1726 
1727 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1728 <span class="comment">%       See ISPC and COMPUTER.</span>
1729 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1730     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1731 <span class="keyword">end</span>
1732 
1733 
1734 
1735 <a name="_sub68" href="#_subfunctions" class="code">function ans_inj_sept_a_Callback(hObject, eventdata, handles)</a>
1736 <span class="comment">% hObject    handle to ans_inj_sept_a (see GCBO)</span>
1737 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1738 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1739 
1740 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_sept_a as text</span>
1741 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_sept_a as a double</span>
1742 
1743 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1744 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1745 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
1746 
1747 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1748 <a name="_sub69" href="#_subfunctions" class="code">function ans_inj_sept_a_CreateFcn(hObject, eventdata, handles)</a>
1749 <span class="comment">% hObject    handle to ans_inj_sept_a (see GCBO)</span>
1750 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1751 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1752 
1753 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1754 <span class="comment">%       See ISPC and COMPUTER.</span>
1755 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1756     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1757 <span class="keyword">end</span>
1758 
1759 
1760 
1761 <a name="_sub70" href="#_subfunctions" class="code">function ans_inj_k1_Callback(hObject, eventdata, handles)</a>
1762 <span class="comment">% hObject    handle to ans_inj_k1 (see GCBO)</span>
1763 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1764 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1765 
1766 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k1 as text</span>
1767 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k1 as a double</span>
1768 
1769 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1770 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1771 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>,delay);
1772 
1773 
1774 
1775 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1776 <a name="_sub71" href="#_subfunctions" class="code">function ans_inj_k1_CreateFcn(hObject, eventdata, handles)</a>
1777 <span class="comment">% hObject    handle to ans_inj_k1 (see GCBO)</span>
1778 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1779 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1780 
1781 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1782 <span class="comment">%       See ISPC and COMPUTER.</span>
1783 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1784     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1785 <span class="keyword">end</span>
1786 
1787 
1788 
1789 <a name="_sub72" href="#_subfunctions" class="code">function ans_inj_k2_Callback(hObject, eventdata, handles)</a>
1790 <span class="comment">% hObject    handle to ans_inj_k2 (see GCBO)</span>
1791 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1792 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1793 
1794 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k2 as text</span>
1795 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k2 as a double</span>
1796 
1797 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1798 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1799 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>,delay);
1800 
1801 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1802 <a name="_sub73" href="#_subfunctions" class="code">function ans_inj_k2_CreateFcn(hObject, eventdata, handles)</a>
1803 <span class="comment">% hObject    handle to ans_inj_k2 (see GCBO)</span>
1804 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1805 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1806 
1807 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1808 <span class="comment">%       See ISPC and COMPUTER.</span>
1809 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1810     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1811 <span class="keyword">end</span>
1812 
1813 
1814 
1815 <a name="_sub74" href="#_subfunctions" class="code">function ans_inj_k3_Callback(hObject, eventdata, handles)</a>
1816 <span class="comment">% hObject    handle to ans_inj_k3 (see GCBO)</span>
1817 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1818 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1819 
1820 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k3 as text</span>
1821 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k3 as a double</span>
1822 
1823 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1824 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1825 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>,delay);
1826 
1827 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1828 <a name="_sub75" href="#_subfunctions" class="code">function ans_inj_k3_CreateFcn(hObject, eventdata, handles)</a>
1829 <span class="comment">% hObject    handle to ans_inj_k3 (see GCBO)</span>
1830 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1831 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1832 
1833 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1834 <span class="comment">%       See ISPC and COMPUTER.</span>
1835 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1836     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1837 <span class="keyword">end</span>
1838 
1839 
1840 
1841 <a name="_sub76" href="#_subfunctions" class="code">function ans_inj_k4_Callback(hObject, eventdata, handles)</a>
1842 <span class="comment">% hObject    handle to ans_inj_k4 (see GCBO)</span>
1843 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1844 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1845 
1846 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k4 as text</span>
1847 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k4 as a double</span>
1848 
1849 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1850 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1851 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>,delay);
1852 
1853 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1854 <a name="_sub77" href="#_subfunctions" class="code">function ans_inj_k4_CreateFcn(hObject, eventdata, handles)</a>
1855 <span class="comment">% hObject    handle to ans_inj_k4 (see GCBO)</span>
1856 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1857 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1858 
1859 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1860 <span class="comment">%       See ISPC and COMPUTER.</span>
1861 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1862     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1863 <span class="keyword">end</span>
1864 
1865 
1866 
1867 <a name="_sub78" href="#_subfunctions" class="code">function ans_dcct_Callback(hObject, eventdata, handles)</a>
1868 <span class="comment">% hObject    handle to ans_dcct (see GCBO)</span>
1869 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1870 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1871 
1872 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_dcct as text</span>
1873 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_dcct as a double</span>
1874 
1875 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1876 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1877 tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTimeDelay'</span>,delay);
1878 
1879 
1880 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1881 <a name="_sub79" href="#_subfunctions" class="code">function ans_dcct_CreateFcn(hObject, eventdata, handles)</a>
1882 <span class="comment">% hObject    handle to ans_dcct (see GCBO)</span>
1883 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1884 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1885 
1886 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1887 <span class="comment">%       See ISPC and COMPUTER.</span>
1888 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1889     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1890 <span class="keyword">end</span>
1891 
1892 
1893 
1894 <a name="_sub80" href="#_subfunctions" class="code">function ans_bpm_Callback(hObject, eventdata, handles)</a>
1895 <span class="comment">% hObject    handle to ans_bpm (see GCBO)</span>
1896 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1897 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1898 
1899 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm as text</span>
1900 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm as a double</span>
1901 
1902 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1903 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1904 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1905 tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1906 tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1907 tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1908 tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1909 tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1910 tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1911 tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1912 tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1913 tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1914 tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1915 tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1916 tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1917 tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1918 tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1919 tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1920 
1921 
1922 
1923 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1924 <a name="_sub81" href="#_subfunctions" class="code">function ans_bpm_CreateFcn(hObject, eventdata, handles)</a>
1925 <span class="comment">% hObject    handle to ans_bpm (see GCBO)</span>
1926 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1927 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1928 
1929 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1930 <span class="comment">%       See ISPC and COMPUTER.</span>
1931 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1932     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1933 <span class="keyword">end</span>
1934 
1935 
1936 
1937 <a name="_sub82" href="#_subfunctions" class="code">function central_ext_Callback(hObject, eventdata, handles)</a>
1938 <span class="comment">% hObject    handle to central_ext (see GCBO)</span>
1939 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1940 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1941 
1942 <span class="comment">% Hints: get(hObject,'String') returns contents of central_ext as text</span>
1943 <span class="comment">%        str2double(get(hObject,'String')) returns contents of central_ext as a double</span>
1944 <span class="comment">%'ANS/SY/CENTRAL', 'ExtractionOffsetTimeValue'</span>
1945 
1946 delay=str2double(get(hObject,<span class="string">'String'</span>));
1947 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>,delay);
1948 
1949 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1950 <a name="_sub83" href="#_subfunctions" class="code">function central_ext_CreateFcn(hObject, eventdata, handles)</a>
1951 <span class="comment">% hObject    handle to central_ext (see GCBO)</span>
1952 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1953 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1954 
1955 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1956 <span class="comment">%       See ISPC and COMPUTER.</span>
1957 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1958     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1959 <span class="keyword">end</span>
1960 
1961 
1962 
1963 <a name="_sub84" href="#_subfunctions" class="code">function central_soft1_Callback(hObject, eventdata, handles)</a>
1964 <span class="comment">% hObject    handle to central_soft1 (see GCBO)</span>
1965 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1966 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1967 
1968 <span class="comment">% Hints: get(hObject,'String') returns contents of central_soft1 as text</span>
1969 <span class="comment">%        str2double(get(hObject,'String')) returns contents of central_soft1 as a double</span>
1970 
1971 
1972 
1973 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1974 <a name="_sub85" href="#_subfunctions" class="code">function central_soft1_CreateFcn(hObject, eventdata, handles)</a>
1975 <span class="comment">% hObject    handle to central_soft1 (see GCBO)</span>
1976 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1977 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1978 
1979 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1980 <span class="comment">%       See ISPC and COMPUTER.</span>
1981 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1982     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1983 <span class="keyword">end</span>
1984 
1985 
1986 <span class="comment">% --- Executes on button press in radiobutton6.</span>
1987 <a name="_sub86" href="#_subfunctions" class="code">function radiobutton6_Callback(hObject, eventdata, handles)</a>
1988 <span class="comment">% hObject    handle to radiobutton6 (see GCBO)</span>
1989 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1990 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1991 
1992 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton6</span>
1993 
1994 
1995 <span class="comment">% --- Executes on button press in pushbutton8.</span>
1996 <a name="_sub87" href="#_subfunctions" class="code">function pushbutton8_Callback(hObject, eventdata, handles)</a>
1997 <span class="comment">% hObject    handle to pushbutton8 (see GCBO)</span>
1998 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1999 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2000 
2001 
2002 <span class="comment">% --- Executes on button press in pushbutton9.</span>
2003 <a name="_sub88" href="#_subfunctions" class="code">function pushbutton9_Callback(hObject, eventdata, handles)</a>
2004 <span class="comment">% hObject    handle to pushbutton9 (see GCBO)</span>
2005 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2006 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2007 
2008 
2009 <span class="comment">% --- Executes on button press in button_extmoins.</span>
2010 <a name="_sub89" href="#_subfunctions" class="code">function button_extmoins_Callback(hObject, eventdata, handles)</a>
2011 <span class="comment">% hObject    handle to button_extmoins (see GCBO)</span>
2012 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2013 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2014 
2015 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
2016 <a href="step.html" class="code" title="">step</a>=temp.value(1)-52*0.52243;
2017 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>,<a href="step.html" class="code" title="">step</a>);
2018 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'ExtractionOffsetTimeValue'</span>);
2019 set(handles.central_ext,<span class="string">'String'</span>,num2str(temp.value(1)));
2020 
2021 <span class="comment">% --- Executes on button press in button_extplus.</span>
2022 <a name="_sub90" href="#_subfunctions" class="code">function button_extplus_Callback(hObject, eventdata, handles)</a>
2023 <span class="comment">% hObject    handle to button_extplus (see GCBO)</span>
2024 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2025 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2026 
2027 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
2028 <a href="step.html" class="code" title="">step</a>=temp.value(1)+52*0.52243;
2029 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>,<a href="step.html" class="code" title="">step</a>);
2030 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'ExtractionOffsetTimeValue'</span>);
2031 set(handles.central_ext,<span class="string">'String'</span>,num2str(temp.value(1)));
2032 
2033 <a name="_sub91" href="#_subfunctions" class="code">function sdc2_Callback(hObject, eventdata, handles)</a>
2034 <span class="comment">% hObject    handle to sdc2 (see GCBO)</span>
2035 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2036 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2037 
2038 <span class="comment">% Hints: get(hObject,'String') returns contents of sdc2 as text</span>
2039 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sdc2 as a double</span>
2040 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2041 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2042 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2043 
2044 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2045 <a name="_sub92" href="#_subfunctions" class="code">function sdc2_CreateFcn(hObject, eventdata, handles)</a>
2046 <span class="comment">% hObject    handle to sdc2 (see GCBO)</span>
2047 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2048 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2049 
2050 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2051 <span class="comment">%       See ISPC and COMPUTER.</span>
2052 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2053     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2054 <span class="keyword">end</span>
2055 
2056 
2057 
2058 <a name="_sub93" href="#_subfunctions" class="code">function lt2_emittance_Callback(hObject, eventdata, handles)</a>
2059 <span class="comment">% hObject    handle to lt2_emittance (see GCBO)</span>
2060 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2061 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2062 
2063 <span class="comment">% Hints: get(hObject,'String') returns contents of lt2_emittance as text</span>
2064 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt2_emittance as a double</span>
2065 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2066 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2067 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>,delay);
2068 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'emittanceTimeDelay'</span>,delay);
2069 
2070 
2071 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2072 <a name="_sub94" href="#_subfunctions" class="code">function lt2_emittance_CreateFcn(hObject, eventdata, handles)</a>
2073 <span class="comment">% hObject    handle to lt2_emittance (see GCBO)</span>
2074 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2075 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2076 
2077 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2078 <span class="comment">%       See ISPC and COMPUTER.</span>
2079 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2080     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2081 <span class="keyword">end</span>
2082 
2083 
2084 
2085 <a name="_sub95" href="#_subfunctions" class="code">function lt2_bpm_Callback(hObject, eventdata, handles)</a>
2086 <span class="comment">% hObject    handle to lt2_bpm (see GCBO)</span>
2087 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2088 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2089 
2090 <span class="comment">% Hints: get(hObject,'String') returns contents of lt2_bpm as text</span>
2091 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt2_bpm as a double</span>
2092 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2093 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2094 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2095 
2096 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2097 <a name="_sub96" href="#_subfunctions" class="code">function lt2_bpm_CreateFcn(hObject, eventdata, handles)</a>
2098 <span class="comment">% hObject    handle to lt2_bpm (see GCBO)</span>
2099 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2100 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2101 
2102 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2103 <span class="comment">%       See ISPC and COMPUTER.</span>
2104 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2105     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2106 <span class="keyword">end</span>
2107 
2108 
2109 
2110 <a name="_sub97" href="#_subfunctions" class="code">function lt2_osc_Callback(hObject, eventdata, handles)</a>
2111 <span class="comment">% hObject    handle to lt2_osc (see GCBO)</span>
2112 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2113 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2114 
2115 <span class="comment">% Hints: get(hObject,'String') returns contents of lt2_osc as text</span>
2116 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt2_osc as a double</span>
2117 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2118 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2119 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>,delay);
2120 
2121 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2122 <a name="_sub98" href="#_subfunctions" class="code">function lt2_osc_CreateFcn(hObject, eventdata, handles)</a>
2123 <span class="comment">% hObject    handle to lt2_osc (see GCBO)</span>
2124 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2125 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2126 
2127 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2128 <span class="comment">%       See ISPC and COMPUTER.</span>
2129 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2130     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2131 <span class="keyword">end</span>
2132 
2133 
2134 
2135 <a name="_sub99" href="#_subfunctions" class="code">function lin_modulateur_Callback(hObject, eventdata, handles)</a>
2136 <span class="comment">% hObject    handle to lin_modulateur (see GCBO)</span>
2137 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2138 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2139 
2140 <span class="comment">% Hints: get(hObject,'String') returns contents of lin_modulateur as text</span>
2141 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lin_modulateur as a double</span>
2142 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2143 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
2144 tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2145 
2146 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2147 <a name="_sub100" href="#_subfunctions" class="code">function lin_modulateur_CreateFcn(hObject, eventdata, handles)</a>
2148 <span class="comment">% hObject    handle to lin_modulateur (see GCBO)</span>
2149 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2150 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2151 
2152 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2153 <span class="comment">%       See ISPC and COMPUTER.</span>
2154 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2155     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2156 <span class="keyword">end</span>
2157 
2158 
2159 
2160 <a name="_sub101" href="#_subfunctions" class="code">function inj_offset_Callback(hObject, eventdata, handles)</a>
2161 <span class="comment">% hObject    handle to inj_offset (see GCBO)</span>
2162 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2163 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2164 
2165 <span class="comment">% Hints: get(hObject,'String') returns contents of inj_offset as text</span>
2166 <span class="comment">%        str2double(get(hObject,'String')) returns contents of inj_offset as a double</span>
2167 
2168 inj_offset=str2double(get(hObject,<span class="string">'String'</span>));
2169 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2170 lin_fin   =str2double(get(handles.lin_canon_spm_fin,<span class="string">'String'</span>));
2171 save(<span class="string">'/home/matlabML/applications/synchro/synchro_offset_lin'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>, <span class="string">'lin_fin'</span>)
2172 
2173 <span class="comment">%LIN</span>
2174 delay=str2double(get(handles.lin_canon_lpm,<span class="string">'String'</span>))+inj_offset;
2175 tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmTimeDelay'</span>,delay);
2176 
2177 delay=str2double(get(handles.lin_modulateur,<span class="string">'String'</span>))+inj_offset;
2178 tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2179 
2180 delay=str2double(get(handles.sdc1,<span class="string">'String'</span>))+inj_offset;
2181 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
2182 
2183 
2184 <span class="comment">% LT1</span>
2185 delay=str2double(get(handles.lt1_MC2,<span class="string">'String'</span>))+inj_offset;
2186 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>,delay);
2187 
2188 delay=str2double(get(handles.lt1_MC1,<span class="string">'String'</span>))+inj_offset;
2189 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>,delay);
2190 
2191 delay=str2double(get(handles.lt1_emittance,<span class="string">'String'</span>))+inj_offset;
2192 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>,delay);
2193 
2194 delay=str2double(get(handles.lt1_osc,<span class="string">'String'</span>))+inj_offset;
2195 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
2196 
2197 
2198 <span class="comment">% BOO</span>
2199 delay=str2double(get(handles.boo_inj_septum,<span class="string">'String'</span>))+inj_offset;
2200 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
2201 
2202 delay=str2double(get(handles.boo_inj_kicker,<span class="string">'String'</span>))+inj_offset;
2203 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
2204 
2205 delay=str2double(get(handles.boo_bpm,<span class="string">'String'</span>))+inj_offset;
2206 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>,delay);
2207 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigTimeDelay'</span>,delay);
2208 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigTimeDelay'</span>,delay);
2209 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigTimeDelay'</span>,delay);
2210 
2211 
2212 delay=str2double(get(handles.boo_nod,<span class="string">'String'</span>))+inj_offset;
2213 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>,delay);
2214 
2215 delay=str2double(get(handles.boo_dcct,<span class="string">'String'</span>))+inj_offset;
2216 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>,delay);
2217 
2218 
2219 
2220 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2221 <a name="_sub102" href="#_subfunctions" class="code">function inj_offset_CreateFcn(hObject, eventdata, handles)</a>
2222 <span class="comment">% hObject    handle to inj_offset (see GCBO)</span>
2223 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2224 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2225 
2226 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2227 <span class="comment">%       See ISPC and COMPUTER.</span>
2228 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2229     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2230 <span class="keyword">end</span>
2231 
2232 
2233 
2234 <a name="_sub103" href="#_subfunctions" class="code">function ext_offset_Callback(hObject, eventdata, handles)</a>
2235 <span class="comment">% hObject    handle to ext_offset (see GCBO)</span>
2236 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2237 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2238 
2239 <span class="comment">% Hints: get(hObject,'String') returns contents of ext_offset as text</span>
2240 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ext_offset as a double</span>
2241 
2242 ext_offset=str2double(get(hObject,<span class="string">'String'</span>));
2243 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2244 lin_fin   =str2double(get(handles.lin_canon_spm_fin,<span class="string">'String'</span>));
2245 save(<span class="string">'/home/matlabML/applications/synchro/synchro_offset_lin'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>, <span class="string">'lin_fin'</span>)
2246 
2247 
2248 <span class="comment">%BOO</span>
2249 delay=str2double(get(handles.boo_ext_dof,<span class="string">'String'</span>))+ext_offset;
2250 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>,delay);
2251 
2252 delay=str2double(get(handles.boo_ext_sept_p,<span class="string">'String'</span>))+ext_offset;
2253 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
2254 
2255 delay=str2double(get(handles.boo_ext_sept_a,<span class="string">'String'</span>))+ext_offset;
2256 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
2257 
2258 delay=str2double(get(handles.boo_ext_kicker,<span class="string">'String'</span>))+ext_offset;
2259 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
2260 
2261 delay=str2double(get(handles.sdc2,<span class="string">'String'</span>))+ext_offset;
2262 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2263 
2264 <span class="comment">%LT2</span>
2265 delay=str2double(get(handles.lt2_bpm,<span class="string">'String'</span>))+ext_offset;
2266 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2267 
2268 delay=str2double(get(handles.lt2_osc,<span class="string">'String'</span>))+ext_offset;
2269 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>,delay);
2270 
2271 delay=str2double(get(handles.lt2_emittance,<span class="string">'String'</span>))+ext_offset;
2272 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>,delay);
2273 
2274 <span class="comment">%ANS</span>
2275 
2276 delay=str2double(get(handles.ans_inj_sept_a,<span class="string">'String'</span>))+ext_offset;
2277 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
2278 
2279 delay=str2double(get(handles.ans_inj_sept_p,<span class="string">'String'</span>))+ext_offset;
2280 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
2281 
2282 delay=str2double(get(handles.ans_inj_k1,<span class="string">'String'</span>))+ext_offset;
2283 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>,delay);
2284 
2285 delay=str2double(get(handles.ans_inj_k2,<span class="string">'String'</span>))+ext_offset;
2286 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>,delay);
2287 
2288 delay=str2double(get(handles.ans_inj_k3,<span class="string">'String'</span>))+ext_offset;
2289 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>,delay);
2290 
2291 delay=str2double(get(handles.ans_inj_k4,<span class="string">'String'</span>))+ext_offset;
2292 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>,delay);
2293 
2294 
2295 
2296 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2297 <a name="_sub104" href="#_subfunctions" class="code">function ext_offset_CreateFcn(hObject, eventdata, handles)</a>
2298 <span class="comment">% hObject    handle to ext_offset (see GCBO)</span>
2299 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2300 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2301 
2302 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2303 <span class="comment">%       See ISPC and COMPUTER.</span>
2304 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2305     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2306 <span class="keyword">end</span>
2307 
2308 
2309 <span class="comment">% --- Executes on button press in button_acquisition_address.</span>
2310 <a name="_sub105" href="#_subfunctions" class="code">function button_acquisition_address_Callback(hObject, eventdata, handles)</a>
2311 <span class="comment">% hObject    handle to button_acquisition_address (see GCBO)</span>
2312 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2313 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2314 
2315 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2316 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2317 set(handles.lin_canon_lpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2318 set(handles.lin_canon_spm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2319 set(handles.lin_canon_spm_fin,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2320 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2321 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2322 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2323 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2324 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2325 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2326 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2327 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2328 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2329 set(handles.boo_alim_dipole,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2330 set(handles.boo_alim_qf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2331 set(handles.boo_alim_qd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2332 set(handles.boo_alim_sf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2333 set(handles.boo_alim_sd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2334 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2335 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2336 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2337 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2338 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2339 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2340 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2341 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2342 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2343 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2344 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2345 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2346 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2347 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2348 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2349 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2350 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2351 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2352 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2353 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2354 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2355 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2356 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2357 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2358 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2359 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2360 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2361 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2362 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2363 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2364 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2365 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2366 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2367 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2368 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2369 
2370 
2371 n=1;
2372 
2373 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
2374 set(handles.central_pc,<span class="string">'String'</span>,num2str(temp.value(n)));
2375 
2376 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
2377 set(handles.central_inj,<span class="string">'String'</span>,num2str(temp.value(n)));
2378 
2379 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
2380 set(handles.central_soft,<span class="string">'String'</span>,num2str(temp.value(n)));
2381 
2382 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
2383 set(handles.central_ext,<span class="string">'String'</span>,num2str(temp.value(n)));
2384 
2385 
2386 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscEvent'</span>);
2387 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)));
2388 
2389 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>);
2390 set(handles.lin_canon_lpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2391 
2392 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>);
2393 set(handles.lin_canon_spm,<span class="string">'String'</span>,num2str(temp.value(n)));
2394 set(handles.lin_canon_spm_fin,<span class="string">'String'</span>,<span class="string">'Off Set table'</span>);
2395 
2396 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigEvent'</span>);
2397 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2398 
2399 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceEvent'</span>);
2400 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
2401 
2402 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1Event'</span>);
2403 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)));
2404 
2405 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2Event'</span>);
2406 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)));
2407 
2408 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscEvent'</span>);
2409 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
2410 
2411 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booEvent'</span>);
2412 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
2413 
2414 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigEvent'</span>);
2415 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)));
2416 
2417 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigEvent'</span>);
2418 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)));
2419 
2420 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigEvent'</span>);
2421 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
2422 
2423 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpEvent'</span>);
2424 set(handles.boo_alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
2425 
2426 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfEvent'</span>);
2427 set(handles.boo_alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
2428 
2429 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdEvent'</span>);
2430 set(handles.boo_alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
2431 
2432 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfEvent'</span>);
2433 set(handles.boo_alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
2434 
2435 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdEvent'</span>);
2436 set(handles.boo_alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
2437 
2438 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfEvent'</span>);
2439 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
2440 
2441 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>);
2442 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)));
2443 
2444 
2445 
2446 
2447 
2448 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigEvent'</span>);
2449 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)));
2450 
2451 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigEvent'</span>);
2452 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
2453 
2454 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigEvent'</span>);
2455 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
2456 
2457 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigEvent'</span>);
2458 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
2459 
2460 
2461 
2462 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareEvent'</span>);
2463 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)));
2464 
2465 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvEvent'</span>);
2466 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
2467 
2468 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctEvent'</span>);
2469 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
2470 
2471 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>);
2472 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2473 
2474 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigEvent'</span>);
2475 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)));
2476 
2477 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigEvent'</span>);
2478 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)));
2479 
2480 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigEvent'</span>);
2481 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)));
2482 
2483 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigEvent'</span>);
2484 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)));
2485 
2486 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigEvent'</span>);
2487 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
2488 
2489 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigEvent'</span>);
2490 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
2491 
2492 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctEvent'</span>);
2493 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
2494 
2495 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>);
2496 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2497 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)));
2498 
2499 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2500 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)));
2501 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2502 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)));
2503 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2504 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)));
2505 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2506 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)));
2507 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2508 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)));
2509 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2510 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)));
2511 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2512 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)));
2513 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2514 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)));
2515 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2516 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)));
2517 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2518 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)));
2519 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2520 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)));
2521 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2522 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)));
2523 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2524 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)));
2525 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2526 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)));
2527 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2528 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)));
2529 
2530 
2531 
2532 <span class="comment">% --- Executes on button press in button_offinj_moins.</span>
2533 <a name="_sub106" href="#_subfunctions" class="code">function button_offinj_moins_Callback(hObject, eventdata, handles)</a>
2534 <span class="comment">% hObject    handle to button_offinj_moins (see GCBO)</span>
2535 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2536 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2537 
2538 temp=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2539 <a href="step.html" class="code" title="">step</a>=temp-52*0.52243;
2540 set(handles.inj_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2541 <a href="#_sub101" class="code" title="subfunction inj_offset_Callback(hObject, eventdata, handles)">inj_offset_Callback</a>(handles.inj_offset, eventdata, handles);
2542 
2543 <span class="comment">% --- Executes on button press in button_offinj_plus.</span>
2544 <a name="_sub107" href="#_subfunctions" class="code">function button_offinj_plus_Callback(hObject, eventdata, handles)</a>
2545 <span class="comment">% hObject    handle to button_offinj_plus (see GCBO)</span>
2546 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2547 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2548 
2549 temp=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2550 <a href="step.html" class="code" title="">step</a>=temp+52*0.52243;
2551 set(handles.inj_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2552 <a href="#_sub101" class="code" title="subfunction inj_offset_Callback(hObject, eventdata, handles)">inj_offset_Callback</a>(handles.inj_offset, eventdata, handles);
2553 
2554 <span class="comment">% --- Executes on button press in button_offext_moins.</span>
2555 <a name="_sub108" href="#_subfunctions" class="code">function button_offext_moins_Callback(hObject, eventdata, handles)</a>
2556 <span class="comment">% hObject    handle to button_offext_moins (see GCBO)</span>
2557 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2558 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2559 
2560 temp=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2561 <a href="step.html" class="code" title="">step</a>=temp-52*0.52243;
2562 set(handles.ext_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2563 <a href="#_sub103" class="code" title="subfunction ext_offset_Callback(hObject, eventdata, handles)">ext_offset_Callback</a>(handles.ext_offset, eventdata, handles);
2564 
2565 <span class="comment">% --- Executes on button press in button_offext_plus.</span>
2566 <a name="_sub109" href="#_subfunctions" class="code">function button_offext_plus_Callback(hObject, eventdata, handles)</a>
2567 <span class="comment">% hObject    handle to button_offext_plus (see GCBO)</span>
2568 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2569 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2570 
2571 temp=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2572 <a href="step.html" class="code" title="">step</a>=temp+52*0.52243;
2573 set(handles.ext_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2574 <a href="#_sub103" class="code" title="subfunction ext_offset_Callback(hObject, eventdata, handles)">ext_offset_Callback</a>(handles.ext_offset, eventdata, handles);
2575 
2576 
2577 <span class="comment">% --- Executes on button press in button_bpm.</span>
2578 <a name="_sub110" href="#_subfunctions" class="code">function button_bpm_Callback(hObject, eventdata, handles)</a>
2579 <span class="comment">% hObject    handle to button_bpm (see GCBO)</span>
2580 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2581 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2582 
2583 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of button_bpm</span>
2584 
2585 bpm=get(hObject,<span class="string">'Value'</span>);
2586 
2587 <span class="keyword">if</span> (bpm==0)
2588    set(handles.panel_bpm,<span class="string">'Visible'</span>,<span class="string">'off'</span>);
2589 <span class="keyword">elseif</span> (bpm==1)
2590     set(handles.panel_bpm,<span class="string">'Visible'</span>,<span class="string">'on'</span>);
2591 <span class="keyword">end</span>
2592 
2593 
2594 
2595 <a name="_sub111" href="#_subfunctions" class="code">function ans_bpm_c01_Callback(hObject, eventdata, handles)</a>
2596 <span class="comment">% hObject    handle to ans_bpm_c01 (see GCBO)</span>
2597 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2598 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2599 
2600 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c01 as text</span>
2601 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c01 as a double</span>
2602 
2603 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2604 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2605 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2606 
2607 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2608 <a name="_sub112" href="#_subfunctions" class="code">function ans_bpm_c01_CreateFcn(hObject, eventdata, handles)</a>
2609 <span class="comment">% hObject    handle to ans_bpm_c01 (see GCBO)</span>
2610 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2611 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2612 
2613 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2614 <span class="comment">%       See ISPC and COMPUTER.</span>
2615 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2616     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2617 <span class="keyword">end</span>
2618 
2619 
2620 <a name="_sub113" href="#_subfunctions" class="code">function ans_bpm_c02_Callback(hObject, eventdata, handles)</a>
2621 <span class="comment">% hObject    handle to ans_bpm_c02 (see GCBO)</span>
2622 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2623 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2624 
2625 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c02 as text</span>
2626 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c02 as a double</span>
2627 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2628 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2629 tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2630 
2631 
2632 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2633 <a name="_sub114" href="#_subfunctions" class="code">function ans_bpm_c02_CreateFcn(hObject, eventdata, handles)</a>
2634 <span class="comment">% hObject    handle to ans_bpm_c02 (see GCBO)</span>
2635 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2636 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2637 
2638 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2639 <span class="comment">%       See ISPC and COMPUTER.</span>
2640 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2641     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2642 <span class="keyword">end</span>
2643 
2644 
2645 
2646 <a name="_sub115" href="#_subfunctions" class="code">function ans_bpm_c03_Callback(hObject, eventdata, handles)</a>
2647 <span class="comment">% hObject    handle to ans_bpm_c03 (see GCBO)</span>
2648 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2649 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2650 
2651 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c03 as text</span>
2652 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c03 as a double</span>
2653 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2654 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2655 tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2656 
2657 
2658 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2659 <a name="_sub116" href="#_subfunctions" class="code">function ans_bpm_c03_CreateFcn(hObject, eventdata, handles)</a>
2660 <span class="comment">% hObject    handle to ans_bpm_c03 (see GCBO)</span>
2661 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2662 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2663 
2664 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2665 <span class="comment">%       See ISPC and COMPUTER.</span>
2666 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2667     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2668 <span class="keyword">end</span>
2669 
2670 
2671 
2672 <a name="_sub117" href="#_subfunctions" class="code">function ans_bpm_c04_Callback(hObject, eventdata, handles)</a>
2673 <span class="comment">% hObject    handle to ans_bpm_c04 (see GCBO)</span>
2674 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2675 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2676 
2677 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c04 as text</span>
2678 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c04 as a double</span>
2679 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2680 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2681 tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2682 
2683 
2684 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2685 <a name="_sub118" href="#_subfunctions" class="code">function ans_bpm_c04_CreateFcn(hObject, eventdata, handles)</a>
2686 <span class="comment">% hObject    handle to ans_bpm_c04 (see GCBO)</span>
2687 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2688 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2689 
2690 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2691 <span class="comment">%       See ISPC and COMPUTER.</span>
2692 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2693     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2694 <span class="keyword">end</span>
2695 
2696 
2697 
2698 <a name="_sub119" href="#_subfunctions" class="code">function ans_bpm_c05_Callback(hObject, eventdata, handles)</a>
2699 <span class="comment">% hObject    handle to ans_bpm_c05 (see GCBO)</span>
2700 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2701 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2702 
2703 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c05 as text</span>
2704 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c05 as a double</span>
2705 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2706 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2707 tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2708 
2709 
2710 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2711 <a name="_sub120" href="#_subfunctions" class="code">function ans_bpm_c05_CreateFcn(hObject, eventdata, handles)</a>
2712 <span class="comment">% hObject    handle to ans_bpm_c05 (see GCBO)</span>
2713 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2714 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2715 
2716 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2717 <span class="comment">%       See ISPC and COMPUTER.</span>
2718 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2719     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2720 <span class="keyword">end</span>
2721 
2722 
2723 
2724 <a name="_sub121" href="#_subfunctions" class="code">function ans_bpm_c06_Callback(hObject, eventdata, handles)</a>
2725 <span class="comment">% hObject    handle to ans_bpm_c06 (see GCBO)</span>
2726 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2727 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2728 
2729 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c06 as text</span>
2730 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c06 as a double</span>
2731 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2732 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2733 tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2734 
2735 
2736 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2737 <a name="_sub122" href="#_subfunctions" class="code">function ans_bpm_c06_CreateFcn(hObject, eventdata, handles)</a>
2738 <span class="comment">% hObject    handle to ans_bpm_c06 (see GCBO)</span>
2739 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2740 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2741 
2742 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2743 <span class="comment">%       See ISPC and COMPUTER.</span>
2744 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2745     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2746 <span class="keyword">end</span>
2747 
2748 
2749 
2750 <a name="_sub123" href="#_subfunctions" class="code">function ans_bpm_c07_Callback(hObject, eventdata, handles)</a>
2751 <span class="comment">% hObject    handle to ans_bpm_c07 (see GCBO)</span>
2752 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2753 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2754 
2755 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c07 as text</span>
2756 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c07 as a double</span>
2757 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2758 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2759 tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2760 
2761 
2762 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2763 <a name="_sub124" href="#_subfunctions" class="code">function ans_bpm_c07_CreateFcn(hObject, eventdata, handles)</a>
2764 <span class="comment">% hObject    handle to ans_bpm_c07 (see GCBO)</span>
2765 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2766 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2767 
2768 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2769 <span class="comment">%       See ISPC and COMPUTER.</span>
2770 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2771     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2772 <span class="keyword">end</span>
2773 
2774 
2775 
2776 <a name="_sub125" href="#_subfunctions" class="code">function ans_bpm_c08_Callback(hObject, eventdata, handles)</a>
2777 <span class="comment">% hObject    handle to ans_bpm_c08 (see GCBO)</span>
2778 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2779 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2780 
2781 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c08 as text</span>
2782 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c08 as a double</span>
2783 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2784 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2785 tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2786 
2787 
2788 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2789 <a name="_sub126" href="#_subfunctions" class="code">function ans_bpm_c08_CreateFcn(hObject, eventdata, handles)</a>
2790 <span class="comment">% hObject    handle to ans_bpm_c08 (see GCBO)</span>
2791 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2792 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2793 
2794 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2795 <span class="comment">%       See ISPC and COMPUTER.</span>
2796 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2797     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2798 <span class="keyword">end</span>
2799 
2800 
2801 
2802 <a name="_sub127" href="#_subfunctions" class="code">function ans_bpm_c09_Callback(hObject, eventdata, handles)</a>
2803 <span class="comment">% hObject    handle to ans_bpm_c09 (see GCBO)</span>
2804 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2805 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2806 
2807 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c09 as text</span>
2808 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c09 as a double</span>
2809 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2810 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2811 tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2812 
2813 
2814 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2815 <a name="_sub128" href="#_subfunctions" class="code">function ans_bpm_c09_CreateFcn(hObject, eventdata, handles)</a>
2816 <span class="comment">% hObject    handle to ans_bpm_c09 (see GCBO)</span>
2817 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2818 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2819 
2820 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2821 <span class="comment">%       See ISPC and COMPUTER.</span>
2822 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2823     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2824 <span class="keyword">end</span>
2825 
2826 
2827 
2828 <a name="_sub129" href="#_subfunctions" class="code">function ans_bpm_c10_Callback(hObject, eventdata, handles)</a>
2829 <span class="comment">% hObject    handle to ans_bpm_c10 (see GCBO)</span>
2830 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2831 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2832 
2833 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c10 as text</span>
2834 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c10 as a double</span>
2835 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2836 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2837 tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2838 
2839 
2840 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2841 <a name="_sub130" href="#_subfunctions" class="code">function ans_bpm_c10_CreateFcn(hObject, eventdata, handles)</a>
2842 <span class="comment">% hObject    handle to ans_bpm_c10 (see GCBO)</span>
2843 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2844 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2845 
2846 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2847 <span class="comment">%       See ISPC and COMPUTER.</span>
2848 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2849     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2850 <span class="keyword">end</span>
2851 
2852 
2853 
2854 <a name="_sub131" href="#_subfunctions" class="code">function ans_bpm_c11_Callback(hObject, eventdata, handles)</a>
2855 <span class="comment">% hObject    handle to ans_bpm_c11 (see GCBO)</span>
2856 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2857 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2858 
2859 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c11 as text</span>
2860 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c11 as a double</span>
2861 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2862 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2863 tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2864 
2865 
2866 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2867 <a name="_sub132" href="#_subfunctions" class="code">function ans_bpm_c11_CreateFcn(hObject, eventdata, handles)</a>
2868 <span class="comment">% hObject    handle to ans_bpm_c11 (see GCBO)</span>
2869 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2870 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2871 
2872 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2873 <span class="comment">%       See ISPC and COMPUTER.</span>
2874 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2875     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2876 <span class="keyword">end</span>
2877 
2878 
2879 
2880 <a name="_sub133" href="#_subfunctions" class="code">function ans_bpm_c12_Callback(hObject, eventdata, handles)</a>
2881 <span class="comment">% hObject    handle to ans_bpm_c12 (see GCBO)</span>
2882 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2883 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2884 
2885 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c12 as text</span>
2886 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c12 as a double</span>
2887 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2888 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2889 tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2890 
2891 
2892 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2893 <a name="_sub134" href="#_subfunctions" class="code">function ans_bpm_c12_CreateFcn(hObject, eventdata, handles)</a>
2894 <span class="comment">% hObject    handle to ans_bpm_c12 (see GCBO)</span>
2895 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2896 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2897 
2898 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2899 <span class="comment">%       See ISPC and COMPUTER.</span>
2900 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2901     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2902 <span class="keyword">end</span>
2903 
2904 
2905 
2906 <a name="_sub135" href="#_subfunctions" class="code">function ans_bpm_c13_Callback(hObject, eventdata, handles)</a>
2907 <span class="comment">% hObject    handle to ans_bpm_c13 (see GCBO)</span>
2908 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2909 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2910 
2911 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c13 as text</span>
2912 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c13 as a double</span>
2913 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2914 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2915 tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2916 
2917 
2918 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2919 <a name="_sub136" href="#_subfunctions" class="code">function ans_bpm_c13_CreateFcn(hObject, eventdata, handles)</a>
2920 <span class="comment">% hObject    handle to ans_bpm_c13 (see GCBO)</span>
2921 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2922 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2923 
2924 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2925 <span class="comment">%       See ISPC and COMPUTER.</span>
2926 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2927     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2928 <span class="keyword">end</span>
2929 
2930 
2931 
2932 <a name="_sub137" href="#_subfunctions" class="code">function ans_bpm_c14_Callback(hObject, eventdata, handles)</a>
2933 <span class="comment">% hObject    handle to ans_bpm_c14 (see GCBO)</span>
2934 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2935 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2936 
2937 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c14 as text</span>
2938 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c14 as a double</span>
2939 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2940 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2941 tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2942 
2943 
2944 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2945 <a name="_sub138" href="#_subfunctions" class="code">function ans_bpm_c14_CreateFcn(hObject, eventdata, handles)</a>
2946 <span class="comment">% hObject    handle to ans_bpm_c14 (see GCBO)</span>
2947 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2948 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2949 
2950 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2951 <span class="comment">%       See ISPC and COMPUTER.</span>
2952 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2953     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2954 <span class="keyword">end</span>
2955 
2956 
2957 
2958 <a name="_sub139" href="#_subfunctions" class="code">function ans_bpm_c15_Callback(hObject, eventdata, handles)</a>
2959 <span class="comment">% hObject    handle to ans_bpm_c15 (see GCBO)</span>
2960 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2961 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2962 
2963 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c15 as text</span>
2964 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c15 as a double</span>
2965 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2966 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2967 tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2968 
2969 
2970 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2971 <a name="_sub140" href="#_subfunctions" class="code">function ans_bpm_c15_CreateFcn(hObject, eventdata, handles)</a>
2972 <span class="comment">% hObject    handle to ans_bpm_c15 (see GCBO)</span>
2973 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2974 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2975 
2976 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2977 <span class="comment">%       See ISPC and COMPUTER.</span>
2978 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2979     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2980 <span class="keyword">end</span>
2981 
2982 
2983 
2984 <a name="_sub141" href="#_subfunctions" class="code">function ans_bpm_c16_Callback(hObject, eventdata, handles)</a>
2985 <span class="comment">% hObject    handle to ans_bpm_c16 (see GCBO)</span>
2986 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2987 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2988 
2989 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c16 as text</span>
2990 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c16 as a double</span>
2991 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2992 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2993 tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2994 
2995 
2996 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2997 <a name="_sub142" href="#_subfunctions" class="code">function ans_bpm_c16_CreateFcn(hObject, eventdata, handles)</a>
2998 <span class="comment">% hObject    handle to ans_bpm_c16 (see GCBO)</span>
2999 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3000 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3001 
3002 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3003 <span class="comment">%       See ISPC and COMPUTER.</span>
3004 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3005     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3006 <span class="keyword">end</span>
3007 
3008 
3009 
3010 <a name="_sub143" href="#_subfunctions" class="code">function edit_filling_relecture_tables_Callback(hObject, eventdata, handles)</a>
3011 <span class="comment">% hObject    handle to edit_filling_relecture_tables (see GCBO)</span>
3012 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3013 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3014 
3015 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_relecture_tables as text</span>
3016 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_relecture_tables as a double</span>
3017 
3018 
3019 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3020 <a name="_sub144" href="#_subfunctions" class="code">function edit_filling_relecture_tables_CreateFcn(hObject, eventdata, handles)</a>
3021 <span class="comment">% hObject    handle to edit_filling_relecture_tables (see GCBO)</span>
3022 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3023 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3024 
3025 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3026 <span class="comment">%       See ISPC and COMPUTER.</span>
3027 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3028     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3029 <span class="keyword">end</span>
3030 
3031 
3032 
3033 <a name="_sub145" href="#_subfunctions" class="code">function edit_filling_relecture_bunch_Callback(hObject, eventdata, handles)</a>
3034 <span class="comment">% hObject    handle to edit_filling_relecture_bunch (see GCBO)</span>
3035 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3036 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3037 
3038 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_relecture_bunch as text</span>
3039 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_relecture_bunch as a double</span>
3040 
3041 
3042 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3043 <a name="_sub146" href="#_subfunctions" class="code">function edit_filling_relecture_bunch_CreateFcn(hObject, eventdata, handles)</a>
3044 <span class="comment">% hObject    handle to edit_filling_relecture_bunch (see GCBO)</span>
3045 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3046 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3047 
3048 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3049 <span class="comment">%       See ISPC and COMPUTER.</span>
3050 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3051     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3052 <span class="keyword">end</span>
3053 
3054 
3055 
3056 <a name="_sub147" href="#_subfunctions" class="code">function edit_filling_entrer_bunch_Callback(hObject, eventdata, handles)</a>
3057 <span class="comment">% hObject    handle to edit_filling_entrer_bunch (see GCBO)</span>
3058 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3059 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3060 
3061 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_entrer_bunch as text</span>
3062 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_entrer_bunch as a double</span>
3063 <span class="comment">% temp=tango_read_attribute('ANS/SY/CENTRAL', 'ExtractionOffsetClkStepValue');</span>
3064 <span class="comment">% offset_ext=temp.value(1)*52;</span>
3065 <span class="comment">% offset_linac=str2double(get(handles.lin_canon_spm_fin,'String')) ;% délai fin de réglage en ns</span>
3066 <span class="comment">% offset_linac=offset_linac/handles.lin_fin_step;                   % délai fin de réglage en pas de handles.lin_fin_step ps</span>
3067 <span class="comment">% bjump=handles.one_bunch;</span>
3068 <span class="comment">%</span>
3069 <span class="comment">% bunch=str2num(get(hObject,'String'));</span>
3070 <span class="comment">% [dtour,dpaquet]=bucketnumber(bunch);</span>
3071 <span class="comment">% dpaquet=dpaquet*bjump+offset_linac;</span>
3072 <span class="comment">% table=int32([length(bunch) dtour dpaquet]);</span>
3073 <span class="comment">% tango_command_inout('ANS/SY/CENTRAL','SetTables',table);</span>
3074 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'TablesCurrentDepth');</span>
3075 <span class="comment">% n=temp.value;</span>
3076 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'ExtractionDelayTable');</span>
3077 <span class="comment">% table_ext=temp.value(1:n); %-offset_ext;</span>
3078 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'LinacDelayTable');</span>
3079 <span class="comment">% table_linac=(temp.value(1:n)-offset_linac)/bjump;</span>
3080 <span class="comment">% table=[];</span>
3081 <span class="comment">% for i=1:n</span>
3082 <span class="comment">%     table=[table ' ' '(' num2str([table_ext(i)])  ' '  num2str([table_linac(i)]) ')'];</span>
3083 <span class="comment">% end</span>
3084 <span class="comment">% set(handles.edit_filling_relecture_tables,'String',[num2str(table)]);</span>
3085 <span class="comment">% set(handles.edit_filling_relecture_bunch, 'String',[num2str(bunch)]);</span>
3086 
3087 
3088 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3089 <a name="_sub148" href="#_subfunctions" class="code">function edit_filling_entrer_bunch_CreateFcn(hObject, eventdata, handles)</a>
3090 <span class="comment">% hObject    handle to edit_filling_entrer_bunch (see GCBO)</span>
3091 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3092 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3093 
3094 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3095 <span class="comment">%       See ISPC and COMPUTER.</span>
3096 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3097     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3098 <span class="keyword">end</span>
3099 
3100 
3101 <span class="comment">% --- Executes on button press in button_update.</span>
3102 <a name="_sub149" href="#_subfunctions" class="code">function button_update_Callback(hObject, eventdata, handles)</a>
3103 <span class="comment">% hObject    handle to button_update (see GCBO)</span>
3104 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3105 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3106 
3107 fprintf(<span class="string">'*****Update des 16 cartes locales******\n'</span>)
3108 
3109 r=tango_command_inout2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>,r);
3110 r=tango_command_inout2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>,<span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>,r);
3111 r=tango_command_inout2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>,<span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>,r);
3112 
3113 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>,  <span class="string">'Update'</span>);    <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>,r);
3114 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Alim.1'</span>,  <span class="string">'Update'</span>); <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.Alim.1'</span>,r);
3115 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>,  <span class="string">'Update'</span>); <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.RF.1'</span>,r);
3116 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.DG.1'</span>,r);
3117 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.DG.2'</span>,r);
3118 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.DG.3'</span>,r);
3119 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>,r);
3120 
3121 r=tango_command_inout2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'LT2/SY/LOCAL.DG.1'</span>,r);
3122 r=tango_command_inout2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'LT2/SY/LOCAL.DG.2'</span>,r);
3123 
3124 r=tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>,r);
3125 r=tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,r);
3126 r=tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>,r);
3127 r=tango_command_inout2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>,r);
3128 r=tango_command_inout2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>,r);
3129 r=tango_command_inout2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>,r);
3130 r=tango_command_inout2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>,r);
3131 r=tango_command_inout2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>,r);
3132 r=tango_command_inout2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>,r);
3133 r=tango_command_inout2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>); <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>,r);
3134 r=tango_command_inout2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>,r);
3135 
3136 
3137 
3138 fprintf(<span class="string">'**************************************\n'</span>)
3139 <span class="comment">%retour_command=vect</span>
3140 <span class="comment">%fprintf('16 zéro = OK : %d\n',vect)</span>
3141 
3142 <span class="comment">% --- Executes on button press in button_acquisition_trigstatus.</span>
3143 <a name="_sub150" href="#_subfunctions" class="code">function button_acquisition_trigstatus_Callback(hObject, eventdata, handles)</a>
3144 <span class="comment">% hObject    handle to button_acquisition_trigstatus (see GCBO)</span>
3145 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3146 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3147 
3148 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3149 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3150 set(handles.lin_canon_lpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3151 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3152 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3153 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3154 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3155 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3156 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3157 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3158 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3159 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3160 set(handles.boo_alim_dipole,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3161 set(handles.boo_alim_qf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3162 set(handles.boo_alim_qd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3163 set(handles.boo_alim_sf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3164 set(handles.boo_alim_sd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3165 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3166 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3167 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3168 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3169 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3170 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3171 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3172 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3173 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3174 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3175 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3176 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3177 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3178 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3179 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3180 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3181 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3182 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3183 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3184 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3185 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3186 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3187 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3188 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3189 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3190 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3191 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3192 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3193 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3194 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3195 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3196 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3197 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3198 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3199 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3200 
3201 
3202 n=1;
3203 
3204 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
3205 set(handles.central_pc,<span class="string">'String'</span>,num2str(temp.value(n)));
3206 
3207 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
3208 set(handles.central_inj,<span class="string">'String'</span>,num2str(temp.value(n)));
3209 
3210 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
3211 set(handles.central_soft,<span class="string">'String'</span>,num2str(temp.value(n)));
3212 
3213 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
3214 set(handles.central_ext,<span class="string">'String'</span>,num2str(temp.value(n)));
3215 
3216 
3217 
3218 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTrigStatus'</span>);
3219 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)));
3220 
3221 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmTrigStatus'</span>);
3222 set(handles.lin_canon_lpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3223 
3224 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTrigStatus'</span>);
3225 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3226 
3227 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTrigStatus'</span>);
3228 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
3229 
3230 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TrigStatus'</span>);
3231 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)));
3232 
3233 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TrigStatus'</span>);
3234 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)));
3235 
3236 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTrigStatus'</span>);
3237 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
3238 
3239 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTrigStatus'</span>);
3240 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
3241 
3242 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTrigStatus'</span>);
3243 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)));
3244 
3245 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTrigStatus'</span>);
3246 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)));
3247 
3248 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTrigStatus'</span>);
3249 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
3250 
3251 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTrigStatus'</span>);
3252 set(handles.boo_alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
3253 
3254 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTrigStatus'</span>);
3255 set(handles.boo_alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
3256 
3257 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTrigStatus'</span>);
3258 set(handles.boo_alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
3259 
3260 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTrigStatus'</span>);
3261 set(handles.boo_alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
3262 
3263 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTrigStatus'</span>);
3264 set(handles.boo_alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
3265 
3266 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTrigStatus'</span>);
3267 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
3268 
3269 temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTrigStatus'</span>);
3270 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)));
3271 
3272 
3273 
3274 
3275 
3276 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTrigStatus'</span>);
3277 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)));
3278 
3279 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTrigStatus'</span>);
3280 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
3281 
3282 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTrigStatus'</span>);
3283 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
3284 
3285 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTrigStatus'</span>);
3286 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
3287 
3288 
3289 
3290 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTrigStatus'</span>);
3291 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)));
3292 
3293 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTrigStatus'</span>);
3294 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
3295 
3296 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTrigStatus'</span>);
3297 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
3298 
3299 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3300 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3301 
3302 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTrigStatus'</span>);
3303 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)));
3304 
3305 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTrigStatus'</span>);
3306 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)));
3307 
3308 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTrigStatus'</span>);
3309 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)));
3310 
3311 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTrigStatus'</span>);
3312 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)));
3313 
3314 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTrigStatus'</span>);
3315 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
3316 
3317 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTrigStatus'</span>);
3318 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
3319 
3320 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTrigStatus'</span>);
3321 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
3322 
3323 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3324 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3325 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)));
3326 
3327 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3328 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)));
3329 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3330 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)));
3331 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3332 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)));
3333 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3334 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)));
3335 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3336 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)));
3337 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3338 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)));
3339 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3340 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)));
3341 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3342 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)));
3343 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3344 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)));
3345 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3346 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)));
3347 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3348 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)));
3349 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3350 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)));
3351 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3352 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)));
3353 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3354 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)));
3355 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3356 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)));
3357 
3358 
3359 
3360 <span class="comment">% --- Executes on button press in togglebutton2.</span>
3361 <a name="_sub151" href="#_subfunctions" class="code">function togglebutton2_Callback(hObject, eventdata, handles)</a>
3362 <span class="comment">% hObject    handle to togglebutton2 (see GCBO)</span>
3363 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3364 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3365 
3366 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of togglebutton2</span>
3367 
3368 
3369 <span class="comment">% --- Executes on selection change in listbox_fillingmode.</span>
3370 <a name="_sub152" href="#_subfunctions" class="code">function listbox_fillingmode_Callback(hObject, eventdata, handles)</a>
3371 <span class="comment">% hObject    handle to listbox_fillingmode (see GCBO)</span>
3372 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3373 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3374 
3375 <span class="comment">% Hints: contents = get(hObject,'String') returns listbox_fillingmode contents as cell array</span>
3376 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from listbox_fillingmode</span>
3377 pattern=get(hObject,<span class="string">'String'</span>);
3378 mode=get(hObject,<span class="string">'Value'</span>);
3379 fprintf(<span class="string">'***************************************************\n'</span>)
3380 fprintf(<span class="string">'Mode de remplissage sélectionné : %s\n'</span>,pattern{mode})
3381 fprintf(<span class="string">'***************************************************\n'</span>)
3382 
3383 <span class="comment">% Prépare les tables pour le 3 Hz</span>
3384 quart=[1 105 209 313];
3385 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>);
3386 offset_ext=temp.value(1)*52;
3387 offset_linac=str2double(get(handles.lin_canon_spm_fin,<span class="string">'String'</span>)) ;<span class="comment">% délai fin de réglage en ns</span>
3388 offset_linac=offset_linac/handles.lin_fin_step;                   <span class="comment">% délai fin de réglage en pas de handles.lin_fin_step ps</span>
3389 bjump=handles.one_bunch;
3390 
3391 
3392 <span class="keyword">if</span> (mode&lt;=4)    <span class="comment">%LPM</span>
3393     bunch=quart(mode);
3394 <span class="keyword">elseif</span> (mode&gt;4)&amp;&amp;(mode&lt;=7) <span class="comment">%LPM</span>
3395     bunch=quart(1:(mode-3));
3396 <span class="keyword">elseif</span> (mode==8)    <span class="comment">%LPM</span>
3397     dbunch=4*8;
3398     bunch=[0 104+26 2*(104+26)]+1;
3399 <span class="keyword">elseif</span> (mode==9)   <span class="comment">% SPM    1 paquet</span>
3400     bunch=[1];
3401 <span class="keyword">elseif</span> (mode==10)  <span class="comment">% SPM    8 paquets</span>
3402     bunch=[0:7]*52+1;
3403 <span class="keyword">elseif</span> (mode==11)  <span class="comment">% SPM    16 paquets</span>
3404     bunch=[0:15]*26+1;
3405 <span class="keyword">elseif</span> (mode==12)  <span class="comment">% SPM    n paquets</span>
3406     bunch=str2num(get(handles.edit_filling_entrer_bunch,<span class="string">'String'</span>));
3407 <span class="keyword">elseif</span> (mode==13)  <span class="comment">% SPM    n paquets</span>
3408     paq=str2num(get(handles.edit_filling_entrer_bunch1,<span class="string">'String'</span>));
3409     bunch=paq(1):paq(2);
3410 <span class="keyword">end</span>
3411 
3412 
3413 [dtour,dpaquet]=<a href="bucketnumber.html" class="code" title="function [n1 n2] = bucketnumber(num)">bucketnumber</a>(bunch);
3414 dpaquet=dpaquet*bjump+offset_linac;
3415 table=int32([length(bunch) dtour dpaquet]);
3416 handles.table=table;
3417 handles.bunch=bunch;
3418 
3419 save <span class="string">'/home/matlabML/applications/synchro/table.mat'</span> <span class="string">'table'</span>; <span class="comment">% pour palier aux handles via timer non mis à jour !!!!!!</span>
3420 
3421 modeinj=get(get(handles.uipanel_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
3422 <span class="keyword">if</span> strcmp(modeinj,<span class="string">'togglebutton_soft'</span>)  <span class="comment">% on rempli la table sur paquet 1 par défaut</span>
3423     <span class="comment">%table=handles.table0;</span>
3424     tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'SetTables'</span>,table);
3425     
3426 <span class="keyword">elseif</span> strcmp(modeinj,<span class="string">'togglebutton_3Hz'</span>) <span class="comment">% on rempli la table</span>
3427     tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'SetTables'</span>,table);
3428     temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TablesCurrentDepth'</span>);
3429     n=temp.value;
3430     temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionDelayTable'</span>);
3431     table_ext=temp.value(1:n); <span class="comment">%-offset_ext;</span>
3432     temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'LinacDelayTable'</span>);
3433     table_linac=(temp.value(1:n)-offset_linac)/bjump;
3434     table=[];
3435     <span class="keyword">for</span> i=1:n
3436         table=[table <span class="string">' '</span> <span class="string">'('</span> num2str([table_ext(i)])  <span class="string">' '</span>  num2str([table_linac(i)]) <span class="string">')'</span>];
3437     <span class="keyword">end</span>
3438 <span class="keyword">end</span>
3439 
3440 set(handles.edit_filling_relecture_tables,<span class="string">'String'</span>,[num2str(table)]);
3441 set(handles.edit_filling_relecture_bunch, <span class="string">'String'</span>,[num2str(bunch)]);
3442 
3443 
3444 guidata(hObject, handles);
3445 
3446 
3447 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3448 <a name="_sub153" href="#_subfunctions" class="code">function listbox_fillingmode_CreateFcn(hObject, eventdata, handles)</a>
3449 <span class="comment">% hObject    handle to listbox_fillingmode (see GCBO)</span>
3450 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3451 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3452 
3453 <span class="comment">% Hint: listbox controls usually have a white background on Windows.</span>
3454 <span class="comment">%       See ISPC and COMPUTER.</span>
3455 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3456     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3457 <span class="keyword">end</span>
3458 
3459 
3460 <span class="comment">% --- Executes on button press in button_fix.</span>
3461 <a name="_sub154" href="#_subfunctions" class="code">function button_fix_Callback(hObject, eventdata, handles)</a>
3462 <span class="comment">% hObject    handle to button_fix (see GCBO)</span>
3463 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3464 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3465 
3466 [clk_pc,clk_soft]=<a href="fix_quart.html" class="code" title="function [clk_pc,clk_soft]=fix_quart">fix_quart</a>;
3467 handles.clk_pc  =clk_pc;
3468 handles.clk_soft=clk_soft;
3469 
3470 <span class="comment">% n=1;</span>
3471 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'TPcStepDelay');</span>
3472 <span class="comment">% clk1=temp.value(n);</span>
3473 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'TSoftStepDelay');</span>
3474 <span class="comment">% clk2=temp.value(n);</span>
3475 <span class="comment">%</span>
3476 <span class="comment">% jump=int32([0 39 26 13]);</span>
3477 <span class="comment">% handles.clk_pc  =jump +  int32(clk1);</span>
3478 <span class="comment">% handles.clk_soft=jump  + int32(clk2);</span>
3479 
3480 guidata(hObject, handles);
3481 
3482 
3483 
3484 <a name="_sub155" href="#_subfunctions" class="code">function edit_Nshot_soft_Callback(hObject, eventdata, handles)</a>
3485 <span class="comment">% hObject    handle to edit_Nshot_soft (see GCBO)</span>
3486 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3487 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3488 
3489 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_Nshot_soft as text</span>
3490 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_Nshot_soft as a double</span>
3491 
3492 
3493 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3494 <a name="_sub156" href="#_subfunctions" class="code">function edit_Nshot_soft_CreateFcn(hObject, eventdata, handles)</a>
3495 <span class="comment">% hObject    handle to edit_Nshot_soft (see GCBO)</span>
3496 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3497 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3498 
3499 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3500 <span class="comment">%       See ISPC and COMPUTER.</span>
3501 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3502     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3503 <span class="keyword">end</span>
3504 
3505 
3506 
3507 <a name="_sub157" href="#_subfunctions" class="code">function edit_laps_Callback(hObject, eventdata, handles)</a>
3508 <span class="comment">% hObject    handle to edit_laps (see GCBO)</span>
3509 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3510 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3511 
3512 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_laps as text</span>
3513 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_laps as a double</span>
3514 
3515 
3516 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3517 <a name="_sub158" href="#_subfunctions" class="code">function edit_laps_CreateFcn(hObject, eventdata, handles)</a>
3518 <span class="comment">% hObject    handle to edit_laps (see GCBO)</span>
3519 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3520 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3521 
3522 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3523 <span class="comment">%       See ISPC and COMPUTER.</span>
3524 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3525     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3526 <span class="keyword">end</span>
3527 
3528 
3529 
3530 <a name="_sub159" href="#_subfunctions" class="code">function edit_qlt1_Callback(hObject, eventdata, handles)</a>
3531 <span class="comment">% hObject    handle to edit_qlt1 (see GCBO)</span>
3532 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3533 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3534 
3535 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_qlt1 as text</span>
3536 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_qlt1 as a double</span>
3537 
3538 
3539 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3540 <a name="_sub160" href="#_subfunctions" class="code">function edit_qlt1_CreateFcn(hObject, eventdata, handles)</a>
3541 <span class="comment">% hObject    handle to edit_qlt1 (see GCBO)</span>
3542 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3543 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3544 
3545 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3546 <span class="comment">%       See ISPC and COMPUTER.</span>
3547 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3548     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3549 <span class="keyword">end</span>
3550 
3551 
3552 
3553 <a name="_sub161" href="#_subfunctions" class="code">function edit_iboo_Callback(hObject, eventdata, handles)</a>
3554 <span class="comment">% hObject    handle to edit_iboo (see GCBO)</span>
3555 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3556 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3557 
3558 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_iboo as text</span>
3559 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_iboo as a double</span>
3560 
3561 
3562 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3563 <a name="_sub162" href="#_subfunctions" class="code">function edit_iboo_CreateFcn(hObject, eventdata, handles)</a>
3564 <span class="comment">% hObject    handle to edit_iboo (see GCBO)</span>
3565 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3566 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3567 
3568 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3569 <span class="comment">%       See ISPC and COMPUTER.</span>
3570 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3571     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3572 <span class="keyword">end</span>
3573 
3574 
3575 
3576 <a name="_sub163" href="#_subfunctions" class="code">function edit_dians_Callback(hObject, eventdata, handles)</a>
3577 <span class="comment">% hObject    handle to edit_dians (see GCBO)</span>
3578 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3579 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3580 
3581 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_dians as text</span>
3582 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_dians as a double</span>
3583 
3584 
3585 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3586 <a name="_sub164" href="#_subfunctions" class="code">function edit_dians_CreateFcn(hObject, eventdata, handles)</a>
3587 <span class="comment">% hObject    handle to edit_dians (see GCBO)</span>
3588 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3589 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3590 
3591 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3592 <span class="comment">%       See ISPC and COMPUTER.</span>
3593 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3594     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3595 <span class="keyword">end</span>
3596 
3597 
3598 
3599 <a name="_sub165" href="#_subfunctions" class="code">function edit_rlt1_Callback(hObject, eventdata, handles)</a>
3600 <span class="comment">% hObject    handle to edit_rlt1 (see GCBO)</span>
3601 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3602 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3603 
3604 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_rlt1 as text</span>
3605 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_rlt1 as a double</span>
3606 
3607 
3608 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3609 <a name="_sub166" href="#_subfunctions" class="code">function edit_rlt1_CreateFcn(hObject, eventdata, handles)</a>
3610 <span class="comment">% hObject    handle to edit_rlt1 (see GCBO)</span>
3611 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3612 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3613 
3614 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3615 <span class="comment">%       See ISPC and COMPUTER.</span>
3616 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3617     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3618 <span class="keyword">end</span>
3619 
3620 
3621 
3622 <a name="_sub167" href="#_subfunctions" class="code">function edit_rboo_Callback(hObject, eventdata, handles)</a>
3623 <span class="comment">% hObject    handle to edit_rboo (see GCBO)</span>
3624 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3625 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3626 
3627 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_rboo as text</span>
3628 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_rboo as a double</span>
3629 
3630 
3631 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3632 <a name="_sub168" href="#_subfunctions" class="code">function edit_rboo_CreateFcn(hObject, eventdata, handles)</a>
3633 <span class="comment">% hObject    handle to edit_rboo (see GCBO)</span>
3634 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3635 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3636 
3637 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3638 <span class="comment">%       See ISPC and COMPUTER.</span>
3639 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3640     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3641 <span class="keyword">end</span>
3642 
3643 
3644 
3645 <a name="_sub169" href="#_subfunctions" class="code">function edit_rans_Callback(hObject, eventdata, handles)</a>
3646 <span class="comment">% hObject    handle to edit_rans (see GCBO)</span>
3647 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3648 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3649 
3650 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_rans as text</span>
3651 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_rans as a double</span>
3652 
3653 
3654 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3655 <a name="_sub170" href="#_subfunctions" class="code">function edit_rans_CreateFcn(hObject, eventdata, handles)</a>
3656 <span class="comment">% hObject    handle to edit_rans (see GCBO)</span>
3657 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3658 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3659 
3660 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3661 <span class="comment">%       See ISPC and COMPUTER.</span>
3662 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3663     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3664 <span class="keyword">end</span>
3665 
3666 
3667 
3668 <a name="_sub171" href="#_subfunctions" class="code">function edit_dians1_Callback(hObject, eventdata, handles)</a>
3669 <span class="comment">% hObject    handle to edit_dians1 (see GCBO)</span>
3670 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3671 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3672 
3673 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_dians1 as text</span>
3674 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_dians1 as a double</span>
3675 
3676 
3677 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3678 <a name="_sub172" href="#_subfunctions" class="code">function edit_dians1_CreateFcn(hObject, eventdata, handles)</a>
3679 <span class="comment">% hObject    handle to edit_dians1 (see GCBO)</span>
3680 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3681 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3682 
3683 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3684 <span class="comment">%       See ISPC and COMPUTER.</span>
3685 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3686     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3687 <span class="keyword">end</span>
3688 
3689 
3690 
3691 <a name="_sub173" href="#_subfunctions" class="code">function edit_cycle_Callback(hObject, eventdata, handles)</a>
3692 <span class="comment">% hObject    handle to edit_cycle (see GCBO)</span>
3693 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3694 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3695 
3696 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_cycle as text</span>
3697 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_cycle as a double</span>
3698 
3699 
3700 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3701 <a name="_sub174" href="#_subfunctions" class="code">function edit_cycle_CreateFcn(hObject, eventdata, handles)</a>
3702 <span class="comment">% hObject    handle to edit_cycle (see GCBO)</span>
3703 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3704 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3705 
3706 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3707 <span class="comment">%       See ISPC and COMPUTER.</span>
3708 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3709     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3710 <span class="keyword">end</span>
3711 
3712 
3713 
3714 <a name="_sub175" href="#_subfunctions" class="code">function edit_courant_total_Callback(hObject, eventdata, handles)</a>
3715 <span class="comment">% hObject    handle to edit_courant_total (see GCBO)</span>
3716 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3717 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3718 
3719 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_courant_total as text</span>
3720 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_courant_total as a double</span>
3721 
3722 
3723 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3724 <a name="_sub176" href="#_subfunctions" class="code">function edit_courant_total_CreateFcn(hObject, eventdata, handles)</a>
3725 <span class="comment">% hObject    handle to edit_courant_total (see GCBO)</span>
3726 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3727 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3728 
3729 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3730 <span class="comment">%       See ISPC and COMPUTER.</span>
3731 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3732     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3733 <span class="keyword">end</span>
3734 
3735 
3736 
3737 <a name="_sub177" href="#_subfunctions" class="code">function lin_canon_spm_Callback(hObject, eventdata, handles)</a>
3738 <span class="comment">% hObject    handle to lin_canon_spm (see GCBO)</span>
3739 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3740 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3741 
3742 <span class="comment">% Hints: get(hObject,'String') returns contents of lin_canon_spm as text</span>
3743 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lin_canon_spm as a double</span>
3744 
3745 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
3746 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
3747 tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacTimeDelay'</span>,delay);
3748 
3749 
3750 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3751 <a name="_sub178" href="#_subfunctions" class="code">function lin_canon_spm_CreateFcn(hObject, eventdata, handles)</a>
3752 <span class="comment">% hObject    handle to lin_canon_spm (see GCBO)</span>
3753 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3754 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3755 
3756 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3757 <span class="comment">%       See ISPC and COMPUTER.</span>
3758 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3759     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3760 <span class="keyword">end</span>
3761 
3762 
3763 <a name="_sub179" href="#_subfunctions" class="code">function  uipanel_mode_CreateFcn(hObject, eventdata, handles)</a>
3764 <span class="comment">% hObject    handle to lin_canon_spm (see GCBO)</span>
3765 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3766 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3767 
3768 
3769 <span class="comment">% % --------------------------------------------------------------------</span>
3770  <span class="keyword">function</span> <a href="#_sub180" class="code" title="subfunction uipanel_mode_SelectionChangeFcn(hObject, eventdata, handles)">uipanel_mode_SelectionChangeFcn</a>(hObject, eventdata, handles)
3771 <span class="comment">% % hObject    handle to uipanel_mode (see GCBO)</span>
3772 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
3773 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
3774 <span class="comment">%</span>
3775 
3776 modelinac=get(get(handles.uipanel_lpm_spm_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
3777 <span class="keyword">switch</span> modelinac  <span class="comment">% Get Tag of selected object</span>
3778     <span class="keyword">case</span> <span class="string">'no_mode'</span>
3779         eventlpm=int32(0);
3780         eventspm=int32(0);
3781     <span class="keyword">case</span> <span class="string">'lpm_mode'</span>
3782         eventlpm=int32(5);
3783         eventspm=int32(0);
3784     <span class="keyword">case</span> <span class="string">'spm_mode'</span>
3785         eventlpm=int32(0);
3786         eventspm=int32(5);
3787 <span class="keyword">end</span>
3788 
3789 event0=handles.event0;
3790 event00=handles.event00;
3791 
3792 mode=get(get(handles.uipanel_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
3793 
3794 tout=0.;
3795 <span class="keyword">switch</span> mode  <span class="comment">% Get Tag of selected object</span>
3796     <span class="keyword">case</span> <span class="string">'togglebutton_soft'</span>
3797     <span class="comment">% switch to soft</span>
3798         event=int32(5) ;<span class="comment">% adresse de l'injection</span>
3799         tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscEvent'</span>,        event); pause(tout);
3800         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>,        event0); pause(tout);
3801         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>,   event0); pause(tout);
3802         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>,      int32(1)); pause(tout);
3803         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigEvent'</span>,event); pause(tout);
3804         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigEvent'</span>,event); pause(tout);
3805         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigEvent'</span>,event); pause(tout);
3806         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigEvent'</span>,event); pause(tout); 
3807         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceEvent'</span>,   event); pause(tout);
3808         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1Event'</span>,        event); pause(tout);
3809         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2Event'</span>,        event); pause(tout);
3810         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscEvent'</span>,         event); pause(tout);
3811         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booEvent'</span>,    event); pause(tout);
3812         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigEvent'</span>,event);pause(tout);
3813         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigEvent'</span>, event); pause(tout);
3814         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigEvent'</span>,     event);
3815  
3816         tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareEvent'</span>,      event);pause(tout);
3817         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigEvent'</span>,  event);pause(tout);
3818         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigEvent'</span>,event);pause(tout);
3819         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigEvent'</span>,event);pause(tout);
3820         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigEvent'</span>,    event);pause(tout);
3821         tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,    event);pause(tout);
3822         tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctEvent'</span>,     event);pause(tout);
3823         tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvEvent'</span>,        event);pause(tout);
3824         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'emittanceEvent'</span>,   event);pause(tout);
3825         arg.svalue={<span class="string">'k1.trig'</span>,<span class="string">'k2.trig'</span>,<span class="string">'k3.trig'</span>,<span class="string">'k4.trig'</span>}; arg.lvalue=int32([5 5 5 5]); 
3826         tango_command_inout(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>,<span class="string">'SetEventsNumbers'</span>,arg);<span class="comment">% chagement groupé addresses sans update</span>
3827         tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'Update'</span>);
3828         
3829         arg.svalue={<span class="string">'sep-p.trig'</span>,<span class="string">'sep-a.trig'</span>}; arg.lvalue=int32([5 5]); 
3830         tango_command_inout(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,<span class="string">'SetEventsNumbers'</span>,arg);<span class="comment">% chagement groupé address sans update</span>
3831         tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'Update'</span>);
3832         
3833         tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctEvent'</span>,    int32(3));pause(tout);
3834         tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3835         tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3836         tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3837         tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3838         tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3839         tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3840         tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3841         tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3842         tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3843         tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3844         tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3845         tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3846         tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3847         tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3848         tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3849         tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);     
3850        
3851 
3852     <span class="comment">% special modulateur</span>
3853         inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
3854         inj=str2double(get(handles.central_inj,<span class="string">'String'</span>));
3855         soft=str2double(get(handles.central_soft,<span class="string">'String'</span>));
3856         pc=str2double(get(handles.central_pc,<span class="string">'String'</span>));
3857         temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
3858         delay=inj_offset+soft-pc;
3859         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
3860         <a href="start_soft.html" class="code" title="function start_soft">start_soft</a>
3861      <span class="comment">% special septum actif boo et ans</span>
3862         r=(1-0.0004);
3863         boo=readattribute(<span class="string">'BOO-C12/EP/AL_SEP_A.Ext/voltage'</span>); boo=boo*r;
3864         writeattribute(<span class="string">'BOO-C12/EP/AL_SEP_A.Ext/voltage,'</span>,boo);
3865         ans=readattribute(<span class="string">'ANS-C01/EP/AL_SEP_A/voltage'</span>); ans=ans*r;
3866         writeattribute(<span class="string">'ANS-C01/EP/AL_SEP_A/voltage,'</span>,ans);     
3867            
3868     <span class="keyword">case</span> <span class="string">'togglebutton_3Hz'</span>
3869         
3870      <span class="comment">% switch to 3Hz</span>
3871         event=int32(2) ;<span class="comment">% adresse de l'injection</span>
3872         tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscEvent'</span>,        event); pause(tout);
3873         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>,        event0); pause(tout);
3874         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>,   event0); pause(tout);
3875         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareEvent'</span>,      eint32(1)); pause(tout);
3876         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigEvent'</span>,event); pause(tout);
3877         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigEvent'</span>,event); pause(tout);
3878         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigEvent'</span>,event); pause(tout);
3879         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigEvent'</span>,event); pause(tout); 
3880         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceEvent'</span>,   event); pause(tout);
3881         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1Event'</span>,        event); pause(tout);
3882         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2Event'</span>,        event); pause(tout);
3883         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscEvent'</span>,         event); pause(tout);
3884         tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booEvent'</span>,    event); pause(tout);
3885         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigEvent'</span>,event);pause(tout);
3886         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigEvent'</span>, event); pause(tout);
3887         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigEvent'</span>,     event);
3888         event=int32(3) ;<span class="comment">% adresse de extraction</span>
3889         tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareEvent'</span>,      event);pause(tout);
3890         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigEvent'</span>,  event);pause(tout);
3891         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigEvent'</span>,event);pause(tout);
3892         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigEvent'</span>,event);pause(tout);
3893         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigEvent'</span>,    event);pause(tout);
3894         tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,    event);pause(tout);
3895         tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctEvent'</span>,     event);pause(tout);
3896         tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvEvent'</span>,        event);pause(tout);
3897         tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'emittanceEvent'</span>,   event);pause(tout);
3898         
3899         arg.svalue={<span class="string">'k1.trig'</span>,<span class="string">'k2.trig'</span>,<span class="string">'k3.trig'</span>,<span class="string">'k4.trig'</span>}; arg.lvalue=int32([3 3 3 3]); 
3900         tango_command_inout(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>,<span class="string">'SetEventsNumbers'</span>,arg);<span class="comment">% chagement groupé address sans update</span>
3901        
3902         arg.svalue={<span class="string">'sep-p'</span>,<span class="string">'sep-a'</span>}; arg.lvalue=int32([3 3]); 
3903         tango_command_inout(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,<span class="string">'SetEventsNumbers'</span>,arg);<span class="comment">% chagement groupé address sans update</span>
3904         
3905         tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctEvent'</span>,    event);pause(tout);
3906         tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3907         tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3908         tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3909         tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3910         tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3911         tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3912         tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3913         tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3914         tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
3915         tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3916         tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3917         tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3918         tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3919         tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3920         tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3921         tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
3922        
3923     <span class="comment">% special modulateur</span>
3924         inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
3925         inj=str2double(get(handles.central_inj,<span class="string">'String'</span>));
3926         soft=str2double(get(handles.central_soft,<span class="string">'String'</span>));
3927         temp=tango_read_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>);
3928         delay=inj_offset+0;
3929         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
3930     <span class="comment">% special septum actif boo et ans</span>
3931         r=(1+0.0004);
3932         boo=readattribute(<span class="string">'BOO-C12/EP/AL_SEP_A.Ext/voltage'</span>); boo=boo*r;
3933         writeattribute(<span class="string">'BOO-C12/EP/AL_SEP_A.Ext/voltage,'</span>,boo);
3934         ans=readattribute(<span class="string">'ANS-C01/EP/AL_SEP_A/voltage'</span>); ans=ans*r;
3935         writeattribute(<span class="string">'ANS-C01/EP/AL_SEP_A/voltage,'</span>,ans);     
3936 <span class="keyword">end</span>
3937 
3938 display(<span class="string">'ok change address'</span>)
3939 
3940 
3941 
3942 <a name="_sub180" href="#_subfunctions" class="code">function edit_filling_entrer_bunch1_Callback(hObject, eventdata, handles)</a>
3943 <span class="comment">% hObject    handle to edit_filling_entrer_bunch1 (see GCBO)</span>
3944 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3945 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3946 
3947 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_entrer_bunch1 as text</span>
3948 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_entrer_bunch1 as a double</span>
3949 
3950 
3951 
3952 
3953 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3954 <a name="_sub181" href="#_subfunctions" class="code">function edit_filling_entrer_bunch1_CreateFcn(hObject, eventdata, handles)</a>
3955 <span class="comment">% hObject    handle to edit_filling_entrer_bunch1 (see GCBO)</span>
3956 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3957 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3958 
3959 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3960 <span class="comment">%       See ISPC and COMPUTER.</span>
3961 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3962     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3963 <span class="keyword">end</span>
3964 
3965 
3966 
3967 <a name="_sub182" href="#_subfunctions" class="code">function edit_Imin_Callback(hObject, eventdata, handles)</a>
3968 <span class="comment">% hObject    handle to edit_Imin (see GCBO)</span>
3969 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3970 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3971 
3972 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_Imin as text</span>
3973 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_Imin as a double</span>
3974 
3975 
3976 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3977 <a name="_sub183" href="#_subfunctions" class="code">function edit_Imin_CreateFcn(hObject, eventdata, handles)</a>
3978 <span class="comment">% hObject    handle to edit_Imin (see GCBO)</span>
3979 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3980 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3981 
3982 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3983 <span class="comment">%       See ISPC and COMPUTER.</span>
3984 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3985     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3986 <span class="keyword">end</span>
3987 
3988 
3989 <span class="comment">% --------------------------------------------------------------------</span>
3990 <a name="_sub184" href="#_subfunctions" class="code">function uipanel_spm_mode_SelectionChangeFcn(hObject, eventdata, handles)</a>
3991 <span class="comment">% hObject    handle to uipanel_spm_mode (see GCBO)</span>
3992 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3993 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3994 
3995 <span class="comment">%h=get(handles.uipanel_spm_mode);</span>
3996 <span class="comment">%get(h.Children)</span>
3997 
3998 mode=get(get(handles.uipanel_spm_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
3999 
4000 <span class="keyword">switch</span> mode  <span class="comment">% Get Tag of selected object</span>
4001     <span class="keyword">case</span> <span class="string">'spm_mode_1'</span>
4002         display(<span class="string">'spm_mode_1'</span>)     
4003         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'mode'</span>,int16(1));
4004     <span class="keyword">case</span> <span class="string">'spm_mode_2'</span>
4005         display(<span class="string">'spm_mode_2'</span>)  
4006         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'mode'</span>,int16(2));
4007     <span class="keyword">case</span> <span class="string">'spm_mode_2p'</span>
4008         display(<span class="string">'spm_mode_2p'</span>)   
4009         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'mode'</span>,int16(3));
4010     <span class="keyword">case</span> <span class="string">'spm_mode_3'</span>
4011         display(<span class="string">'spm_mode_3'</span>)    
4012         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'mode'</span>,int16(4));   
4013 <span class="keyword">end</span>
4014 
4015 
4016 <span class="comment">% --------------------------------------------------------------------</span>
4017 <a name="_sub185" href="#_subfunctions" class="code">function uipanel_lpm_spm_mode_SelectionChangeFcn(hObject, eventdata, handles)</a>
4018 <span class="comment">% hObject    handle to uipanel_lpm_spm_mode (see GCBO)</span>
4019 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
4020 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
4021 
4022 
4023 mode=get(get(handles.uipanel_lpm_spm_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
4024 modeinj=get(get(handles.uipanel_mode,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>);
4025 event0=int32(0);
4026 <span class="keyword">if</span> strcmp(modeinj,<span class="string">'togglebutton_soft'</span>)
4027     event=int32(5);
4028 <span class="keyword">elseif</span> strcmp(modeinj,<span class="string">'togglebutton_3Hz'</span>)
4029     event=event0
4030 <span class="keyword">end</span>
4031 
4032 <span class="keyword">switch</span> mode  <span class="comment">% Get Tag of selected object</span>
4033     <span class="keyword">case</span> <span class="string">'no_mode'</span>
4034         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>,event0); 
4035         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>,event0); 
4036         
4037     <span class="keyword">case</span> <span class="string">'lpm_mode'</span>
4038         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>,event); 
4039         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>,event0);     
4040         
4041         tango_write_attribute(<span class="string">'LT1/AE/CV.2'</span>, <span class="string">'current'</span>,  0.088 );
4042         tango_write_attribute(<span class="string">'LT1/AE/CV.3'</span>, <span class="string">'current'</span>, -0.34 );
4043 
4044     <span class="keyword">case</span> <span class="string">'spm_mode'</span>
4045         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.LPM.1'</span>, <span class="string">'lpmEvent'</span>,event0); 
4046         tango_write_attribute2(<span class="string">'LIN/SY/LOCAL.SPM.1'</span>, <span class="string">'spmLinacEvent'</span>,event);   
4047         
4048         tango_write_attribute(<span class="string">'LT1/AE/CV.2'</span>, <span class="string">'current'</span>,  0.112 );
4049         tango_write_attribute(<span class="string">'LT1/AE/CV.3'</span>, <span class="string">'current'</span>, -0.077 );
4050         
4051 <span class="keyword">end</span>
4052 
4053 
4054 <span class="comment">% --- Executes on button press in pushbutton_load_golden.</span>
4055 <a name="_sub186" href="#_subfunctions" class="code">function pushbutton_load_golden_Callback(hObject, eventdata, handles)</a>
4056 <span class="comment">% hObject    handle to pushbutton_load_golden (see GCBO)</span>
4057 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
4058 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
4059 set(handles.button_injection_soft,<span class="string">'Enable'</span>,<span class="string">'Off'</span>)
4060 file=<span class="string">'golden_synchro.mat'</span>
4061 <a href="load_synchro.html" class="code" title="function load_synchro(file)">load_synchro</a>(file)
4062 set(handles.button_injection_soft,<span class="string">'Enable'</span>,<span class="string">'On'</span>)
4063</pre></div>
<hr><address>Generated on Mon 21-May-2007 15:35:27 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>