<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of synchro_injecteur5</title>
  <meta name="keywords" content="synchro_injecteur5">
  <meta name="description" content="SYNCHRO_INJECTEUR5 M-file for synchro_injecteur5.fig">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">machine</a> &gt; <a href="#">Soleil</a> &gt; <a href="../index.html">common</a> &gt; <a href="index.html">synchro</a> &gt; synchro_injecteur5.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for machine/Soleil/common/synchro&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>synchro_injecteur5
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>SYNCHRO_INJECTEUR5 M-file for synchro_injecteur5.fig</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function varargout = synchro_injecteur5(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> SYNCHRO_INJECTEUR5 M-file for synchro_injecteur5.fig
      SYNCHRO_INJECTEUR5, by itself, creates a new SYNCHRO_INJECTEUR5 or raises the existing
      singleton*.

      H = SYNCHRO_INJECTEUR5 returns the handle to a new SYNCHRO_INJECTEUR5 or the handle to
      the existing singleton*.

      SYNCHRO_INJECTEUR5('CALLBACK',hObject,eventData,handles,...) calls the local
      function named CALLBACK in SYNCHRO_INJECTEUR5.M with the given input arguments.

      SYNCHRO_INJECTEUR5('Property','Value',...) creates a new SYNCHRO_INJECTEUR5 or raises the
      existing singleton*.  Starting from the left, property value pairs are
      applied to the GUI before synchro_injecteur5_OpeningFunction gets called.  An
      unrecognized property name or invalid value makes property application
      stop.  All inputs are passed to synchro_injecteur5_OpeningFcn via varargin.

      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one
      instance to run (singleton)&quot;.

 See also: GUIDE, GUIDATA, GUIHANDLES</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="bucketnumber.html" class="code" title="function [n1 n2] = bucketnumber(num)">bucketnumber</a>	BUCKETNUMBER - Computes n1 n2 for timing system master board for a bucket</li><li><a href="fix_quart.html" class="code" title="function [clk_pc,clk_soft]=fix_quart">fix_quart</a>	fix premier quart</li><li><a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>	calcul efficacité</li><li><a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>	retour update</li><li><a href="start_3Hz.html" class="code" title="function start_3Hz(event)">start_3Hz</a>	test 3Hz</li><li><a href="start_soft.html" class="code" title="function start_soft">start_soft</a>	test 3Hz</li><li><a href="step.html" class="code" title="">step</a>	reglage delta tune à 110 MeV</li><li><a href="stop_3Hz.html" class="code" title="function stop_3Hz">stop_3Hz</a>	test 3Hz</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function synchro_injecteur5_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = synchro_injecteur5_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function alim_dipole_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function alim_dipole_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function alim_qf_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function alim_qf_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub7" class="code">function alim_qd_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub8" class="code">function alim_qd_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub9" class="code">function alim_sf_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub10" class="code">function alim_sf_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub11" class="code">function alim_sd_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub12" class="code">function alim_sd_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub13" class="code">function boo_rf_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub14" class="code">function boo_rf_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub15" class="code">function lin_canon_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub16" class="code">function lin_canon_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub17" class="code">function lt1_emittance_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub18" class="code">function lt1_emittance_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub19" class="code">function lt1_MC1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub20" class="code">function lt1_MC1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub21" class="code">function lt1_MC2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub22" class="code">function lt1_MC2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub23" class="code">function lt1_osc_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub24" class="code">function lt1_osc_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub25" class="code">function sdc1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub26" class="code">function sdc1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub27" class="code">function boo_inj_septum_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub28" class="code">function boo_inj_septum_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub29" class="code">function boo_inj_kicker_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub30" class="code">function boo_inj_kicker_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub31" class="code">function boo_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub32" class="code">function boo_bpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub33" class="code">function boo_nod_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub34" class="code">function boo_nod_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub35" class="code">function boo_dcct_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub36" class="code">function boo_dcct_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub37" class="code">function boo_hall_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub38" class="code">function boo_hall_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub39" class="code">function pc_address_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub40" class="code">function pc_address_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub41" class="code">function inj_address_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub42" class="code">function inj_address_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub43" class="code">function edit21_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub44" class="code">function edit21_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub45" class="code">function soft_address_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub46" class="code">function soft_address_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub47" class="code">function acquisition1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub48" class="code">function acquisition2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub49" class="code">function soft_button_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub50" class="code">function push_soft_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub51" class="code">function periode_edit_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub52" class="code">function periode_edit_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub53" class="code">function uibuttongroup_SelectionChangeFcn(hObject,eventdata,handles)</a></li><li><a href="#_sub54" class="code">function fonction_alex(arg1,arg2,hObject,eventdata,handles)</a></li><li><a href="#_sub55" class="code">function Closinggui(obj, event, handles, figure1)</a></li><li><a href="#_sub56" class="code">function button_softmoins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub57" class="code">function button_softplus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub58" class="code">function button_injmoins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub59" class="code">function button_injplus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub60" class="code">function boo_ext_dof_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub61" class="code">function boo_ext_dof_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub62" class="code">function boo_ext_sept_p_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub63" class="code">function boo_ext_sept_p_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub64" class="code">function boo_ext_sept_a_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub65" class="code">function boo_ext_sept_a_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub66" class="code">function boo_ext_kicker_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub67" class="code">function boo_ext_kicker_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub68" class="code">function ans_inj_sept_p_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub69" class="code">function ans_inj_sept_p_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub70" class="code">function ans_inj_sept_a_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub71" class="code">function ans_inj_sept_a_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub72" class="code">function ans_inj_k1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub73" class="code">function ans_inj_k1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub74" class="code">function ans_inj_k2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub75" class="code">function ans_inj_k2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub76" class="code">function ans_inj_k3_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub77" class="code">function ans_inj_k3_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub78" class="code">function ans_inj_k4_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub79" class="code">function ans_inj_k4_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub80" class="code">function ans_dcct_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub81" class="code">function ans_dcct_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub82" class="code">function ans_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub83" class="code">function ans_bpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub84" class="code">function ext_address_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub85" class="code">function ext_address_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub86" class="code">function soft_address1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub87" class="code">function soft_address1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub88" class="code">function radiobutton6_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub89" class="code">function pushbutton8_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub90" class="code">function pushbutton9_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub91" class="code">function button_extmoins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub92" class="code">function button_extplus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub93" class="code">function sdc2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub94" class="code">function sdc2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub95" class="code">function lt2_emittance_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub96" class="code">function lt2_emittance_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub97" class="code">function lt2_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub98" class="code">function lt2_bpm_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub99" class="code">function lt2_osc_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub100" class="code">function lt2_osc_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub101" class="code">function lin_modulateur_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub102" class="code">function lin_modulateur_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub103" class="code">function inj_offset_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub104" class="code">function inj_offset_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub105" class="code">function ext_offset_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub106" class="code">function ext_offset_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub107" class="code">function Acquisition_address_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub108" class="code">function button_offinj_moins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub109" class="code">function button_offinj_plus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub110" class="code">function button_offext_moins_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub111" class="code">function button_offext_plus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub112" class="code">function button_bpm_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub113" class="code">function ans_bpm_c01_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub114" class="code">function ans_bpm_c01_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub115" class="code">function ans_bpm_c02_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub116" class="code">function ans_bpm_c02_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub117" class="code">function ans_bpm_c03_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub118" class="code">function ans_bpm_c03_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub119" class="code">function ans_bpm_c04_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub120" class="code">function ans_bpm_c04_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub121" class="code">function ans_bpm_c05_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub122" class="code">function ans_bpm_c05_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub123" class="code">function ans_bpm_c06_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub124" class="code">function ans_bpm_c06_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub125" class="code">function ans_bpm_c07_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub126" class="code">function ans_bpm_c07_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub127" class="code">function ans_bpm_c08_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub128" class="code">function ans_bpm_c08_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub129" class="code">function ans_bpm_c09_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub130" class="code">function ans_bpm_c09_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub131" class="code">function ans_bpm_c10_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub132" class="code">function ans_bpm_c10_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub133" class="code">function ans_bpm_c11_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub134" class="code">function ans_bpm_c11_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub135" class="code">function ans_bpm_c12_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub136" class="code">function ans_bpm_c12_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub137" class="code">function ans_bpm_c13_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub138" class="code">function ans_bpm_c13_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub139" class="code">function ans_bpm_c14_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub140" class="code">function ans_bpm_c14_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub141" class="code">function ans_bpm_c15_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub142" class="code">function ans_bpm_c15_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub143" class="code">function ans_bpm_c16_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub144" class="code">function ans_bpm_c16_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub145" class="code">function edit_filling_relecture_tables_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub146" class="code">function edit_filling_relecture_tables_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub147" class="code">function edit72_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub148" class="code">function edit72_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub149" class="code">function edit_filling_relecture_bunch_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub150" class="code">function edit_filling_relecture_bunch_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub151" class="code">function edit_filling_entrer_bunch_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub152" class="code">function edit_filling_entrer_bunch_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub153" class="code">function button_update_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub154" class="code">function button_trigstatus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub155" class="code">function togglebutton2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub156" class="code">function listbox_fillingmode_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub157" class="code">function listbox_fillingmode_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub158" class="code">function button_fix_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub159" class="code">function edit_Nshot_soft_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub160" class="code">function edit_Nshot_soft_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub161" class="code">function edit_laps_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub162" class="code">function edit_laps_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub163" class="code">function edit_qlt1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub164" class="code">function edit_qlt1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub165" class="code">function edit_iboo_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub166" class="code">function edit_iboo_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub167" class="code">function edit_dians_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub168" class="code">function edit_dians_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub169" class="code">function edit_rlt1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub170" class="code">function edit_rlt1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub171" class="code">function edit_rboo_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub172" class="code">function edit_rboo_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub173" class="code">function edit_rans_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub174" class="code">function edit_rans_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub175" class="code">function edit_dians1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub176" class="code">function edit_dians1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub177" class="code">function edit_cycle_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub178" class="code">function edit_cycle_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub179" class="code">function edit_courant_total_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub180" class="code">function edit_courant_total_CreateFcn(hObject, eventdata, handles)</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = synchro_injecteur5(varargin)</a>
0002 <span class="comment">% SYNCHRO_INJECTEUR5 M-file for synchro_injecteur5.fig</span>
0003 <span class="comment">%      SYNCHRO_INJECTEUR5, by itself, creates a new SYNCHRO_INJECTEUR5 or raises the existing</span>
0004 <span class="comment">%      singleton*.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%      H = SYNCHRO_INJECTEUR5 returns the handle to a new SYNCHRO_INJECTEUR5 or the handle to</span>
0007 <span class="comment">%      the existing singleton*.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%      SYNCHRO_INJECTEUR5('CALLBACK',hObject,eventData,handles,...) calls the local</span>
0010 <span class="comment">%      function named CALLBACK in SYNCHRO_INJECTEUR5.M with the given input arguments.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%      SYNCHRO_INJECTEUR5('Property','Value',...) creates a new SYNCHRO_INJECTEUR5 or raises the</span>
0013 <span class="comment">%      existing singleton*.  Starting from the left, property value pairs are</span>
0014 <span class="comment">%      applied to the GUI before synchro_injecteur5_OpeningFunction gets called.  An</span>
0015 <span class="comment">%      unrecognized property name or invalid value makes property application</span>
0016 <span class="comment">%      stop.  All inputs are passed to synchro_injecteur5_OpeningFcn via varargin.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">%      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one</span>
0019 <span class="comment">%      instance to run (singleton)&quot;.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% See also: GUIDE, GUIDATA, GUIHANDLES</span>
0022 
0023 <span class="comment">% Edit the above text to modify the response to help synchro_injecteur5</span>
0024 
0025 <span class="comment">% Last Modified by GUIDE v2.5 14-Oct-2006 21:06:26</span>
0026 
0027 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0028 gui_Singleton = 1;
0029 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0030                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0031                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction synchro_injecteur5_OpeningFcn(hObject, eventdata, handles, varargin)">synchro_injecteur5_OpeningFcn</a>, <span class="keyword">...</span>
0032                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = synchro_injecteur5_OutputFcn(hObject, eventdata, handles)">synchro_injecteur5_OutputFcn</a>, <span class="keyword">...</span>
0033                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0034                    <span class="string">'gui_Callback'</span>,   []);
0035 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0036     gui_State.gui_Callback = str2func(varargin{1});
0037 <span class="keyword">end</span>
0038 
0039 <span class="keyword">if</span> nargout
0040     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0041 <span class="keyword">else</span>
0042     gui_mainfcn(gui_State, varargin{:});
0043 <span class="keyword">end</span>
0044 <span class="comment">% End initialization code - DO NOT EDIT</span>
0045 
0046 
0047 <span class="comment">% --- Executes just before synchro_injecteur5 is made visible.</span>
0048 <a name="_sub1" href="#_subfunctions" class="code">function synchro_injecteur5_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0049 <span class="comment">% This function has no output args, see OutputFcn.</span>
0050 <span class="comment">% hObject    handle to figure</span>
0051 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0052 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0053 <span class="comment">% varargin   command line arguments to synchro_injecteur5 (see VARARGIN)</span>
0054 
0055 <span class="comment">% Choose default command line output for synchro_injecteur5</span>
0056 handles.output = hObject;
0057 load(<span class="string">'synchro_offset'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>);
0058 set(handles.inj_offset,<span class="string">'String'</span>,num2str(inj_offset));
0059 set(handles.ext_offset,<span class="string">'String'</span>,num2str(ext_offset));
0060 
0061 <span class="comment">% periode du trigger par defaut = 4/3</span>
0062 handles.periode = 10;
0063 set(handles.periode_edit,<span class="string">'String'</span>,num2str(handles.periode));
0064 set(handles.edit_Nshot_soft,<span class="string">'String'</span>,num2str(1));
0065 set(handles.edit_laps,<span class="string">'String'</span>,1.0);
0066 
0067 <span class="comment">%Mode</span>
0068 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>);
0069 clk1=temp.value(1);
0070 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
0071 clk2=temp.value(1);
0072 jump=int32([0 39 26 13]);
0073 handles.clk_pc  =jump +  int32(clk1);
0074 handles.clk_soft=jump  + int32(clk2);
0075 handles.quart=1;
0076 
0077 handles.mode = <span class="string">'Mode=???'</span>;
0078 set(handles.edit_filling_relecture_tables,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0079 set(handles.edit_filling_relecture_bunch,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0080 
0081 set(handles.panel_bpm,<span class="string">'Visible'</span>,<span class="string">'off'</span>);
0082 
0083 <span class="comment">% Creates timer Infinite loop</span>
0084 timer1=timer(<span class="string">'StartDelay'</span>,1,<span class="keyword">...</span>
0085     <span class="string">'ExecutionMode'</span>,<span class="string">'fixedRate'</span>,<span class="string">'Period'</span>,handles.periode,<span class="string">'TasksToExecute'</span>,Inf);
0086 timer1.TimerFcn = {@<a href="#_sub54" class="code" title="subfunction fonction_alex(arg1,arg2,hObject,eventdata,handles)">fonction_alex</a>, hObject,eventdata, handles};
0087 setappdata(handles.figure1,<span class="string">'Timer'</span>,timer1);
0088 
0089 <span class="comment">% button group sur on/off timer du trigger</span>
0090 h = uibuttongroup(<span class="string">'visible'</span>,<span class="string">'off'</span>,<span class="string">'Position'</span>,[0.1485 0.29 0.10 0.12],<span class="keyword">...</span>
0091     <span class="string">'Title'</span>,<span class="string">''</span>,<span class="string">'TitlePosition'</span>,<span class="string">'centertop'</span>,<span class="keyword">...</span>
0092     <span class="string">'BackgroundColor'</span>,[1 0.3 0 ]);
0093 u1 = uicontrol(<span class="string">'Style'</span>,<span class="string">'Radio'</span>,<span class="string">'String'</span>,<span class="string">'OFF'</span>,<span class="string">'Tag'</span>,<span class="string">'radiobutton1'</span>,<span class="keyword">...</span>
0094     <span class="string">'pos'</span>,[45 20 40 25],<span class="string">'parent'</span>,h,<span class="string">'HandleVisibility'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0095     <span class="string">'BackgroundColor'</span>,[1 0.3 0  ]);
0096 u2 = uicontrol(<span class="string">'Style'</span>,<span class="string">'Radio'</span>,<span class="string">'String'</span>,<span class="string">'ON'</span>,<span class="string">'Tag'</span>,<span class="string">'radiobutton2'</span>,<span class="keyword">...</span>
0097     <span class="string">'pos'</span>,[45 50 40 25],<span class="string">'parent'</span>,h,<span class="string">'HandleVisibility'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0098     <span class="string">'BackgroundColor'</span>,[1 0.3 0 ]);
0099 set(h,<span class="string">'SelectionChangeFcn'</span>,<span class="keyword">...</span>
0100     {@<a href="#_sub53" class="code" title="subfunction uibuttongroup_SelectionChangeFcn(hObject,eventdata,handles)">uibuttongroup_SelectionChangeFcn</a>,handles});
0101 
0102 handles.off = u1;
0103 handles.on = u2;
0104 
0105 set(h,<span class="string">'SelectedObject'</span>,u1); 
0106 set(h,<span class="string">'Visible'</span>,<span class="string">'on'</span>);
0107 
0108 <span class="comment">%% Set closing gui function</span>
0109 set(handles.figure1,<span class="string">'CloseRequestFcn'</span>,{@<a href="#_sub55" class="code" title="subfunction Closinggui(obj, event, handles, figure1)">Closinggui</a>,timer1,handles.figure1});
0110 
0111 
0112 
0113 <span class="comment">% Update handles structure</span>
0114 guidata(hObject, handles);
0115 
0116 <span class="comment">% UIWAIT makes synchro_injecteur5 wait for user response (see UIRESUME)</span>
0117 <span class="comment">% uiwait(handles.figure1);</span>
0118 
0119 
0120 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0121 <a name="_sub2" href="#_subfunctions" class="code">function varargout = synchro_injecteur5_OutputFcn(hObject, eventdata, handles) </a>
0122 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0123 <span class="comment">% hObject    handle to figure</span>
0124 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0125 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0126 
0127 <span class="comment">% Get default command line output from handles structure</span>
0128 varargout{1} = handles.output;
0129 
0130 
0131 
0132 <a name="_sub3" href="#_subfunctions" class="code">function alim_dipole_Callback(hObject, eventdata, handles)</a>
0133 <span class="comment">% hObject    handle to alim_dipole (see GCBO)</span>
0134 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0135 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0136 
0137 <span class="comment">% Hints: get(hObject,'String') returns contents of alim_dipole as text</span>
0138 <span class="comment">%        str2double(get(hObject,'String')) returns contents of alim_dipole as a double</span>
0139 h=gcf
0140 delay=str2double(get(hObject,<span class="string">'String'</span>));
0141 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTimeDelay'</span>,delay);
0142 
0143 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0144 <a name="_sub4" href="#_subfunctions" class="code">function alim_dipole_CreateFcn(hObject, eventdata, handles)</a>
0145 <span class="comment">% hObject    handle to alim_dipole (see GCBO)</span>
0146 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0147 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0148 
0149 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0150 <span class="comment">%       See ISPC and COMPUTER.</span>
0151 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0152     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0153 <span class="keyword">end</span>
0154 
0155 
0156 <a name="_sub5" href="#_subfunctions" class="code">function alim_qf_Callback(hObject, eventdata, handles)</a>
0157 <span class="comment">% hObject    handle to alim_qf (see GCBO)</span>
0158 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0159 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0160 
0161 <span class="comment">% Hints: get(hObject,'String') returns contents of alim_qf as text</span>
0162 <span class="comment">%        str2double(get(hObject,'String')) returns contents of alim_qf as a double</span>
0163 
0164 delay=str2double(get(hObject,<span class="string">'String'</span>));
0165 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTimeDelay'</span>,delay);
0166 
0167 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0168 <a name="_sub6" href="#_subfunctions" class="code">function alim_qf_CreateFcn(hObject, eventdata, handles)</a>
0169 <span class="comment">% hObject    handle to alim_qf (see GCBO)</span>
0170 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0171 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0172 
0173 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0174 <span class="comment">%       See ISPC and COMPUTER.</span>
0175 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0176     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0177 <span class="keyword">end</span>
0178 
0179 
0180 
0181 <a name="_sub7" href="#_subfunctions" class="code">function alim_qd_Callback(hObject, eventdata, handles)</a>
0182 <span class="comment">% hObject    handle to alim_qd (see GCBO)</span>
0183 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0184 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0185 
0186 <span class="comment">% Hints: get(hObject,'String') returns contents of alim_qd as text</span>
0187 <span class="comment">%        str2double(get(hObject,'String')) returns contents of alim_qd as a double</span>
0188 get(hObject,<span class="string">'Tag'</span>)
0189 delay=str2double(get(hObject,<span class="string">'String'</span>));
0190 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTimeDelay'</span>,delay);
0191 
0192 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0193 <a name="_sub8" href="#_subfunctions" class="code">function alim_qd_CreateFcn(hObject, eventdata, handles)</a>
0194 <span class="comment">% hObject    handle to alim_qd (see GCBO)</span>
0195 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0196 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0197 
0198 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0199 <span class="comment">%       See ISPC and COMPUTER.</span>
0200 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0201     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0202 <span class="keyword">end</span>
0203 
0204 
0205 
0206 <a name="_sub9" href="#_subfunctions" class="code">function alim_sf_Callback(hObject, eventdata, handles)</a>
0207 <span class="comment">% hObject    handle to alim_sf (see GCBO)</span>
0208 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0209 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0210 
0211 <span class="comment">% Hints: get(hObject,'String') returns contents of alim_sf as text</span>
0212 <span class="comment">%        str2double(get(hObject,'String')) returns contents of alim_sf as a double</span>
0213 
0214 delay=str2double(get(hObject,<span class="string">'String'</span>));
0215 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTimeDelay'</span>,delay);
0216 
0217 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0218 <a name="_sub10" href="#_subfunctions" class="code">function alim_sf_CreateFcn(hObject, eventdata, handles)</a>
0219 <span class="comment">% hObject    handle to alim_sf (see GCBO)</span>
0220 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0221 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0222 
0223 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0224 <span class="comment">%       See ISPC and COMPUTER.</span>
0225 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0226     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0227 <span class="keyword">end</span>
0228 
0229 
0230 
0231 <a name="_sub11" href="#_subfunctions" class="code">function alim_sd_Callback(hObject, eventdata, handles)</a>
0232 <span class="comment">% hObject    handle to alim_sd (see GCBO)</span>
0233 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0234 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0235 
0236 <span class="comment">% Hints: get(hObject,'String') returns contents of alim_sd as text</span>
0237 <span class="comment">%        str2double(get(hObject,'String')) returns contents of alim_sd as a double</span>
0238 
0239 delay=str2double(get(hObject,<span class="string">'String'</span>));
0240 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTimeDelay'</span>,delay);
0241 
0242 
0243 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0244 <a name="_sub12" href="#_subfunctions" class="code">function alim_sd_CreateFcn(hObject, eventdata, handles)</a>
0245 <span class="comment">% hObject    handle to alim_sd (see GCBO)</span>
0246 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0247 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0248 
0249 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0250 <span class="comment">%       See ISPC and COMPUTER.</span>
0251 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0252     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0253 <span class="keyword">end</span>
0254 
0255 
0256 
0257 <a name="_sub13" href="#_subfunctions" class="code">function boo_rf_Callback(hObject, eventdata, handles)</a>
0258 <span class="comment">% hObject    handle to boo_rf (see GCBO)</span>
0259 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0260 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0261 
0262 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_rf as text</span>
0263 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_rf as a double</span>
0264 
0265 delay=str2double(get(hObject,<span class="string">'String'</span>));
0266 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTimeDelay'</span>,delay);
0267 
0268 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0269 <a name="_sub14" href="#_subfunctions" class="code">function boo_rf_CreateFcn(hObject, eventdata, handles)</a>
0270 <span class="comment">% hObject    handle to boo_rf (see GCBO)</span>
0271 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0272 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0273 
0274 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0275 <span class="comment">%       See ISPC and COMPUTER.</span>
0276 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0277     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0278 <span class="keyword">end</span>
0279 
0280 
0281 
0282 <a name="_sub15" href="#_subfunctions" class="code">function lin_canon_Callback(hObject, eventdata, handles)</a>
0283 <span class="comment">% hObject    handle to lin_canon (see GCBO)</span>
0284 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0285 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0286 
0287 <span class="comment">% Hints: get(hObject,'String') returns contents of lin_canon as text</span>
0288 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lin_canon as a double</span>
0289 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0290 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0291 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmTimeDelay'</span>,delay);
0292 
0293 
0294 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0295 <a name="_sub16" href="#_subfunctions" class="code">function lin_canon_CreateFcn(hObject, eventdata, handles)</a>
0296 <span class="comment">% hObject    handle to lin_canon (see GCBO)</span>
0297 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0298 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0299 
0300 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0301 <span class="comment">%       See ISPC and COMPUTER.</span>
0302 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0303     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0304 <span class="keyword">end</span>
0305 
0306 
0307 
0308 <a name="_sub17" href="#_subfunctions" class="code">function lt1_emittance_Callback(hObject, eventdata, handles)</a>
0309 <span class="comment">% hObject    handle to lt1_emittance (see GCBO)</span>
0310 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0311 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0312 
0313 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_emittance as text</span>
0314 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_emittance as a double</span>
0315 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0316 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0317 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>,delay);
0318 
0319 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0320 <a name="_sub18" href="#_subfunctions" class="code">function lt1_emittance_CreateFcn(hObject, eventdata, handles)</a>
0321 <span class="comment">% hObject    handle to lt1_emittance (see GCBO)</span>
0322 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0323 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0324 
0325 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0326 <span class="comment">%       See ISPC and COMPUTER.</span>
0327 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0328     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0329 <span class="keyword">end</span>
0330 
0331 
0332 
0333 <a name="_sub19" href="#_subfunctions" class="code">function lt1_MC1_Callback(hObject, eventdata, handles)</a>
0334 <span class="comment">% hObject    handle to lt1_MC1 (see GCBO)</span>
0335 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0336 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0337 
0338 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_MC1 as text</span>
0339 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_MC1 as a double</span>
0340 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0341 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0342 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>,delay);
0343 
0344 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0345 <a name="_sub20" href="#_subfunctions" class="code">function lt1_MC1_CreateFcn(hObject, eventdata, handles)</a>
0346 <span class="comment">% hObject    handle to lt1_MC1 (see GCBO)</span>
0347 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0348 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0349 
0350 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0351 <span class="comment">%       See ISPC and COMPUTER.</span>
0352 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0353     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0354 <span class="keyword">end</span>
0355 
0356 
0357 
0358 <a name="_sub21" href="#_subfunctions" class="code">function lt1_MC2_Callback(hObject, eventdata, handles)</a>
0359 <span class="comment">% hObject    handle to lt1_MC2 (see GCBO)</span>
0360 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0361 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0362 
0363 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_MC2 as text</span>
0364 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_MC2 as a double</span>
0365 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0366 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0367 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>,delay);
0368 
0369 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0370 <a name="_sub22" href="#_subfunctions" class="code">function lt1_MC2_CreateFcn(hObject, eventdata, handles)</a>
0371 <span class="comment">% hObject    handle to lt1_MC2 (see GCBO)</span>
0372 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0373 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0374 
0375 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0376 <span class="comment">%       See ISPC and COMPUTER.</span>
0377 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0378     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0379 <span class="keyword">end</span>
0380 
0381 
0382 
0383 <a name="_sub23" href="#_subfunctions" class="code">function lt1_osc_Callback(hObject, eventdata, handles)</a>
0384 <span class="comment">% hObject    handle to lt1_osc (see GCBO)</span>
0385 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0386 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0387 
0388 <span class="comment">% Hints: get(hObject,'String') returns contents of lt1_osc as text</span>
0389 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt1_osc as a double</span>
0390 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0391 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0392 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
0393 
0394 
0395 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0396 <a name="_sub24" href="#_subfunctions" class="code">function lt1_osc_CreateFcn(hObject, eventdata, handles)</a>
0397 <span class="comment">% hObject    handle to lt1_osc (see GCBO)</span>
0398 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0399 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0400 
0401 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0402 <span class="comment">%       See ISPC and COMPUTER.</span>
0403 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0404     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0405 <span class="keyword">end</span>
0406 
0407 
0408 
0409 <a name="_sub25" href="#_subfunctions" class="code">function sdc1_Callback(hObject, eventdata, handles)</a>
0410 <span class="comment">% hObject    handle to sdc1 (see GCBO)</span>
0411 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0412 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0413 
0414 <span class="comment">% Hints: get(hObject,'String') returns contents of sdc1 as text</span>
0415 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sdc1 as a double</span>
0416 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0417 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0418 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
0419 
0420 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0421 <a name="_sub26" href="#_subfunctions" class="code">function sdc1_CreateFcn(hObject, eventdata, handles)</a>
0422 <span class="comment">% hObject    handle to sdc1 (see GCBO)</span>
0423 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0424 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0425 
0426 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0427 <span class="comment">%       See ISPC and COMPUTER.</span>
0428 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0429     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0430 <span class="keyword">end</span>
0431 
0432 
0433 
0434 <a name="_sub27" href="#_subfunctions" class="code">function boo_inj_septum_Callback(hObject, eventdata, handles)</a>
0435 <span class="comment">% hObject    handle to boo_inj_septum (see GCBO)</span>
0436 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0437 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0438 
0439 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_inj_septum as text</span>
0440 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_inj_septum as a double</span>
0441 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0442 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0443 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
0444 
0445 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0446 <a name="_sub28" href="#_subfunctions" class="code">function boo_inj_septum_CreateFcn(hObject, eventdata, handles)</a>
0447 <span class="comment">% hObject    handle to boo_inj_septum (see GCBO)</span>
0448 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0449 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0450 
0451 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0452 <span class="comment">%       See ISPC and COMPUTER.</span>
0453 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0454     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0455 <span class="keyword">end</span>
0456 
0457 
0458 
0459 <a name="_sub29" href="#_subfunctions" class="code">function boo_inj_kicker_Callback(hObject, eventdata, handles)</a>
0460 <span class="comment">% hObject    handle to boo_inj_kicker (see GCBO)</span>
0461 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0462 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0463 
0464 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_inj_kicker as text</span>
0465 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_inj_kicker as a double</span>
0466 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0467 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0468 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
0469 
0470 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0471 <a name="_sub30" href="#_subfunctions" class="code">function boo_inj_kicker_CreateFcn(hObject, eventdata, handles)</a>
0472 <span class="comment">% hObject    handle to boo_inj_kicker (see GCBO)</span>
0473 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0474 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0475 
0476 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0477 <span class="comment">%       See ISPC and COMPUTER.</span>
0478 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0479     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0480 <span class="keyword">end</span>
0481 
0482 
0483 
0484 <a name="_sub31" href="#_subfunctions" class="code">function boo_bpm_Callback(hObject, eventdata, handles)</a>
0485 <span class="comment">% hObject    handle to boo_bpm (see GCBO)</span>
0486 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0487 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0488 
0489 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_bpm as text</span>
0490 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_bpm as a double</span>
0491 
0492 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0493 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0494 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>,delay);
0495 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigTimeDelay'</span>,delay);
0496 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigTimeDelay'</span>,delay);
0497 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigTimeDelay'</span>,delay);
0498 
0499 
0500 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0501 <a name="_sub32" href="#_subfunctions" class="code">function boo_bpm_CreateFcn(hObject, eventdata, handles)</a>
0502 <span class="comment">% hObject    handle to boo_bpm (see GCBO)</span>
0503 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0504 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0505 
0506 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0507 <span class="comment">%       See ISPC and COMPUTER.</span>
0508 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0509     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0510 <span class="keyword">end</span>
0511 
0512 
0513 
0514 <a name="_sub33" href="#_subfunctions" class="code">function boo_nod_Callback(hObject, eventdata, handles)</a>
0515 <span class="comment">% hObject    handle to boo_nod (see GCBO)</span>
0516 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0517 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0518 
0519 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_nod as text</span>
0520 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_nod as a double</span>
0521 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0522 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0523 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>,delay);
0524 
0525 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0526 <a name="_sub34" href="#_subfunctions" class="code">function boo_nod_CreateFcn(hObject, eventdata, handles)</a>
0527 <span class="comment">% hObject    handle to boo_nod (see GCBO)</span>
0528 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0529 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0530 
0531 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0532 <span class="comment">%       See ISPC and COMPUTER.</span>
0533 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0534     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0535 <span class="keyword">end</span>
0536 
0537 
0538 
0539 <a name="_sub35" href="#_subfunctions" class="code">function boo_dcct_Callback(hObject, eventdata, handles)</a>
0540 <span class="comment">% hObject    handle to boo_dcct (see GCBO)</span>
0541 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0542 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0543 
0544 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_dcct as text</span>
0545 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_dcct as a double</span>
0546 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0547 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
0548 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>,delay);
0549 
0550 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0551 <a name="_sub36" href="#_subfunctions" class="code">function boo_dcct_CreateFcn(hObject, eventdata, handles)</a>
0552 <span class="comment">% hObject    handle to boo_dcct (see GCBO)</span>
0553 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0554 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0555 
0556 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0557 <span class="comment">%       See ISPC and COMPUTER.</span>
0558 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0559     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0560 <span class="keyword">end</span>
0561 
0562 
0563 
0564 <a name="_sub37" href="#_subfunctions" class="code">function boo_hall_Callback(hObject, eventdata, handles)</a>
0565 <span class="comment">% hObject    handle to boo_hall (see GCBO)</span>
0566 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0567 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0568 
0569 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_hall as text</span>
0570 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_hall as a double</span>
0571 
0572 
0573 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0574 <a name="_sub38" href="#_subfunctions" class="code">function boo_hall_CreateFcn(hObject, eventdata, handles)</a>
0575 <span class="comment">% hObject    handle to boo_hall (see GCBO)</span>
0576 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0577 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0578 
0579 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0580 <span class="comment">%       See ISPC and COMPUTER.</span>
0581 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0582     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0583 <span class="keyword">end</span>
0584 
0585 
0586 
0587 <a name="_sub39" href="#_subfunctions" class="code">function pc_address_Callback(hObject, eventdata, handles)</a>
0588 <span class="comment">% hObject    handle to pc_address (see GCBO)</span>
0589 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0590 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0591 
0592 <span class="comment">% Hints: get(hObject,'String') returns contents of pc_address as text</span>
0593 <span class="comment">%        str2double(get(hObject,'String')) returns contents of pc_address as a double</span>
0594 
0595 delay=str2double(get(hObject,<span class="string">'String'</span>));
0596 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>,delay);
0597 
0598 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0599 <a name="_sub40" href="#_subfunctions" class="code">function pc_address_CreateFcn(hObject, eventdata, handles)</a>
0600 <span class="comment">% hObject    handle to pc_address (see GCBO)</span>
0601 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0602 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0603 
0604 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0605 <span class="comment">%       See ISPC and COMPUTER.</span>
0606 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0607     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0608 <span class="keyword">end</span>
0609 
0610 
0611 
0612 <a name="_sub41" href="#_subfunctions" class="code">function inj_address_Callback(hObject, eventdata, handles)</a>
0613 <span class="comment">% hObject    handle to inj_address (see GCBO)</span>
0614 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0615 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0616 
0617 <span class="comment">% Hints: get(hObject,'String') returns contents of inj_address as text</span>
0618 <span class="comment">%        str2double(get(hObject,'String')) returns contents of inj_address as a double</span>
0619 
0620 delay=str2double(get(hObject,<span class="string">'String'</span>));
0621 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>,delay);
0622 
0623 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0624 <a name="_sub42" href="#_subfunctions" class="code">function inj_address_CreateFcn(hObject, eventdata, handles)</a>
0625 <span class="comment">% hObject    handle to inj_address (see GCBO)</span>
0626 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0627 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0628 
0629 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0630 <span class="comment">%       See ISPC and COMPUTER.</span>
0631 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0632     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0633 <span class="keyword">end</span>
0634 
0635 
0636 
0637 <a name="_sub43" href="#_subfunctions" class="code">function edit21_Callback(hObject, eventdata, handles)</a>
0638 <span class="comment">% hObject    handle to pc_address (see GCBO)</span>
0639 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0640 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0641 
0642 <span class="comment">% Hints: get(hObject,'String') returns contents of pc_address as text</span>
0643 <span class="comment">%        str2double(get(hObject,'String')) returns contents of pc_address as a double</span>
0644 
0645 
0646 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0647 <a name="_sub44" href="#_subfunctions" class="code">function edit21_CreateFcn(hObject, eventdata, handles)</a>
0648 <span class="comment">% hObject    handle to pc_address (see GCBO)</span>
0649 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0650 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0651 
0652 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0653 <span class="comment">%       See ISPC and COMPUTER.</span>
0654 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0655     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0656 <span class="keyword">end</span>
0657 
0658 
0659 
0660 <a name="_sub45" href="#_subfunctions" class="code">function soft_address_Callback(hObject, eventdata, handles)</a>
0661 <span class="comment">% hObject    handle to soft_address (see GCBO)</span>
0662 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0663 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0664 
0665 <span class="comment">% Hints: get(hObject,'String') returns contents of soft_address as text</span>
0666 <span class="comment">%        str2double(get(hObject,'String')) returns contents of soft_address as a double</span>
0667 
0668 delay=str2double(get(hObject,<span class="string">'String'</span>));
0669 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>,delay);
0670 
0671 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
0672 clkinj=int32(temp.value(1)+5*52);
0673 clkext=int32(temp.value(1)/52+10);
0674 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjStepDelay'</span>,clkinj);
0675 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>,clkext);
0676 
0677 <span class="comment">%status soft checked on linac</span>
0678 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>);
0679 <span class="keyword">if</span> (temp.value(1)==2)
0680    <span class="comment">%</span>
0681 <span class="keyword">elseif</span> (temp.value(1)==5)
0682     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
0683     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
0684     delay=dt.value(1)+inj_offset;
0685     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
0686     temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
0687     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
0688 <span class="keyword">end</span>
0689 
0690 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0691 <a name="_sub46" href="#_subfunctions" class="code">function soft_address_CreateFcn(hObject, eventdata, handles)</a>
0692 <span class="comment">% hObject    handle to soft_address (see GCBO)</span>
0693 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0694 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0695 
0696 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0697 <span class="comment">%       See ISPC and COMPUTER.</span>
0698 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0699     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0700 <span class="keyword">end</span>
0701 
0702 
0703 <span class="comment">% --- Executes on button press in acquisition1.</span>
0704 <a name="_sub47" href="#_subfunctions" class="code">function acquisition1_Callback(hObject, eventdata, handles)</a>
0705 <span class="comment">% hObject    handle to acquisition1 (see GCBO)</span>
0706 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0707 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0708 
0709 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0710 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0711 set(handles.lin_canon,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0712 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0713 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0714 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0715 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0716 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0717 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0718 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0719 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0720 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0721 set(handles.alim_dipole,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0722 set(handles.alim_qf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0723 set(handles.alim_qd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0724 set(handles.alim_sf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0725 set(handles.alim_sd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0726 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0727 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0728 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0729 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0730 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0731 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0732 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0733 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0734 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0735 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0736 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0737 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0738 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0739 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0740 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0741 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0742 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0743 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0744 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0745 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0746 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0747 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0748 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0749 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0750 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0751 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0752 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0753 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0754 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0755 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0756 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0757 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0758 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0759 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0760 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0761 
0762 
0763 n=1;
0764 
0765 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
0766 set(handles.pc_address,<span class="string">'String'</span>,num2str(temp.value(n)));
0767 
0768 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
0769 set(handles.inj_address,<span class="string">'String'</span>,num2str(temp.value(n)));
0770 
0771 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
0772 set(handles.soft_address,<span class="string">'String'</span>,num2str(temp.value(n)));
0773 
0774 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
0775 set(handles.ext_address,<span class="string">'String'</span>,num2str(temp.value(n)));
0776 
0777 
0778 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>);
0779 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)));
0780 
0781 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmTimeDelay'</span>);
0782 set(handles.lin_canon,<span class="string">'String'</span>,num2str(temp.value(n)));
0783 
0784 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>);
0785 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0786 
0787 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>);
0788 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
0789 
0790 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>);
0791 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)));
0792 
0793 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>);
0794 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)));
0795 
0796 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>);
0797 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
0798 
0799 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>);
0800 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
0801 
0802 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>);
0803 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)));
0804 
0805 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
0806 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)));
0807 
0808 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
0809 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
0810 
0811 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTimeDelay'</span>);
0812 set(handles.alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
0813 
0814 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTimeDelay'</span>);
0815 set(handles.alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
0816 
0817 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTimeDelay'</span>);
0818 set(handles.alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
0819 
0820 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTimeDelay'</span>);
0821 set(handles.alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
0822 
0823 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTimeDelay'</span>);
0824 set(handles.alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
0825 
0826 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTimeDelay'</span>);
0827 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
0828 
0829 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
0830 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)));
0831 
0832 
0833 
0834 
0835 
0836 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>);
0837 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)));
0838 
0839 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
0840 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
0841 
0842 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
0843 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
0844 
0845 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
0846 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
0847 
0848 
0849 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>);
0850 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)));
0851 
0852 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>);
0853 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
0854 
0855 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>);
0856 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
0857 
0858 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0859 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0860 
0861 
0862 
0863 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>);
0864 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)));
0865 
0866 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>);
0867 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)));
0868 
0869 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>);
0870 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)));
0871 
0872 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>);
0873 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)));
0874 
0875 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
0876 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
0877 
0878 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
0879 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
0880 
0881 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTimeDelay'</span>);
0882 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
0883 
0884 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0885 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
0886 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)));
0887 
0888 
0889 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0890 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)));
0891 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0892 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)));
0893 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0894 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)));
0895 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0896 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)));
0897 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0898 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)));
0899 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0900 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)));
0901 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0902 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)));
0903 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0904 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)));
0905 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0906 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)));
0907 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0908 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)));
0909 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0910 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)));
0911 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0912 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)));
0913 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0914 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)));
0915 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0916 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)));
0917 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
0918 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)));
0919 
0920 
0921 
0922 <span class="comment">%status soft checked on linac</span>
0923 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>);
0924 <span class="keyword">if</span> (temp.value(n)==2)
0925     set(handles.soft_button,<span class="string">'Value'</span>,0);
0926 <span class="keyword">elseif</span> (temp.value(n)==5)
0927     set(handles.soft_button,<span class="string">'Value'</span>,1);
0928 <span class="keyword">end</span>
0929 
0930 <span class="comment">%status tables</span>
0931 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>);
0932 offset=temp.value(1)*52;
0933 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TablesCurrentDepth'</span>);
0934 n=temp.value;
0935 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionDelayTable'</span>);
0936 table=temp.value(1:n)-offset;
0937 set(handles.edit_filling_relecture_tables,<span class="string">'String'</span>,[<span class="string">'T='</span> , num2str(table)]);  
0938 
0939 
0940 
0941 <span class="comment">% --- Executes on button press in acquisition2.</span>
0942 <a name="_sub48" href="#_subfunctions" class="code">function acquisition2_Callback(hObject, eventdata, handles)</a>
0943 <span class="comment">% hObject    handle to acquisition2 (see GCBO)</span>
0944 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0945 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0946 
0947 
0948 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0949 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0950 set(handles.lin_canon,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0951 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0952 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0953 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0954 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0955 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0956 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0957 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0958 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0959 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0960 set(handles.alim_dipole,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0961 set(handles.alim_qf,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0962 set(handles.alim_qd,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0963 set(handles.alim_sf,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0964 set(handles.alim_sd,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0965 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0966 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0967 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0968 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0969 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0970 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0971 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0972 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0973 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0974 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0975 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0976 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0977 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0978 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0979 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0980 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0981 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0982 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0983 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0984 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0985 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0986 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0987 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0988 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0989 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0990 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0991 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0992 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0993 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0994 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0995 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0996 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0997 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0998 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0999 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
1000 
1001 
1002 n=1;
1003 
1004 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
1005 set(handles.pc_address,<span class="string">'String'</span>,num2str(temp.value(n)));
1006 
1007 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1008 set(handles.inj_address,<span class="string">'String'</span>,num2str(temp.value(n)));
1009 
1010 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1011 set(handles.soft_address,<span class="string">'String'</span>,num2str(temp.value(n)));
1012 set(handles.soft_address1,<span class="string">'String'</span>,num2str(temp.value(n)));
1013 
1014 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
1015 set(handles.ext_address,<span class="string">'String'</span>,num2str(temp.value(n)));
1016 
1017 
1018 
1019 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
1020 
1021 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>);
1022 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1023 
1024 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmTimeDelay'</span>);
1025 set(handles.lin_canon,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1026 
1027 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>);
1028 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1029 
1030 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>);
1031 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1032 
1033 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>);
1034 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1035 
1036 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>);
1037 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1038 
1039 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>);
1040 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1041 
1042 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>);
1043 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1044 
1045 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>);
1046 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1047 
1048 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
1049 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1050 
1051 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
1052 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1053 
1054 
1055 
1056 
1057 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTimeDelay'</span>);
1058 set(handles.alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
1059 
1060 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTimeDelay'</span>);
1061 set(handles.alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
1062 
1063 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTimeDelay'</span>);
1064 set(handles.alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
1065 
1066 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTimeDelay'</span>);
1067 set(handles.alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
1068 
1069 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTimeDelay'</span>);
1070 set(handles.alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
1071 
1072 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTimeDelay'</span>);
1073 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
1074 
1075 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1076 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)-inj_offset));
1077 
1078 
1079 
1080 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1081 
1082 
1083 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>);
1084 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1085 
1086 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
1087 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1088 
1089 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
1090 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1091 
1092 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>);
1093 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1094 
1095 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1096 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1097 
1098 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>);
1099 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1100 
1101 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>);
1102 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1103 
1104 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1105 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1106 
1107 
1108 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>);
1109 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1110 
1111 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>);
1112 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1113 
1114 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>);
1115 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1116 
1117 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>);
1118 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1119 
1120 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>);
1121 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1122 
1123 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>);
1124 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1125 
1126 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTimeDelay'</span>);
1127 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1128 
1129 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1130 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1131 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1132 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1133 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1134 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1135 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1136 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1137 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1138 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1139 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1140 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1141 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1142 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1143 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1144 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1145 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1146 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1147 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1148 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1149 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1150 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1151 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1152 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1153 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1154 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1155 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1156 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1157 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1158 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1159 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1160 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>);
1161 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)-ext_offset));
1162 
1163 <span class="comment">%status soft checked on linac</span>
1164 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>);
1165 <span class="keyword">if</span> (temp.value(n)==2)
1166     set(handles.soft_button,<span class="string">'Value'</span>,0);
1167 <span class="keyword">elseif</span> (temp.value(n)==5)
1168     set(handles.soft_button,<span class="string">'Value'</span>,1);
1169 <span class="keyword">end</span>
1170 
1171 <span class="comment">%status tables</span>
1172 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>);
1173 offset=temp.value(1)*52;
1174 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TablesCurrentDepth'</span>);
1175 n=temp.value;
1176 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionDelayTable'</span>);
1177 table=temp.value(1:n);
1178 set(handles.edit_filling_relecture_tables,<span class="string">'String'</span>,[num2str(table)]);  
1179 
1180 <span class="comment">% --- Executes on button press in soft_button.</span>
1181 <a name="_sub49" href="#_subfunctions" class="code">function soft_button_Callback(hObject, eventdata, handles)</a>
1182 <span class="comment">% hObject    handle to soft_button (see GCBO)</span>
1183 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1184 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1185 
1186 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of soft_button</span>
1187 
1188 etat=get(hObject,<span class="string">'Value'</span>);
1189 tout=0.;
1190 <span class="keyword">if</span> (etat==0)
1191     event=int32(2) ;<span class="comment">% adresse de l'injection</span>
1192        
1193 
1194     tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscEvent'</span>,event); pause(tout);
1195     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>,int32(0)); pause(tout);
1196     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareEvent'</span>,event); pause(tout);
1197     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigEvent'</span>,event); pause(tout);
1198     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigEvent'</span>,event); pause(tout);
1199     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigEvent'</span>,event); pause(tout);
1200     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigEvent'</span>,event); pause(tout); 
1201     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceEvent'</span>,event); pause(tout);
1202     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1Event'</span>,event); pause(tout);
1203     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2Event'</span>,event); pause(tout);
1204     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscEvent'</span>,event); pause(tout);
1205     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booEvent'</span>,event); pause(tout);
1206     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigEvent'</span>,event);pause(tout);
1207     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigEvent'</span>,event); pause(tout);
1208     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigEvent'</span>,event);
1209     tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>,  <span class="string">'Reset'</span>);  
1210     event=int32(3) ;<span class="comment">% adresse de l'extraction</span>
1211     tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareEvent'</span>,event);pause(tout);
1212     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigEvent'</span>,event);pause(tout);
1213     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigEvent'</span>,event);pause(tout);
1214     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigEvent'</span>,event);pause(tout);
1215     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigEvent'</span>,event);pause(tout);
1216     tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>,  <span class="string">'Reset'</span>);
1217     tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1218     tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctEvent'</span>,event);pause(tout);
1219     tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvEvent'</span>,event);pause(tout);
1220     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'emittanceEvent'</span>,event);pause(tout);
1221     tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'Reset'</span>);
1222     
1223     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigEvent'</span>,event);pause(tout);
1224     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigEvent'</span>,event);pause(tout);
1225     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigEvent'</span>,event);pause(tout);
1226     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigEvent'</span>,event);pause(tout);
1227     tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'Reset'</span>);
1228        
1229     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigEvent'</span>,event);pause(tout);
1230     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigEvent'</span>,event);pause(tout);
1231     tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,  <span class="string">'Reset'</span>);
1232     <span class="comment">%tango_write_attribute2('ANS-C13/SY/LOCAL.DG.1', 'dcctEvent',event);pause(tout);</span>
1233     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1234     tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1235     tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1236     tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1237     tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1238     tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1239     tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1240     tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1241     tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1242     tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1243     tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1244     tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1245     tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1246     tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1247     tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1248     tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1249     
1250 
1251     <span class="comment">% special modulateur</span>
1252     inj=str2double(get(handles.inj_address,<span class="string">'String'</span>));
1253     soft=str2double(get(handles.soft_address,<span class="string">'String'</span>));
1254     temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1255     delay=temp.value(1)-(soft)+0.00568;
1256     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
1257     
1258     
1259 <span class="keyword">elseif</span> (etat==1)
1260     event=int32(5) ;<span class="comment">% adresse de l'injection</span>
1261     tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscEvent'</span>,event); pause(tout);
1262     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>,event); pause(tout);
1263     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigEvent'</span>,event); pause(tout);
1264     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigEvent'</span>,event); pause(tout);
1265     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigEvent'</span>,event); pause(tout);
1266     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigEvent'</span>,event); pause(tout);     
1267     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceEvent'</span>,event); pause(tout);
1268     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1Event'</span>,event); pause(tout);
1269     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2Event'</span>,event); pause(tout);
1270     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscEvent'</span>,event); pause(tout);
1271     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booEvent'</span>,event); pause(tout);
1272     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigEvent'</span>,event);pause(tout);
1273     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigEvent'</span>,event); pause(tout);
1274     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigEvent'</span>,event);
1275     tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareEvent'</span>,event);pause(tout);
1276     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigEvent'</span>,event);pause(tout);
1277     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigEvent'</span>,event);pause(tout);
1278     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigEvent'</span>,event);pause(tout);
1279     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigEvent'</span>,event);pause(tout);
1280     tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1281     tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctEvent'</span>,event);pause(tout);
1282     tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvEvent'</span>,event);pause(tout);
1283     tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'emittanceEvent'</span>,event);pause(tout);
1284     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigEvent'</span>,event);pause(tout);
1285     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigEvent'</span>,event);pause(tout);
1286     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigEvent'</span>,event);pause(tout);
1287     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigEvent'</span>,event);pause(tout);
1288     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigEvent'</span>,event);pause(tout);
1289     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigEvent'</span>,event);pause(tout);
1290     <span class="comment">%tango_write_attribute2('ANS-C13/SY/LOCAL.DG.1', 'dcctEvent',event);pause(tout);</span>
1291     tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1292     tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1293     tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1294     tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1295     tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1296     tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1297     tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1298     tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1299     tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);
1300     tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1301     tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1302     tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1303     tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1304     tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1305     tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);  
1306     tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>,event);pause(tout);     
1307     
1308     <span class="comment">% special modulateur</span>
1309     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareEvent'</span>,int32(1)); pause(tout);
1310     inj=str2double(get(handles.inj_address,<span class="string">'String'</span>));
1311     soft=str2double(get(handles.soft_address,<span class="string">'String'</span>));
1312     temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1313     delay=temp.value(1)+(soft);
1314     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
1315     <a href="start_soft.html" class="code" title="function start_soft">start_soft</a>
1316 <span class="keyword">end</span>
1317 display(<span class="string">'ok change address'</span>)
1318 
1319 
1320 <span class="comment">% --- Executes on button press in push_soft.</span>
1321 <a name="_sub50" href="#_subfunctions" class="code">function push_soft_Callback(hObject, eventdata, handles)</a>
1322 <span class="comment">% hObject    handle to push_soft (see GCBO)</span>
1323 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1324 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1325 
1326 set(hObject,<span class="string">'Enable'</span>,<span class="string">'Off'</span>)
1327 
1328 bouton=get(handles.soft_button,<span class="string">'Value'</span>);
1329 mode=get(handles.listbox_fillingmode,<span class="string">'Value'</span>);
1330 [clk_pc,clk_soft]=<a href="fix_quart.html" class="code" title="function [clk_pc,clk_soft]=fix_quart">fix_quart</a>;
1331 handles.clk_pc =clk_pc;
1332 handles.clk_soft=clk_soft;
1333 
1334 dt=1.5;
1335 temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur0=temp.value;
1336 q1=0;
1337 q2=0;
1338 n=0;
1339 
1340 <span class="keyword">if</span> (bouton==1)
1341     modeinj=<span class="string">'Injection soft'</span>;
1342     fprintf(<span class="string">'%s   %s  Remplissage = %d\n'</span>,datestr(clock),modeinj,mode);
1343     boucle=int16(str2double(get(handles.edit_Nshot_soft,<span class="string">'String'</span>)));
1344     <span class="keyword">if</span> (mode&lt;=4)
1345         <span class="keyword">for</span> k=1:boucle
1346             i=int16(mode);
1347             clk1=handles.clk_pc(i);
1348             clk2=handles.clk_soft(i);
1349             tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>,clk1);
1350             tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>,clk2);
1351             tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'FireSoftEvent'</span>);
1352             pause(dt)
1353             [q1,q2,n]=<a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>(q1,q2,n);
1354         <span class="keyword">end</span>
1355     <span class="keyword">elseif</span> (mode&gt;4)&amp;&amp;(mode&lt;=7)
1356         <span class="keyword">for</span> k=1:boucle
1357             <span class="keyword">for</span> i=1:(mode-3)
1358                 clk1=handles.clk_pc(i);
1359                 clk2=handles.clk_soft(i);
1360                 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>,clk1);
1361                 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>,clk2);
1362                 tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'FireSoftEvent'</span>);
1363                 pause(dt)
1364                 [q1,q2,n]=<a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>(q1,q2,n);
1365             <span class="keyword">end</span>
1366         <span class="keyword">end</span>    
1367     <span class="keyword">elseif</span> (mode==8)   
1368         <span class="keyword">for</span> k=1:boucle
1369             clk1=handles.clk_pc(1);
1370             clk2=handles.clk_soft(1);
1371             bunch=1 + (0:12)*32;
1372             [dtour,dpaquet]=<a href="bucketnumber.html" class="code" title="function [n1 n2] = bucketnumber(num)">bucketnumber</a>(bunch);    
1373             clk_pc  =int32(dtour) +  int32(clk1);
1374             clk_soft=int32(dtour)  + int32(clk2);
1375             <span class="keyword">for</span> i=1:13
1376                 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>,clk_pc(i));
1377                 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>,clk_soft(i));
1378                 tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'FireSoftEvent'</span>);
1379                 pause(dt)
1380                 [q1,q2,n]=<a href="getcharge.html" class="code" title="function  [q1,q2,n]=getcharge(q1,q2,n)">getcharge</a>(q1,q2,n);
1381             <span class="keyword">end</span>
1382         <span class="keyword">end</span>    
1383     <span class="keyword">end</span>
1384     clk1=handles.clk_pc(1);
1385     clk2=handles.clk_soft(1);
1386     tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcStepDelay'</span>,clk1);
1387     tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>,clk2);
1388     
1389     pause(1);
1390     temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur=temp.value;
1391     dcur=anscur-anscur0;
1392     r1=0;
1393     <span class="keyword">if</span> (q1~=0)
1394        r1=int16(q2/q1*100); 
1395     <span class="keyword">end</span>
1396     r2=0;
1397     <span class="keyword">if</span> (q2~=0)
1398        r2=int16(dcur/q2*0.524*416/184*100);
1399     <span class="keyword">end</span>
1400     <span class="keyword">if</span>     (r1&lt;0)
1401         r1=0;
1402     <span class="keyword">elseif</span>(r1&gt;100)
1403         r1=100;
1404     <span class="keyword">end</span>
1405     <span class="keyword">if</span>    (r2&lt;0)
1406         r2=0;
1407     <span class="keyword">elseif</span>(r2&gt;100)
1408         r2=100;
1409     <span class="keyword">end</span>
1410     q1=q1/n;
1411     q2=q2/n;  
1412 
1413     set(handles.edit_qlt1,<span class="string">'String'</span>,num2str(q1,<span class="string">'%5.2f'</span>));
1414     set(handles.edit_iboo,<span class="string">'String'</span>,num2str(q2/0.524,<span class="string">'%5.2f'</span>));
1415     set(handles.edit_dians,<span class="string">'String'</span>,num2str(dcur/n,<span class="string">'%5.2f'</span>));
1416     set(handles.edit_rboo,<span class="string">'String'</span>,num2str(r1));
1417     set(handles.edit_rans,<span class="string">'String'</span>,num2str(r2));
1418     set(handles.edit_cycle,<span class="string">'String'</span>,num2str(n,<span class="string">'%g'</span>));
1419     set(handles.edit_dians1,<span class="string">'String'</span>,num2str(dcur,<span class="string">'%5.2f'</span>));
1420     set(handles.edit_courant_total,<span class="string">'String'</span>, num2str(anscur,<span class="string">'%5.2f'</span>));
1421     
1422     
1423 <span class="keyword">elseif</span>(bouton==0)
1424     modeinj=<span class="string">'Injection 3 Hz'</span>;
1425     laps=str2double(get(handles.edit_laps,<span class="string">'String'</span>));
1426     fprintf(<span class="string">'%s   %s  Remplissage = %d\n'</span>,datestr(clock),modeinj,mode);
1427     <a href="start_3Hz.html" class="code" title="function start_3Hz(event)">start_3Hz</a>
1428     pause(laps)
1429     <a href="stop_3Hz.html" class="code" title="function stop_3Hz">stop_3Hz</a>
1430     
1431     pause(1);
1432     temp=tango_read_attribute2(<span class="string">'ANS-C03/DG/DCCT'</span>,<span class="string">'current'</span>);anscur=temp.value;
1433     dcur=anscur-anscur0;
1434     n=int16(laps/0.340);
1435     
1436     set(handles.edit_qlt1,<span class="string">'String'</span>,<span class="string">'--'</span>);
1437     set(handles.edit_iboo,<span class="string">'String'</span>,<span class="string">'--'</span>);
1438     set(handles.edit_dians,<span class="string">'String'</span>,<span class="string">'--'</span>);
1439     set(handles.edit_rboo,<span class="string">'String'</span>,<span class="string">'--'</span>);
1440     set(handles.edit_rans,<span class="string">'String'</span>,<span class="string">'--'</span>);
1441     set(handles.edit_cycle,<span class="string">'String'</span>,num2str(n,<span class="string">'%g'</span>));
1442     set(handles.edit_dians1,<span class="string">'String'</span>,num2str(dcur,<span class="string">'%5.2f'</span>));
1443     set(handles.edit_courant_total,<span class="string">'String'</span>, num2str(anscur,<span class="string">'%5.2f'</span>));
1444 
1445 <span class="keyword">end</span>
1446 
1447 
1448 
1449 set(hObject,<span class="string">'Enable'</span>,<span class="string">'On'</span>);
1450 
1451 
1452 <a name="_sub51" href="#_subfunctions" class="code">function periode_edit_Callback(hObject, eventdata, handles)</a>
1453 <span class="comment">% hObject    handle to periode_edit (see GCBO)</span>
1454 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1455 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1456 
1457 <span class="comment">% Hints: get(hObject,'String') returns contents of periode_edit as text</span>
1458 <span class="comment">%        str2double(get(hObject,'String')) returns contents of periode_edit as a double</span>
1459 
1460 val_multishot = get(handles.on,<span class="string">'Value'</span>);
1461 
1462 <span class="keyword">if</span> val_multishot
1463     errordlg(<span class="string">'positionner le trigger a OFF !'</span>,<span class="string">'Attention'</span>);
1464     <span class="keyword">return</span>
1465 <span class="keyword">else</span>
1466     handles.periode = str2double(get(hObject,<span class="string">'String'</span>));
1467 
1468     <span class="comment">% change timer Infinite loop</span>
1469     timer1=timer(<span class="string">'StartDelay'</span>,1,<span class="keyword">...</span>
1470         <span class="string">'ExecutionMode'</span>,<span class="string">'fixedRate'</span>,<span class="string">'Period'</span>,handles.periode,<span class="string">'TasksToExecute'</span>,Inf);
1471     timer1.TimerFcn = {@<a href="#_sub54" class="code" title="subfunction fonction_alex(arg1,arg2,hObject,eventdata,handles)">fonction_alex</a>, hObject,eventdata, handles};
1472     setappdata(handles.figure1,<span class="string">'Timer'</span>,timer1);
1473 
1474     <span class="comment">% Update handles structure</span>
1475     guidata(hObject, handles);
1476 <span class="keyword">end</span>
1477 
1478 
1479 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1480 <a name="_sub52" href="#_subfunctions" class="code">function periode_edit_CreateFcn(hObject, eventdata, handles)</a>
1481 <span class="comment">% hObject    handle to periode_edit (see GCBO)</span>
1482 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1483 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1484 
1485 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1486 <span class="comment">%       See ISPC and COMPUTER.</span>
1487 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1488     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1489 <span class="keyword">end</span>
1490 
1491 <a name="_sub53" href="#_subfunctions" class="code">function uibuttongroup_SelectionChangeFcn(hObject,eventdata,handles)</a>
1492 
1493 <span class="comment">% hObject    handle to uipanel1 (see GCBO)</span>
1494 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1495 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1496 
1497 timer1 = getappdata(handles.figure1,<span class="string">'Timer'</span>);
1498 <span class="keyword">switch</span> get(get(hObject,<span class="string">'SelectedObject'</span>),<span class="string">'Tag'</span>)  <span class="comment">% Get Tag of selected object</span>
1499     <span class="keyword">case</span> <span class="string">'radiobutton1'</span>
1500         <span class="comment">% démarrage du trigger</span>
1501         stop(timer1);
1502        set(handles.push_soft,<span class="string">'Enable'</span>,<span class="string">'On'</span>);
1503        
1504     <span class="keyword">case</span> <span class="string">'radiobutton2'</span>
1505         <span class="comment">% stop du trigger</span>
1506         set(handles.push_soft,<span class="string">'Enable'</span>,<span class="string">'Off'</span>);
1507         start(timer1);
1508         
1509 <span class="keyword">end</span>
1510 
1511 <a name="_sub54" href="#_subfunctions" class="code">function fonction_alex(arg1,arg2,hObject,eventdata,handles)</a>
1512 <span class="comment">% hObject    handle to uipanel1 (see GCBO)</span>
1513 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1514 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1515 
1516 <a href="#_sub50" class="code" title="subfunction push_soft_Callback(hObject, eventdata, handles)">push_soft_Callback</a>(hObject,eventdata,handles)
1517 
1518 
1519 
1520 
1521 
1522 <span class="comment">%% What to do before closing the application</span>
1523 <a name="_sub55" href="#_subfunctions" class="code">function Closinggui(obj, event, handles, figure1)</a>
1524 
1525 <span class="comment">% Get default command line output from handles structure</span>
1526 answer = questdlg(<span class="string">'Fermer softsynchro ?'</span>,<span class="keyword">...</span>
1527     <span class="string">'Exit softsynchro'</span>,<span class="keyword">...</span>
1528     <span class="string">'Yes'</span>,<span class="string">'No'</span>,<span class="string">'Yes'</span>);
1529 
1530 <span class="keyword">switch</span> answer
1531     <span class="keyword">case</span> <span class="string">'Yes'</span>           
1532         delete(handles); <span class="comment">%Delete Timer</span>
1533         delete(figure1); <span class="comment">%Close gui</span>
1534     <span class="keyword">otherwise</span>
1535         disp(<span class="string">'Closing aborted'</span>)
1536 <span class="keyword">end</span>
1537 
1538 
1539 
1540 <span class="comment">% --- Executes on button press in button_softmoins.</span>
1541 <a name="_sub56" href="#_subfunctions" class="code">function button_softmoins_Callback(hObject, eventdata, handles)</a>
1542 <span class="comment">% hObject    handle to button_softmoins (see GCBO)</span>
1543 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1544 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1545 
1546 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1547 <a href="step.html" class="code" title="">step</a>=temp.value(1)-51*0.52243;
1548 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1549 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1550 set(handles.soft_address,<span class="string">'String'</span>,num2str(temp.value(1)));
1551 
1552 <span class="comment">% decale adress inj et extract d'une super-periode</span>
1553 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
1554 clkinj=int32(temp.value(1)+5*52);
1555 clkext=int32(temp.value(1)/52+10);
1556 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjStepDelay'</span>,clkinj);
1557 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>,clkext);
1558 
1559 <span class="comment">%status soft checked on linac</span>
1560 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>);
1561 <span class="keyword">if</span> (temp.value(1)==2)
1562    <span class="comment">%</span>
1563 <span class="keyword">elseif</span> (temp.value(1)==5)
1564     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1565     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
1566     delay=dt.value(1)+inj_offset;
1567     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
1568     temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1569     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
1570 <span class="keyword">end</span>
1571 
1572 <span class="comment">% --- Executes on button press in button_softplus.</span>
1573 <a name="_sub57" href="#_subfunctions" class="code">function button_softplus_Callback(hObject, eventdata, handles)</a>
1574 <span class="comment">% hObject    handle to button_softplus (see GCBO)</span>
1575 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1576 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1577 
1578 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1579 <a href="step.html" class="code" title="">step</a>=temp.value(1)+52*0.52243;
1580 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1581 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1582 set(handles.soft_address,<span class="string">'String'</span>,num2str(temp.value(1)));
1583 
1584 <span class="comment">% dcale adress inj et extract d'une super-periode</span>
1585 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftStepDelay'</span>);
1586 clkinj=int32(temp.value(1)+5*52);
1587 clkext=int32(temp.value(1)/52+10);
1588 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjStepDelay'</span>,clkinj);
1589 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>,clkext);
1590 
1591 <span class="comment">%status soft checked on linac</span>
1592 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>);
1593 <span class="keyword">if</span> (temp.value(1)==2)
1594    <span class="comment">%</span>
1595 <span class="keyword">elseif</span> (temp.value(1)==5)
1596     dt=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
1597     inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
1598     delay=dt.value(1)+inj_offset;
1599     tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
1600     temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>);
1601     set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(1)-inj_offset));
1602 <span class="keyword">end</span>
1603 
1604 <span class="comment">% --- Executes on button press in button_injmoins.</span>
1605 <a name="_sub58" href="#_subfunctions" class="code">function button_injmoins_Callback(hObject, eventdata, handles)</a>
1606 <span class="comment">% hObject    handle to button_injmoins (see GCBO)</span>
1607 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1608 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1609 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1610 <a href="step.html" class="code" title="">step</a>=temp.value(1)-51*0.52243;
1611 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1612 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1613 set(handles.inj_address,<span class="string">'String'</span>,num2str(temp.value(1)));
1614 
1615 
1616 
1617 <span class="comment">% --- Executes on button press in button_injplus.</span>
1618 <a name="_sub59" href="#_subfunctions" class="code">function button_injplus_Callback(hObject, eventdata, handles)</a>
1619 <span class="comment">% hObject    handle to button_injplus (see GCBO)</span>
1620 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1621 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1622 
1623 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1624 <a href="step.html" class="code" title="">step</a>=temp.value(1)+52*0.52243;
1625 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>,<a href="step.html" class="code" title="">step</a>);
1626 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
1627 set(handles.inj_address,<span class="string">'String'</span>,num2str(temp.value(1)));
1628 
1629 
1630 
1631 <a name="_sub60" href="#_subfunctions" class="code">function boo_ext_dof_Callback(hObject, eventdata, handles)</a>
1632 <span class="comment">% hObject    handle to boo_ext_dof (see GCBO)</span>
1633 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1634 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1635 
1636 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_dof as text</span>
1637 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_dof as a double</span>
1638 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1639 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1640 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>,delay);
1641 
1642 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1643 <a name="_sub61" href="#_subfunctions" class="code">function boo_ext_dof_CreateFcn(hObject, eventdata, handles)</a>
1644 <span class="comment">% hObject    handle to boo_ext_dof (see GCBO)</span>
1645 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1646 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1647 
1648 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1649 <span class="comment">%       See ISPC and COMPUTER.</span>
1650 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1651     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1652 <span class="keyword">end</span>
1653 
1654 
1655 
1656 <a name="_sub62" href="#_subfunctions" class="code">function boo_ext_sept_p_Callback(hObject, eventdata, handles)</a>
1657 <span class="comment">% hObject    handle to boo_ext_sept_p (see GCBO)</span>
1658 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1659 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1660 
1661 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_sept_p as text</span>
1662 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_sept_p as a double</span>
1663 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1664 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1665 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
1666 
1667 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1668 <a name="_sub63" href="#_subfunctions" class="code">function boo_ext_sept_p_CreateFcn(hObject, eventdata, handles)</a>
1669 <span class="comment">% hObject    handle to boo_ext_sept_p (see GCBO)</span>
1670 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1671 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1672 
1673 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1674 <span class="comment">%       See ISPC and COMPUTER.</span>
1675 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1676     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1677 <span class="keyword">end</span>
1678 
1679 
1680 
1681 <a name="_sub64" href="#_subfunctions" class="code">function boo_ext_sept_a_Callback(hObject, eventdata, handles)</a>
1682 <span class="comment">% hObject    handle to boo_ext_sept_a (see GCBO)</span>
1683 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1684 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1685 
1686 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_sept_a as text</span>
1687 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_sept_a as a double</span>
1688 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1689 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1690 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
1691 
1692 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1693 <a name="_sub65" href="#_subfunctions" class="code">function boo_ext_sept_a_CreateFcn(hObject, eventdata, handles)</a>
1694 <span class="comment">% hObject    handle to boo_ext_sept_a (see GCBO)</span>
1695 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1696 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1697 
1698 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1699 <span class="comment">%       See ISPC and COMPUTER.</span>
1700 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1701     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1702 <span class="keyword">end</span>
1703 
1704 
1705 
1706 <a name="_sub66" href="#_subfunctions" class="code">function boo_ext_kicker_Callback(hObject, eventdata, handles)</a>
1707 <span class="comment">% hObject    handle to boo_ext_kicker (see GCBO)</span>
1708 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1709 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1710 
1711 <span class="comment">% Hints: get(hObject,'String') returns contents of boo_ext_kicker as text</span>
1712 <span class="comment">%        str2double(get(hObject,'String')) returns contents of boo_ext_kicker as a double</span>
1713 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1714 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1715 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
1716 
1717 
1718 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1719 <a name="_sub67" href="#_subfunctions" class="code">function boo_ext_kicker_CreateFcn(hObject, eventdata, handles)</a>
1720 <span class="comment">% hObject    handle to boo_ext_kicker (see GCBO)</span>
1721 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1722 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1723 
1724 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1725 <span class="comment">%       See ISPC and COMPUTER.</span>
1726 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1727     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1728 <span class="keyword">end</span>
1729 
1730 
1731 
1732 <a name="_sub68" href="#_subfunctions" class="code">function ans_inj_sept_p_Callback(hObject, eventdata, handles)</a>
1733 <span class="comment">% hObject    handle to ans_inj_sept_p (see GCBO)</span>
1734 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1735 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1736 
1737 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_sept_p as text</span>
1738 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_sept_p as a double</span>
1739 
1740 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1741 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1742 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
1743 
1744 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1745 <a name="_sub69" href="#_subfunctions" class="code">function ans_inj_sept_p_CreateFcn(hObject, eventdata, handles)</a>
1746 <span class="comment">% hObject    handle to ans_inj_sept_p (see GCBO)</span>
1747 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1748 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1749 
1750 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1751 <span class="comment">%       See ISPC and COMPUTER.</span>
1752 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1753     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1754 <span class="keyword">end</span>
1755 
1756 
1757 
1758 <a name="_sub70" href="#_subfunctions" class="code">function ans_inj_sept_a_Callback(hObject, eventdata, handles)</a>
1759 <span class="comment">% hObject    handle to ans_inj_sept_a (see GCBO)</span>
1760 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1761 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1762 
1763 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_sept_a as text</span>
1764 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_sept_a as a double</span>
1765 
1766 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1767 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1768 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
1769 
1770 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1771 <a name="_sub71" href="#_subfunctions" class="code">function ans_inj_sept_a_CreateFcn(hObject, eventdata, handles)</a>
1772 <span class="comment">% hObject    handle to ans_inj_sept_a (see GCBO)</span>
1773 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1774 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1775 
1776 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1777 <span class="comment">%       See ISPC and COMPUTER.</span>
1778 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1779     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1780 <span class="keyword">end</span>
1781 
1782 
1783 
1784 <a name="_sub72" href="#_subfunctions" class="code">function ans_inj_k1_Callback(hObject, eventdata, handles)</a>
1785 <span class="comment">% hObject    handle to ans_inj_k1 (see GCBO)</span>
1786 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1787 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1788 
1789 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k1 as text</span>
1790 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k1 as a double</span>
1791 
1792 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1793 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1794 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>,delay);
1795 
1796 
1797 
1798 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1799 <a name="_sub73" href="#_subfunctions" class="code">function ans_inj_k1_CreateFcn(hObject, eventdata, handles)</a>
1800 <span class="comment">% hObject    handle to ans_inj_k1 (see GCBO)</span>
1801 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1802 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1803 
1804 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1805 <span class="comment">%       See ISPC and COMPUTER.</span>
1806 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1807     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1808 <span class="keyword">end</span>
1809 
1810 
1811 
1812 <a name="_sub74" href="#_subfunctions" class="code">function ans_inj_k2_Callback(hObject, eventdata, handles)</a>
1813 <span class="comment">% hObject    handle to ans_inj_k2 (see GCBO)</span>
1814 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1815 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1816 
1817 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k2 as text</span>
1818 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k2 as a double</span>
1819 
1820 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1821 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1822 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>,delay);
1823 
1824 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1825 <a name="_sub75" href="#_subfunctions" class="code">function ans_inj_k2_CreateFcn(hObject, eventdata, handles)</a>
1826 <span class="comment">% hObject    handle to ans_inj_k2 (see GCBO)</span>
1827 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1828 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1829 
1830 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1831 <span class="comment">%       See ISPC and COMPUTER.</span>
1832 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1833     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1834 <span class="keyword">end</span>
1835 
1836 
1837 
1838 <a name="_sub76" href="#_subfunctions" class="code">function ans_inj_k3_Callback(hObject, eventdata, handles)</a>
1839 <span class="comment">% hObject    handle to ans_inj_k3 (see GCBO)</span>
1840 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1841 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1842 
1843 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k3 as text</span>
1844 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k3 as a double</span>
1845 
1846 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1847 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1848 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>,delay);
1849 
1850 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1851 <a name="_sub77" href="#_subfunctions" class="code">function ans_inj_k3_CreateFcn(hObject, eventdata, handles)</a>
1852 <span class="comment">% hObject    handle to ans_inj_k3 (see GCBO)</span>
1853 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1854 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1855 
1856 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1857 <span class="comment">%       See ISPC and COMPUTER.</span>
1858 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1859     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1860 <span class="keyword">end</span>
1861 
1862 
1863 
1864 <a name="_sub78" href="#_subfunctions" class="code">function ans_inj_k4_Callback(hObject, eventdata, handles)</a>
1865 <span class="comment">% hObject    handle to ans_inj_k4 (see GCBO)</span>
1866 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1867 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1868 
1869 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_inj_k4 as text</span>
1870 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_inj_k4 as a double</span>
1871 
1872 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1873 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1874 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>,delay);
1875 
1876 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1877 <a name="_sub79" href="#_subfunctions" class="code">function ans_inj_k4_CreateFcn(hObject, eventdata, handles)</a>
1878 <span class="comment">% hObject    handle to ans_inj_k4 (see GCBO)</span>
1879 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1880 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1881 
1882 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1883 <span class="comment">%       See ISPC and COMPUTER.</span>
1884 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1885     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1886 <span class="keyword">end</span>
1887 
1888 
1889 
1890 <a name="_sub80" href="#_subfunctions" class="code">function ans_dcct_Callback(hObject, eventdata, handles)</a>
1891 <span class="comment">% hObject    handle to ans_dcct (see GCBO)</span>
1892 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1893 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1894 
1895 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_dcct as text</span>
1896 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_dcct as a double</span>
1897 
1898 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1899 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1900 tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTimeDelay'</span>,delay);
1901 
1902 
1903 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1904 <a name="_sub81" href="#_subfunctions" class="code">function ans_dcct_CreateFcn(hObject, eventdata, handles)</a>
1905 <span class="comment">% hObject    handle to ans_dcct (see GCBO)</span>
1906 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1907 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1908 
1909 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1910 <span class="comment">%       See ISPC and COMPUTER.</span>
1911 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1912     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1913 <span class="keyword">end</span>
1914 
1915 
1916 
1917 <a name="_sub82" href="#_subfunctions" class="code">function ans_bpm_Callback(hObject, eventdata, handles)</a>
1918 <span class="comment">% hObject    handle to ans_bpm (see GCBO)</span>
1919 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1920 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1921 
1922 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm as text</span>
1923 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm as a double</span>
1924 
1925 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
1926 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
1927 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1928 tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1929 tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1930 tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1931 tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1932 tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1933 tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1934 tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1935 tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1936 tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1937 tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1938 tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1939 tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1940 tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1941 tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1942 tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
1943 
1944 
1945 
1946 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1947 <a name="_sub83" href="#_subfunctions" class="code">function ans_bpm_CreateFcn(hObject, eventdata, handles)</a>
1948 <span class="comment">% hObject    handle to ans_bpm (see GCBO)</span>
1949 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1950 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1951 
1952 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1953 <span class="comment">%       See ISPC and COMPUTER.</span>
1954 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1955     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1956 <span class="keyword">end</span>
1957 
1958 
1959 
1960 <a name="_sub84" href="#_subfunctions" class="code">function ext_address_Callback(hObject, eventdata, handles)</a>
1961 <span class="comment">% hObject    handle to ext_address (see GCBO)</span>
1962 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1963 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1964 
1965 <span class="comment">% Hints: get(hObject,'String') returns contents of ext_address as text</span>
1966 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ext_address as a double</span>
1967 <span class="comment">%'ANS/SY/CENTRAL', 'ExtractionOffsetTimeValue'</span>
1968 
1969 delay=str2double(get(hObject,<span class="string">'String'</span>));
1970 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>,delay);
1971 
1972 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1973 <a name="_sub85" href="#_subfunctions" class="code">function ext_address_CreateFcn(hObject, eventdata, handles)</a>
1974 <span class="comment">% hObject    handle to ext_address (see GCBO)</span>
1975 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1976 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1977 
1978 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1979 <span class="comment">%       See ISPC and COMPUTER.</span>
1980 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1981     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1982 <span class="keyword">end</span>
1983 
1984 
1985 
1986 <a name="_sub86" href="#_subfunctions" class="code">function soft_address1_Callback(hObject, eventdata, handles)</a>
1987 <span class="comment">% hObject    handle to soft_address1 (see GCBO)</span>
1988 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1989 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1990 
1991 <span class="comment">% Hints: get(hObject,'String') returns contents of soft_address1 as text</span>
1992 <span class="comment">%        str2double(get(hObject,'String')) returns contents of soft_address1 as a double</span>
1993 
1994 
1995 
1996 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1997 <a name="_sub87" href="#_subfunctions" class="code">function soft_address1_CreateFcn(hObject, eventdata, handles)</a>
1998 <span class="comment">% hObject    handle to soft_address1 (see GCBO)</span>
1999 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2000 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2001 
2002 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2003 <span class="comment">%       See ISPC and COMPUTER.</span>
2004 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2005     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2006 <span class="keyword">end</span>
2007 
2008 
2009 <span class="comment">% --- Executes on button press in radiobutton6.</span>
2010 <a name="_sub88" href="#_subfunctions" class="code">function radiobutton6_Callback(hObject, eventdata, handles)</a>
2011 <span class="comment">% hObject    handle to radiobutton6 (see GCBO)</span>
2012 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2013 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2014 
2015 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton6</span>
2016 
2017 
2018 <span class="comment">% --- Executes on button press in pushbutton8.</span>
2019 <a name="_sub89" href="#_subfunctions" class="code">function pushbutton8_Callback(hObject, eventdata, handles)</a>
2020 <span class="comment">% hObject    handle to pushbutton8 (see GCBO)</span>
2021 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2022 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2023 
2024 
2025 <span class="comment">% --- Executes on button press in pushbutton9.</span>
2026 <a name="_sub90" href="#_subfunctions" class="code">function pushbutton9_Callback(hObject, eventdata, handles)</a>
2027 <span class="comment">% hObject    handle to pushbutton9 (see GCBO)</span>
2028 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2029 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2030 
2031 
2032 <span class="comment">% --- Executes on button press in button_extmoins.</span>
2033 <a name="_sub91" href="#_subfunctions" class="code">function button_extmoins_Callback(hObject, eventdata, handles)</a>
2034 <span class="comment">% hObject    handle to button_extmoins (see GCBO)</span>
2035 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2036 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2037 
2038 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
2039 <a href="step.html" class="code" title="">step</a>=temp.value(1)-52*0.52243;
2040 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>,<a href="step.html" class="code" title="">step</a>);
2041 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'ExtractionOffsetTimeValue'</span>);
2042 set(handles.ext_address,<span class="string">'String'</span>,num2str(temp.value(1)));
2043 
2044 <span class="comment">% --- Executes on button press in button_extplus.</span>
2045 <a name="_sub92" href="#_subfunctions" class="code">function button_extplus_Callback(hObject, eventdata, handles)</a>
2046 <span class="comment">% hObject    handle to button_extplus (see GCBO)</span>
2047 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2048 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2049 
2050 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
2051 <a href="step.html" class="code" title="">step</a>=temp.value(1)+52*0.52243;
2052 tango_write_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>,<a href="step.html" class="code" title="">step</a>);
2053 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'ExtractionOffsetTimeValue'</span>);
2054 set(handles.ext_address,<span class="string">'String'</span>,num2str(temp.value(1)));
2055 
2056 <a name="_sub93" href="#_subfunctions" class="code">function sdc2_Callback(hObject, eventdata, handles)</a>
2057 <span class="comment">% hObject    handle to sdc2 (see GCBO)</span>
2058 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2059 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2060 
2061 <span class="comment">% Hints: get(hObject,'String') returns contents of sdc2 as text</span>
2062 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sdc2 as a double</span>
2063 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2064 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2065 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2066 
2067 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2068 <a name="_sub94" href="#_subfunctions" class="code">function sdc2_CreateFcn(hObject, eventdata, handles)</a>
2069 <span class="comment">% hObject    handle to sdc2 (see GCBO)</span>
2070 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2071 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2072 
2073 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2074 <span class="comment">%       See ISPC and COMPUTER.</span>
2075 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2076     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2077 <span class="keyword">end</span>
2078 
2079 
2080 
2081 <a name="_sub95" href="#_subfunctions" class="code">function lt2_emittance_Callback(hObject, eventdata, handles)</a>
2082 <span class="comment">% hObject    handle to lt2_emittance (see GCBO)</span>
2083 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2084 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2085 
2086 <span class="comment">% Hints: get(hObject,'String') returns contents of lt2_emittance as text</span>
2087 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt2_emittance as a double</span>
2088 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2089 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2090 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>,delay);
2091 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'emittanceTimeDelay'</span>,delay);
2092 
2093 
2094 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2095 <a name="_sub96" href="#_subfunctions" class="code">function lt2_emittance_CreateFcn(hObject, eventdata, handles)</a>
2096 <span class="comment">% hObject    handle to lt2_emittance (see GCBO)</span>
2097 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2098 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2099 
2100 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2101 <span class="comment">%       See ISPC and COMPUTER.</span>
2102 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2103     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2104 <span class="keyword">end</span>
2105 
2106 
2107 
2108 <a name="_sub97" href="#_subfunctions" class="code">function lt2_bpm_Callback(hObject, eventdata, handles)</a>
2109 <span class="comment">% hObject    handle to lt2_bpm (see GCBO)</span>
2110 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2111 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2112 
2113 <span class="comment">% Hints: get(hObject,'String') returns contents of lt2_bpm as text</span>
2114 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt2_bpm as a double</span>
2115 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2116 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2117 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2118 
2119 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2120 <a name="_sub98" href="#_subfunctions" class="code">function lt2_bpm_CreateFcn(hObject, eventdata, handles)</a>
2121 <span class="comment">% hObject    handle to lt2_bpm (see GCBO)</span>
2122 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2123 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2124 
2125 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2126 <span class="comment">%       See ISPC and COMPUTER.</span>
2127 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2128     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2129 <span class="keyword">end</span>
2130 
2131 
2132 
2133 <a name="_sub99" href="#_subfunctions" class="code">function lt2_osc_Callback(hObject, eventdata, handles)</a>
2134 <span class="comment">% hObject    handle to lt2_osc (see GCBO)</span>
2135 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2136 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2137 
2138 <span class="comment">% Hints: get(hObject,'String') returns contents of lt2_osc as text</span>
2139 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lt2_osc as a double</span>
2140 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2141 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2142 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>,delay);
2143 
2144 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2145 <a name="_sub100" href="#_subfunctions" class="code">function lt2_osc_CreateFcn(hObject, eventdata, handles)</a>
2146 <span class="comment">% hObject    handle to lt2_osc (see GCBO)</span>
2147 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2148 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2149 
2150 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2151 <span class="comment">%       See ISPC and COMPUTER.</span>
2152 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2153     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2154 <span class="keyword">end</span>
2155 
2156 
2157 
2158 <a name="_sub101" href="#_subfunctions" class="code">function lin_modulateur_Callback(hObject, eventdata, handles)</a>
2159 <span class="comment">% hObject    handle to lin_modulateur (see GCBO)</span>
2160 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2161 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2162 
2163 <span class="comment">% Hints: get(hObject,'String') returns contents of lin_modulateur as text</span>
2164 <span class="comment">%        str2double(get(hObject,'String')) returns contents of lin_modulateur as a double</span>
2165 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2166 delay=str2double(get(hObject,<span class="string">'String'</span>))+inj_offset;
2167 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2168 
2169 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2170 <a name="_sub102" href="#_subfunctions" class="code">function lin_modulateur_CreateFcn(hObject, eventdata, handles)</a>
2171 <span class="comment">% hObject    handle to lin_modulateur (see GCBO)</span>
2172 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2173 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2174 
2175 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2176 <span class="comment">%       See ISPC and COMPUTER.</span>
2177 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2178     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2179 <span class="keyword">end</span>
2180 
2181 
2182 
2183 <a name="_sub103" href="#_subfunctions" class="code">function inj_offset_Callback(hObject, eventdata, handles)</a>
2184 <span class="comment">% hObject    handle to inj_offset (see GCBO)</span>
2185 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2186 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2187 
2188 <span class="comment">% Hints: get(hObject,'String') returns contents of inj_offset as text</span>
2189 <span class="comment">%        str2double(get(hObject,'String')) returns contents of inj_offset as a double</span>
2190 
2191 inj_offset=str2double(get(hObject,<span class="string">'String'</span>));
2192 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2193 save(<span class="string">'synchro_offset'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>)
2194 
2195 <span class="comment">%LIN</span>
2196 delay=str2double(get(handles.lin_canon,<span class="string">'String'</span>))+inj_offset;
2197 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmTimeDelay'</span>,delay);
2198 
2199 delay=str2double(get(handles.lin_modulateur,<span class="string">'String'</span>))+inj_offset;
2200 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2201 
2202 delay=str2double(get(handles.sdc1,<span class="string">'String'</span>))+inj_offset;
2203 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
2204 
2205 
2206 <span class="comment">% LT1</span>
2207 delay=str2double(get(handles.lt1_MC2,<span class="string">'String'</span>))+inj_offset;
2208 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TimeDelay'</span>,delay);
2209 
2210 delay=str2double(get(handles.lt1_MC1,<span class="string">'String'</span>))+inj_offset;
2211 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TimeDelay'</span>,delay);
2212 
2213 delay=str2double(get(handles.lt1_emittance,<span class="string">'String'</span>))+inj_offset;
2214 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTimeDelay'</span>,delay);
2215 
2216 delay=str2double(get(handles.lt1_osc,<span class="string">'String'</span>))+inj_offset;
2217 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTimeDelay'</span>,delay);
2218 
2219 
2220 <span class="comment">% BOO</span>
2221 delay=str2double(get(handles.boo_inj_septum,<span class="string">'String'</span>))+inj_offset;
2222 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
2223 
2224 delay=str2double(get(handles.boo_inj_kicker,<span class="string">'String'</span>))+inj_offset;
2225 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
2226 
2227 delay=str2double(get(handles.boo_bpm,<span class="string">'String'</span>))+inj_offset;
2228 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTimeDelay'</span>,delay);
2229 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-btd.trigTimeDelay'</span>,delay);
2230 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.2'</span>, <span class="string">'bpm-btb.trigTimeDelay'</span>,delay);
2231 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-btc.trigTimeDelay'</span>,delay);
2232 
2233 
2234 delay=str2double(get(handles.boo_nod,<span class="string">'String'</span>))+inj_offset;
2235 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTimeDelay'</span>,delay);
2236 
2237 delay=str2double(get(handles.boo_dcct,<span class="string">'String'</span>))+inj_offset;
2238 tango_write_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTimeDelay'</span>,delay);
2239 
2240 
2241 
2242 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2243 <a name="_sub104" href="#_subfunctions" class="code">function inj_offset_CreateFcn(hObject, eventdata, handles)</a>
2244 <span class="comment">% hObject    handle to inj_offset (see GCBO)</span>
2245 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2246 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2247 
2248 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2249 <span class="comment">%       See ISPC and COMPUTER.</span>
2250 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2251     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2252 <span class="keyword">end</span>
2253 
2254 
2255 
2256 <a name="_sub105" href="#_subfunctions" class="code">function ext_offset_Callback(hObject, eventdata, handles)</a>
2257 <span class="comment">% hObject    handle to ext_offset (see GCBO)</span>
2258 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2259 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2260 
2261 <span class="comment">% Hints: get(hObject,'String') returns contents of ext_offset as text</span>
2262 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ext_offset as a double</span>
2263 
2264 ext_offset=str2double(get(hObject,<span class="string">'String'</span>));
2265 inj_offset=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2266 save(<span class="string">'synchro_offset'</span>, <span class="string">'inj_offset'</span> , <span class="string">'ext_offset'</span>)
2267 
2268 <span class="comment">%BOO</span>
2269 delay=str2double(get(handles.boo_ext_dof,<span class="string">'String'</span>))+ext_offset;
2270 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTimeDelay'</span>,delay);
2271 
2272 delay=str2double(get(handles.boo_ext_sept_p,<span class="string">'String'</span>))+ext_offset;
2273 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
2274 
2275 delay=str2double(get(handles.boo_ext_sept_a,<span class="string">'String'</span>))+ext_offset;
2276 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
2277 
2278 delay=str2double(get(handles.boo_ext_kicker,<span class="string">'String'</span>))+ext_offset;
2279 tango_write_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTimeDelay'</span>,delay);
2280 
2281 delay=str2double(get(handles.sdc2,<span class="string">'String'</span>))+ext_offset;
2282 tango_write_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTimeDelay'</span>,delay);
2283 
2284 <span class="comment">%LT2</span>
2285 delay=str2double(get(handles.lt2_bpm,<span class="string">'String'</span>))+ext_offset;
2286 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2287 
2288 delay=str2double(get(handles.lt2_osc,<span class="string">'String'</span>))+ext_offset;
2289 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTimeDelay'</span>,delay);
2290 
2291 delay=str2double(get(handles.lt2_emittance,<span class="string">'String'</span>))+ext_offset;
2292 tango_write_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTimeDelay'</span>,delay);
2293 
2294 <span class="comment">%ANS</span>
2295 
2296 delay=str2double(get(handles.ans_inj_sept_a,<span class="string">'String'</span>))+ext_offset;
2297 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTimeDelay'</span>,delay);
2298 
2299 delay=str2double(get(handles.ans_inj_sept_p,<span class="string">'String'</span>))+ext_offset;
2300 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTimeDelay'</span>,delay);
2301 
2302 delay=str2double(get(handles.ans_inj_k1,<span class="string">'String'</span>))+ext_offset;
2303 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTimeDelay'</span>,delay);
2304 
2305 delay=str2double(get(handles.ans_inj_k2,<span class="string">'String'</span>))+ext_offset;
2306 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTimeDelay'</span>,delay);
2307 
2308 delay=str2double(get(handles.ans_inj_k3,<span class="string">'String'</span>))+ext_offset;
2309 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTimeDelay'</span>,delay);
2310 
2311 delay=str2double(get(handles.ans_inj_k4,<span class="string">'String'</span>))+ext_offset;
2312 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTimeDelay'</span>,delay);
2313 
2314 
2315 
2316 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2317 <a name="_sub106" href="#_subfunctions" class="code">function ext_offset_CreateFcn(hObject, eventdata, handles)</a>
2318 <span class="comment">% hObject    handle to ext_offset (see GCBO)</span>
2319 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2320 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2321 
2322 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2323 <span class="comment">%       See ISPC and COMPUTER.</span>
2324 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2325     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2326 <span class="keyword">end</span>
2327 
2328 
2329 <span class="comment">% --- Executes on button press in Acquisition_address.</span>
2330 <a name="_sub107" href="#_subfunctions" class="code">function Acquisition_address_Callback(hObject, eventdata, handles)</a>
2331 <span class="comment">% hObject    handle to Acquisition_address (see GCBO)</span>
2332 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2333 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2334 
2335 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2336 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2337 set(handles.lin_canon,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2338 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2339 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2340 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2341 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2342 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2343 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2344 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2345 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2346 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2347 set(handles.alim_dipole,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2348 set(handles.alim_qf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2349 set(handles.alim_qd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2350 set(handles.alim_sf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2351 set(handles.alim_sd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2352 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2353 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2354 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2355 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2356 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2357 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2358 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2359 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2360 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2361 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2362 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2363 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2364 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2365 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2366 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2367 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2368 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2369 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2370 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2371 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2372 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2373 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2374 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2375 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2376 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2377 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2378 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2379 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2380 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2381 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2382 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2383 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2384 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2385 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2386 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
2387 
2388 n=1;
2389 
2390 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
2391 set(handles.pc_address,<span class="string">'String'</span>,num2str(temp.value(n)));
2392 
2393 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
2394 set(handles.inj_address,<span class="string">'String'</span>,num2str(temp.value(n)));
2395 
2396 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
2397 set(handles.soft_address,<span class="string">'String'</span>,num2str(temp.value(n)));
2398 
2399 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
2400 set(handles.ext_address,<span class="string">'String'</span>,num2str(temp.value(n)));
2401 
2402 
2403 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscEvent'</span>);
2404 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)));
2405 
2406 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmEvent'</span>);
2407 set(handles.lin_canon,<span class="string">'String'</span>,num2str(temp.value(n)));
2408 
2409 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigEvent'</span>);
2410 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2411 
2412 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceEvent'</span>);
2413 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
2414 
2415 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1Event'</span>);
2416 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)));
2417 
2418 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2Event'</span>);
2419 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)));
2420 
2421 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscEvent'</span>);
2422 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
2423 
2424 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booEvent'</span>);
2425 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
2426 
2427 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigEvent'</span>);
2428 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)));
2429 
2430 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigEvent'</span>);
2431 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)));
2432 
2433 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigEvent'</span>);
2434 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
2435 
2436 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpEvent'</span>);
2437 set(handles.alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
2438 
2439 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfEvent'</span>);
2440 set(handles.alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
2441 
2442 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdEvent'</span>);
2443 set(handles.alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
2444 
2445 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfEvent'</span>);
2446 set(handles.alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
2447 
2448 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdEvent'</span>);
2449 set(handles.alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
2450 
2451 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfEvent'</span>);
2452 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
2453 
2454 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareEvent'</span>);
2455 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)));
2456 
2457 
2458 
2459 
2460 
2461 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigEvent'</span>);
2462 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)));
2463 
2464 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigEvent'</span>);
2465 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
2466 
2467 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigEvent'</span>);
2468 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
2469 
2470 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigEvent'</span>);
2471 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
2472 
2473 
2474 
2475 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareEvent'</span>);
2476 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)));
2477 
2478 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvEvent'</span>);
2479 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
2480 
2481 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctEvent'</span>);
2482 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
2483 
2484 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>);
2485 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2486 
2487 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigEvent'</span>);
2488 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)));
2489 
2490 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigEvent'</span>);
2491 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)));
2492 
2493 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigEvent'</span>);
2494 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)));
2495 
2496 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigEvent'</span>);
2497 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)));
2498 
2499 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigEvent'</span>);
2500 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
2501 
2502 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigEvent'</span>);
2503 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
2504 
2505 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctEvent'</span>);
2506 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
2507 
2508 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigEvent'</span>);
2509 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
2510 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)));
2511 
2512 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2513 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)));
2514 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2515 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)));
2516 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2517 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)));
2518 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2519 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)));
2520 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2521 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)));
2522 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2523 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)));
2524 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2525 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)));
2526 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2527 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)));
2528 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2529 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)));
2530 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2531 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)));
2532 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2533 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)));
2534 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2535 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)));
2536 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2537 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)));
2538 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2539 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)));
2540 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigEvent'</span>);
2541 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)));
2542 
2543 
2544 
2545 <span class="comment">% --- Executes on button press in button_offinj_moins.</span>
2546 <a name="_sub108" href="#_subfunctions" class="code">function button_offinj_moins_Callback(hObject, eventdata, handles)</a>
2547 <span class="comment">% hObject    handle to button_offinj_moins (see GCBO)</span>
2548 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2549 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2550 
2551 temp=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2552 <a href="step.html" class="code" title="">step</a>=temp-52*0.52243;
2553 set(handles.inj_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2554 <a href="#_sub103" class="code" title="subfunction inj_offset_Callback(hObject, eventdata, handles)">inj_offset_Callback</a>(handles.inj_offset, eventdata, handles);
2555 
2556 <span class="comment">% --- Executes on button press in button_offinj_plus.</span>
2557 <a name="_sub109" href="#_subfunctions" class="code">function button_offinj_plus_Callback(hObject, eventdata, handles)</a>
2558 <span class="comment">% hObject    handle to button_offinj_plus (see GCBO)</span>
2559 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2560 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2561 
2562 temp=str2double(get(handles.inj_offset,<span class="string">'String'</span>));
2563 <a href="step.html" class="code" title="">step</a>=temp+52*0.52243;
2564 set(handles.inj_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2565 <a href="#_sub103" class="code" title="subfunction inj_offset_Callback(hObject, eventdata, handles)">inj_offset_Callback</a>(handles.inj_offset, eventdata, handles);
2566 
2567 <span class="comment">% --- Executes on button press in button_offext_moins.</span>
2568 <a name="_sub110" href="#_subfunctions" class="code">function button_offext_moins_Callback(hObject, eventdata, handles)</a>
2569 <span class="comment">% hObject    handle to button_offext_moins (see GCBO)</span>
2570 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2571 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2572 
2573 temp=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2574 <a href="step.html" class="code" title="">step</a>=temp-52*0.52243;
2575 set(handles.ext_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2576 <a href="#_sub105" class="code" title="subfunction ext_offset_Callback(hObject, eventdata, handles)">ext_offset_Callback</a>(handles.ext_offset, eventdata, handles);
2577 
2578 <span class="comment">% --- Executes on button press in button_offext_plus.</span>
2579 <a name="_sub111" href="#_subfunctions" class="code">function button_offext_plus_Callback(hObject, eventdata, handles)</a>
2580 <span class="comment">% hObject    handle to button_offext_plus (see GCBO)</span>
2581 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2582 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2583 
2584 temp=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2585 <a href="step.html" class="code" title="">step</a>=temp+52*0.52243;
2586 set(handles.ext_offset,<span class="string">'String'</span>,<a href="step.html" class="code" title="">step</a>);
2587 <a href="#_sub105" class="code" title="subfunction ext_offset_Callback(hObject, eventdata, handles)">ext_offset_Callback</a>(handles.ext_offset, eventdata, handles);
2588 
2589 
2590 <span class="comment">% --- Executes on button press in button_bpm.</span>
2591 <a name="_sub112" href="#_subfunctions" class="code">function button_bpm_Callback(hObject, eventdata, handles)</a>
2592 <span class="comment">% hObject    handle to button_bpm (see GCBO)</span>
2593 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2594 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2595 
2596 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of button_bpm</span>
2597 
2598 bpm=get(hObject,<span class="string">'Value'</span>);
2599 
2600 <span class="keyword">if</span> (bpm==0)
2601    set(handles.panel_bpm,<span class="string">'Visible'</span>,<span class="string">'off'</span>);
2602 <span class="keyword">elseif</span> (bpm==1)
2603     set(handles.panel_bpm,<span class="string">'Visible'</span>,<span class="string">'on'</span>);
2604 <span class="keyword">end</span>
2605 
2606 
2607 
2608 <a name="_sub113" href="#_subfunctions" class="code">function ans_bpm_c01_Callback(hObject, eventdata, handles)</a>
2609 <span class="comment">% hObject    handle to ans_bpm_c01 (see GCBO)</span>
2610 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2611 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2612 
2613 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c01 as text</span>
2614 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c01 as a double</span>
2615 
2616 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2617 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2618 tango_write_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2619 
2620 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2621 <a name="_sub114" href="#_subfunctions" class="code">function ans_bpm_c01_CreateFcn(hObject, eventdata, handles)</a>
2622 <span class="comment">% hObject    handle to ans_bpm_c01 (see GCBO)</span>
2623 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2624 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2625 
2626 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2627 <span class="comment">%       See ISPC and COMPUTER.</span>
2628 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2629     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2630 <span class="keyword">end</span>
2631 
2632 
2633 <a name="_sub115" href="#_subfunctions" class="code">function ans_bpm_c02_Callback(hObject, eventdata, handles)</a>
2634 <span class="comment">% hObject    handle to ans_bpm_c02 (see GCBO)</span>
2635 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2636 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2637 
2638 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c02 as text</span>
2639 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c02 as a double</span>
2640 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2641 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2642 tango_write_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2643 
2644 
2645 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2646 <a name="_sub116" href="#_subfunctions" class="code">function ans_bpm_c02_CreateFcn(hObject, eventdata, handles)</a>
2647 <span class="comment">% hObject    handle to ans_bpm_c02 (see GCBO)</span>
2648 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2649 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2650 
2651 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2652 <span class="comment">%       See ISPC and COMPUTER.</span>
2653 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2654     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2655 <span class="keyword">end</span>
2656 
2657 
2658 
2659 <a name="_sub117" href="#_subfunctions" class="code">function ans_bpm_c03_Callback(hObject, eventdata, handles)</a>
2660 <span class="comment">% hObject    handle to ans_bpm_c03 (see GCBO)</span>
2661 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2662 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2663 
2664 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c03 as text</span>
2665 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c03 as a double</span>
2666 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2667 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2668 tango_write_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2669 
2670 
2671 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2672 <a name="_sub118" href="#_subfunctions" class="code">function ans_bpm_c03_CreateFcn(hObject, eventdata, handles)</a>
2673 <span class="comment">% hObject    handle to ans_bpm_c03 (see GCBO)</span>
2674 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2675 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2676 
2677 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2678 <span class="comment">%       See ISPC and COMPUTER.</span>
2679 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2680     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2681 <span class="keyword">end</span>
2682 
2683 
2684 
2685 <a name="_sub119" href="#_subfunctions" class="code">function ans_bpm_c04_Callback(hObject, eventdata, handles)</a>
2686 <span class="comment">% hObject    handle to ans_bpm_c04 (see GCBO)</span>
2687 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2688 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2689 
2690 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c04 as text</span>
2691 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c04 as a double</span>
2692 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2693 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2694 tango_write_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2695 
2696 
2697 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2698 <a name="_sub120" href="#_subfunctions" class="code">function ans_bpm_c04_CreateFcn(hObject, eventdata, handles)</a>
2699 <span class="comment">% hObject    handle to ans_bpm_c04 (see GCBO)</span>
2700 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2701 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2702 
2703 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2704 <span class="comment">%       See ISPC and COMPUTER.</span>
2705 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2706     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2707 <span class="keyword">end</span>
2708 
2709 
2710 
2711 <a name="_sub121" href="#_subfunctions" class="code">function ans_bpm_c05_Callback(hObject, eventdata, handles)</a>
2712 <span class="comment">% hObject    handle to ans_bpm_c05 (see GCBO)</span>
2713 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2714 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2715 
2716 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c05 as text</span>
2717 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c05 as a double</span>
2718 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2719 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2720 tango_write_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2721 
2722 
2723 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2724 <a name="_sub122" href="#_subfunctions" class="code">function ans_bpm_c05_CreateFcn(hObject, eventdata, handles)</a>
2725 <span class="comment">% hObject    handle to ans_bpm_c05 (see GCBO)</span>
2726 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2727 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2728 
2729 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2730 <span class="comment">%       See ISPC and COMPUTER.</span>
2731 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2732     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2733 <span class="keyword">end</span>
2734 
2735 
2736 
2737 <a name="_sub123" href="#_subfunctions" class="code">function ans_bpm_c06_Callback(hObject, eventdata, handles)</a>
2738 <span class="comment">% hObject    handle to ans_bpm_c06 (see GCBO)</span>
2739 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2740 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2741 
2742 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c06 as text</span>
2743 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c06 as a double</span>
2744 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2745 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2746 tango_write_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2747 
2748 
2749 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2750 <a name="_sub124" href="#_subfunctions" class="code">function ans_bpm_c06_CreateFcn(hObject, eventdata, handles)</a>
2751 <span class="comment">% hObject    handle to ans_bpm_c06 (see GCBO)</span>
2752 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2753 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2754 
2755 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2756 <span class="comment">%       See ISPC and COMPUTER.</span>
2757 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2758     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2759 <span class="keyword">end</span>
2760 
2761 
2762 
2763 <a name="_sub125" href="#_subfunctions" class="code">function ans_bpm_c07_Callback(hObject, eventdata, handles)</a>
2764 <span class="comment">% hObject    handle to ans_bpm_c07 (see GCBO)</span>
2765 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2766 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2767 
2768 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c07 as text</span>
2769 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c07 as a double</span>
2770 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2771 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2772 tango_write_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2773 
2774 
2775 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2776 <a name="_sub126" href="#_subfunctions" class="code">function ans_bpm_c07_CreateFcn(hObject, eventdata, handles)</a>
2777 <span class="comment">% hObject    handle to ans_bpm_c07 (see GCBO)</span>
2778 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2779 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2780 
2781 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2782 <span class="comment">%       See ISPC and COMPUTER.</span>
2783 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2784     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2785 <span class="keyword">end</span>
2786 
2787 
2788 
2789 <a name="_sub127" href="#_subfunctions" class="code">function ans_bpm_c08_Callback(hObject, eventdata, handles)</a>
2790 <span class="comment">% hObject    handle to ans_bpm_c08 (see GCBO)</span>
2791 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2792 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2793 
2794 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c08 as text</span>
2795 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c08 as a double</span>
2796 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2797 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2798 tango_write_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2799 
2800 
2801 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2802 <a name="_sub128" href="#_subfunctions" class="code">function ans_bpm_c08_CreateFcn(hObject, eventdata, handles)</a>
2803 <span class="comment">% hObject    handle to ans_bpm_c08 (see GCBO)</span>
2804 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2805 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2806 
2807 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2808 <span class="comment">%       See ISPC and COMPUTER.</span>
2809 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2810     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2811 <span class="keyword">end</span>
2812 
2813 
2814 
2815 <a name="_sub129" href="#_subfunctions" class="code">function ans_bpm_c09_Callback(hObject, eventdata, handles)</a>
2816 <span class="comment">% hObject    handle to ans_bpm_c09 (see GCBO)</span>
2817 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2818 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2819 
2820 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c09 as text</span>
2821 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c09 as a double</span>
2822 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2823 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2824 tango_write_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2825 
2826 
2827 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2828 <a name="_sub130" href="#_subfunctions" class="code">function ans_bpm_c09_CreateFcn(hObject, eventdata, handles)</a>
2829 <span class="comment">% hObject    handle to ans_bpm_c09 (see GCBO)</span>
2830 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2831 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2832 
2833 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2834 <span class="comment">%       See ISPC and COMPUTER.</span>
2835 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2836     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2837 <span class="keyword">end</span>
2838 
2839 
2840 
2841 <a name="_sub131" href="#_subfunctions" class="code">function ans_bpm_c10_Callback(hObject, eventdata, handles)</a>
2842 <span class="comment">% hObject    handle to ans_bpm_c10 (see GCBO)</span>
2843 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2844 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2845 
2846 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c10 as text</span>
2847 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c10 as a double</span>
2848 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2849 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2850 tango_write_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2851 
2852 
2853 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2854 <a name="_sub132" href="#_subfunctions" class="code">function ans_bpm_c10_CreateFcn(hObject, eventdata, handles)</a>
2855 <span class="comment">% hObject    handle to ans_bpm_c10 (see GCBO)</span>
2856 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2857 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2858 
2859 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2860 <span class="comment">%       See ISPC and COMPUTER.</span>
2861 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2862     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2863 <span class="keyword">end</span>
2864 
2865 
2866 
2867 <a name="_sub133" href="#_subfunctions" class="code">function ans_bpm_c11_Callback(hObject, eventdata, handles)</a>
2868 <span class="comment">% hObject    handle to ans_bpm_c11 (see GCBO)</span>
2869 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2870 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2871 
2872 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c11 as text</span>
2873 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c11 as a double</span>
2874 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2875 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2876 tango_write_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2877 
2878 
2879 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2880 <a name="_sub134" href="#_subfunctions" class="code">function ans_bpm_c11_CreateFcn(hObject, eventdata, handles)</a>
2881 <span class="comment">% hObject    handle to ans_bpm_c11 (see GCBO)</span>
2882 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2883 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2884 
2885 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2886 <span class="comment">%       See ISPC and COMPUTER.</span>
2887 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2888     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2889 <span class="keyword">end</span>
2890 
2891 
2892 
2893 <a name="_sub135" href="#_subfunctions" class="code">function ans_bpm_c12_Callback(hObject, eventdata, handles)</a>
2894 <span class="comment">% hObject    handle to ans_bpm_c12 (see GCBO)</span>
2895 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2896 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2897 
2898 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c12 as text</span>
2899 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c12 as a double</span>
2900 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2901 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2902 tango_write_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2903 
2904 
2905 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2906 <a name="_sub136" href="#_subfunctions" class="code">function ans_bpm_c12_CreateFcn(hObject, eventdata, handles)</a>
2907 <span class="comment">% hObject    handle to ans_bpm_c12 (see GCBO)</span>
2908 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2909 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2910 
2911 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2912 <span class="comment">%       See ISPC and COMPUTER.</span>
2913 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2914     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2915 <span class="keyword">end</span>
2916 
2917 
2918 
2919 <a name="_sub137" href="#_subfunctions" class="code">function ans_bpm_c13_Callback(hObject, eventdata, handles)</a>
2920 <span class="comment">% hObject    handle to ans_bpm_c13 (see GCBO)</span>
2921 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2922 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2923 
2924 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c13 as text</span>
2925 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c13 as a double</span>
2926 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2927 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2928 tango_write_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2929 
2930 
2931 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2932 <a name="_sub138" href="#_subfunctions" class="code">function ans_bpm_c13_CreateFcn(hObject, eventdata, handles)</a>
2933 <span class="comment">% hObject    handle to ans_bpm_c13 (see GCBO)</span>
2934 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2935 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2936 
2937 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2938 <span class="comment">%       See ISPC and COMPUTER.</span>
2939 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2940     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2941 <span class="keyword">end</span>
2942 
2943 
2944 
2945 <a name="_sub139" href="#_subfunctions" class="code">function ans_bpm_c14_Callback(hObject, eventdata, handles)</a>
2946 <span class="comment">% hObject    handle to ans_bpm_c14 (see GCBO)</span>
2947 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2948 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2949 
2950 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c14 as text</span>
2951 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c14 as a double</span>
2952 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2953 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2954 tango_write_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2955 
2956 
2957 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2958 <a name="_sub140" href="#_subfunctions" class="code">function ans_bpm_c14_CreateFcn(hObject, eventdata, handles)</a>
2959 <span class="comment">% hObject    handle to ans_bpm_c14 (see GCBO)</span>
2960 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2961 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2962 
2963 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2964 <span class="comment">%       See ISPC and COMPUTER.</span>
2965 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2966     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2967 <span class="keyword">end</span>
2968 
2969 
2970 
2971 <a name="_sub141" href="#_subfunctions" class="code">function ans_bpm_c15_Callback(hObject, eventdata, handles)</a>
2972 <span class="comment">% hObject    handle to ans_bpm_c15 (see GCBO)</span>
2973 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2974 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2975 
2976 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c15 as text</span>
2977 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c15 as a double</span>
2978 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
2979 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
2980 tango_write_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
2981 
2982 
2983 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2984 <a name="_sub142" href="#_subfunctions" class="code">function ans_bpm_c15_CreateFcn(hObject, eventdata, handles)</a>
2985 <span class="comment">% hObject    handle to ans_bpm_c15 (see GCBO)</span>
2986 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2987 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2988 
2989 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2990 <span class="comment">%       See ISPC and COMPUTER.</span>
2991 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2992     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2993 <span class="keyword">end</span>
2994 
2995 
2996 
2997 <a name="_sub143" href="#_subfunctions" class="code">function ans_bpm_c16_Callback(hObject, eventdata, handles)</a>
2998 <span class="comment">% hObject    handle to ans_bpm_c16 (see GCBO)</span>
2999 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3000 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3001 
3002 <span class="comment">% Hints: get(hObject,'String') returns contents of ans_bpm_c16 as text</span>
3003 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ans_bpm_c16 as a double</span>
3004 ext_offset=str2double(get(handles.ext_offset,<span class="string">'String'</span>));
3005 delay=str2double(get(hObject,<span class="string">'String'</span>))+ext_offset;
3006 tango_write_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTimeDelay'</span>,delay);
3007 
3008 
3009 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3010 <a name="_sub144" href="#_subfunctions" class="code">function ans_bpm_c16_CreateFcn(hObject, eventdata, handles)</a>
3011 <span class="comment">% hObject    handle to ans_bpm_c16 (see GCBO)</span>
3012 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3013 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3014 
3015 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3016 <span class="comment">%       See ISPC and COMPUTER.</span>
3017 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3018     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3019 <span class="keyword">end</span>
3020 
3021 
3022 
3023 <a name="_sub145" href="#_subfunctions" class="code">function edit_filling_relecture_tables_Callback(hObject, eventdata, handles)</a>
3024 <span class="comment">% hObject    handle to edit_filling_relecture_tables (see GCBO)</span>
3025 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3026 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3027 
3028 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_relecture_tables as text</span>
3029 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_relecture_tables as a double</span>
3030 
3031 
3032 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3033 <a name="_sub146" href="#_subfunctions" class="code">function edit_filling_relecture_tables_CreateFcn(hObject, eventdata, handles)</a>
3034 <span class="comment">% hObject    handle to edit_filling_relecture_tables (see GCBO)</span>
3035 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3036 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3037 
3038 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3039 <span class="comment">%       See ISPC and COMPUTER.</span>
3040 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3041     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3042 <span class="keyword">end</span>
3043 
3044 
3045 
3046 <a name="_sub147" href="#_subfunctions" class="code">function edit72_Callback(hObject, eventdata, handles)</a>
3047 <span class="comment">% hObject    handle to edit72 (see GCBO)</span>
3048 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3049 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3050 
3051 <span class="comment">% Hints: get(hObject,'String') returns contents of edit72 as text</span>
3052 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit72 as a double</span>
3053 
3054 
3055 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3056 <a name="_sub148" href="#_subfunctions" class="code">function edit72_CreateFcn(hObject, eventdata, handles)</a>
3057 <span class="comment">% hObject    handle to edit72 (see GCBO)</span>
3058 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3059 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3060 
3061 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3062 <span class="comment">%       See ISPC and COMPUTER.</span>
3063 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3064     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3065 <span class="keyword">end</span>
3066 
3067 
3068 
3069 <a name="_sub149" href="#_subfunctions" class="code">function edit_filling_relecture_bunch_Callback(hObject, eventdata, handles)</a>
3070 <span class="comment">% hObject    handle to edit_filling_relecture_bunch (see GCBO)</span>
3071 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3072 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3073 
3074 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_relecture_bunch as text</span>
3075 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_relecture_bunch as a double</span>
3076 
3077 
3078 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3079 <a name="_sub150" href="#_subfunctions" class="code">function edit_filling_relecture_bunch_CreateFcn(hObject, eventdata, handles)</a>
3080 <span class="comment">% hObject    handle to edit_filling_relecture_bunch (see GCBO)</span>
3081 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3082 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3083 
3084 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3085 <span class="comment">%       See ISPC and COMPUTER.</span>
3086 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3087     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3088 <span class="keyword">end</span>
3089 
3090 
3091 
3092 <a name="_sub151" href="#_subfunctions" class="code">function edit_filling_entrer_bunch_Callback(hObject, eventdata, handles)</a>
3093 <span class="comment">% hObject    handle to edit_filling_entrer_bunch (see GCBO)</span>
3094 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3095 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3096 
3097 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_filling_entrer_bunch as text</span>
3098 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_filling_entrer_bunch as a double</span>
3099 
3100 
3101 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3102 <a name="_sub152" href="#_subfunctions" class="code">function edit_filling_entrer_bunch_CreateFcn(hObject, eventdata, handles)</a>
3103 <span class="comment">% hObject    handle to edit_filling_entrer_bunch (see GCBO)</span>
3104 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3105 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3106 
3107 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3108 <span class="comment">%       See ISPC and COMPUTER.</span>
3109 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3110     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3111 <span class="keyword">end</span>
3112 
3113 
3114 <span class="comment">% --- Executes on button press in button_update.</span>
3115 <a name="_sub153" href="#_subfunctions" class="code">function button_update_Callback(hObject, eventdata, handles)</a>
3116 <span class="comment">% hObject    handle to button_update (see GCBO)</span>
3117 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3118 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3119 
3120 fprintf(<span class="string">'*****Update des 16 cartes locales******\n'</span>)
3121 r=tango_command_inout2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>,r);
3122 r=tango_command_inout2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>,<span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>,r);
3123 
3124 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>,  <span class="string">'Update'</span>);    <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>,r);
3125 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Alim.1'</span>,  <span class="string">'Update'</span>); <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.Alim.1'</span>,r);
3126 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.DG.3'</span>,r);
3127 r=tango_command_inout2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>,r);
3128 
3129 r=tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>,r);
3130 r=tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>,r);
3131 r=tango_command_inout2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>,r);
3132 r=tango_command_inout2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>,r);
3133 r=tango_command_inout2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>,r);
3134 r=tango_command_inout2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>,r);
3135 r=tango_command_inout2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>,r);
3136 r=tango_command_inout2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>,r);
3137 r=tango_command_inout2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>);<a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>,r);
3138 r=tango_command_inout2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>,  <span class="string">'Update'</span>); <a href="retour_update.html" class="code" title="function retour_update(carte,r)">retour_update</a>(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>,r);
3139 fprintf(<span class="string">'**************************************\n'</span>)
3140 <span class="comment">%retour_command=vect</span>
3141 <span class="comment">%fprintf('16 zéro = OK : %d\n',vect)</span>
3142 
3143 <span class="comment">% --- Executes on button press in button_trigstatus.</span>
3144 <a name="_sub154" href="#_subfunctions" class="code">function button_trigstatus_Callback(hObject, eventdata, handles)</a>
3145 <span class="comment">% hObject    handle to button_trigstatus (see GCBO)</span>
3146 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3147 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3148 
3149 set(handles.inj_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3150 set(handles.sdc1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3151 set(handles.lin_canon,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3152 set(handles.boo_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3153 set(handles.lt1_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3154 set(handles.lt1_MC1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3155 set(handles.lt1_MC2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3156 set(handles.lt1_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3157 set(handles.boo_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3158 set(handles.boo_nod,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3159 set(handles.boo_inj_septum,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3160 set(handles.boo_inj_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3161 set(handles.alim_dipole,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3162 set(handles.alim_qf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3163 set(handles.alim_qd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3164 set(handles.alim_sf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3165 set(handles.alim_sd,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3166 set(handles.boo_rf,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3167 set(handles.lin_modulateur,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3168 set(handles.ext_offset,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3169 set(handles.boo_ext_dof,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3170 set(handles.boo_ext_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3171 set(handles.boo_ext_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3172 set(handles.boo_ext_kicker,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3173 set(handles.sdc2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3174 set(handles.lt2_emittance,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3175 set(handles.lt2_osc,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3176 set(handles.lt2_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3177 set(handles.ans_inj_k1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3178 set(handles.ans_inj_k2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3179 set(handles.ans_inj_k3,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3180 set(handles.ans_inj_k4,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3181 set(handles.ans_inj_sept_p,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3182 set(handles.ans_inj_sept_a,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3183 set(handles.ans_bpm,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3184 set(handles.ans_dcct,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3185 set(handles.ans_bpm_c01,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3186 set(handles.ans_bpm_c02,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3187 set(handles.ans_bpm_c03,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3188 set(handles.ans_bpm_c04,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3189 set(handles.ans_bpm_c05,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3190 set(handles.ans_bpm_c06,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3191 set(handles.ans_bpm_c07,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3192 set(handles.ans_bpm_c08,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3193 set(handles.ans_bpm_c09,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3194 set(handles.ans_bpm_c10,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3195 set(handles.ans_bpm_c11,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3196 set(handles.ans_bpm_c12,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3197 set(handles.ans_bpm_c13,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3198 set(handles.ans_bpm_c14,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3199 set(handles.ans_bpm_c15,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3200 set(handles.ans_bpm_c16,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
3201 
3202 
3203 n=1;
3204 
3205 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TPcTimeDelay'</span>);
3206 set(handles.pc_address,<span class="string">'String'</span>,num2str(temp.value(n)));
3207 
3208 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TInjTimeDelay'</span>);
3209 set(handles.inj_address,<span class="string">'String'</span>,num2str(temp.value(n)));
3210 
3211 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TSoftTimeDelay'</span>);
3212 set(handles.soft_address,<span class="string">'String'</span>,num2str(temp.value(n)));
3213 
3214 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetTimeValue'</span>);
3215 set(handles.ext_address,<span class="string">'String'</span>,num2str(temp.value(n)));
3216 
3217 
3218 
3219 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'oscTrigStatus'</span>);
3220 set(handles.sdc1,<span class="string">'String'</span>,num2str(temp.value(n)));
3221 
3222 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'lpmTrigStatus'</span>);
3223 set(handles.lin_canon,<span class="string">'String'</span>,num2str(temp.value(n)));
3224 
3225 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.1'</span>, <span class="string">'bpm-bta.trigTrigStatus'</span>);
3226 set(handles.boo_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3227 
3228 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'emittanceTrigStatus'</span>);
3229 set(handles.lt1_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
3230 
3231 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.1TrigStatus'</span>);
3232 set(handles.lt1_MC1,<span class="string">'String'</span>,num2str(temp.value(n)));
3233 
3234 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'mc.2TrigStatus'</span>);
3235 set(handles.lt1_MC2,<span class="string">'String'</span>,num2str(temp.value(n)));
3236 
3237 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'oscTrigStatus'</span>);
3238 set(handles.lt1_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
3239 
3240 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.DG.1'</span>, <span class="string">'dcct-booTrigStatus'</span>);
3241 set(handles.boo_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
3242 
3243 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.DG.3'</span>, <span class="string">'bpm-onde.trigTrigStatus'</span>);
3244 set(handles.boo_nod,<span class="string">'String'</span>,num2str(temp.value(n)));
3245 
3246 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'sep-p.trigTrigStatus'</span>);
3247 set(handles.boo_inj_septum,<span class="string">'String'</span>,num2str(temp.value(n)));
3248 
3249 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Binj.1'</span>, <span class="string">'k.trigTrigStatus'</span>);
3250 set(handles.boo_inj_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
3251 
3252 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'dpTrigStatus'</span>);
3253 set(handles.alim_dipole,<span class="string">'String'</span>,num2str(temp.value(n)));
3254 
3255 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qfTrigStatus'</span>);
3256 set(handles.alim_qf,<span class="string">'String'</span>,num2str(temp.value(n)));
3257 
3258 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'qdTrigStatus'</span>);
3259 set(handles.alim_qd,<span class="string">'String'</span>,num2str(temp.value(n)));
3260 
3261 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sfTrigStatus'</span>);
3262 set(handles.alim_sf,<span class="string">'String'</span>,num2str(temp.value(n)));
3263 
3264 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.ALIM.1'</span>, <span class="string">'sdTrigStatus'</span>);
3265 set(handles.alim_sd,<span class="string">'String'</span>,num2str(temp.value(n)));
3266 
3267 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.RF.1'</span>, <span class="string">'rfTrigStatus'</span>);
3268 set(handles.boo_rf,<span class="string">'String'</span>,num2str(temp.value(n)));
3269 
3270 temp=tango_read_attribute2(<span class="string">'LT1/SY/LOCAL.LINAC.1'</span>, <span class="string">'spareTrigStatus'</span>);
3271 set(handles.lin_modulateur,<span class="string">'String'</span>,num2str(temp.value(n)));
3272 
3273 
3274 
3275 
3276 
3277 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'dof.trigTrigStatus'</span>);
3278 set(handles.boo_ext_dof,<span class="string">'String'</span>,num2str(temp.value(n)));
3279 
3280 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-p.trigTrigStatus'</span>);
3281 set(handles.boo_ext_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
3282 
3283 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'sep-a.trigTrigStatus'</span>);
3284 set(handles.boo_ext_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
3285 
3286 temp=tango_read_attribute2(<span class="string">'BOO/SY/LOCAL.Bext.1'</span>, <span class="string">'k.trigTrigStatus'</span>);
3287 set(handles.boo_ext_kicker,<span class="string">'String'</span>,num2str(temp.value(n)));
3288 
3289 
3290 
3291 temp=tango_read_attribute2(<span class="string">'ANS/SY/LOCAL.SDC.1'</span>, <span class="string">'spareTrigStatus'</span>);
3292 set(handles.sdc2,<span class="string">'String'</span>,num2str(temp.value(n)));
3293 
3294 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'mrsvTrigStatus'</span>);
3295 set(handles.lt2_emittance,<span class="string">'String'</span>,num2str(temp.value(n)));
3296 
3297 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.1'</span>, <span class="string">'osc-fctTrigStatus'</span>);
3298 set(handles.lt2_osc,<span class="string">'String'</span>,num2str(temp.value(n)));
3299 
3300 temp=tango_read_attribute2(<span class="string">'LT2/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3301 set(handles.lt2_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3302 
3303 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k1.trigTrigStatus'</span>);
3304 set(handles.ans_inj_k1,<span class="string">'String'</span>,num2str(temp.value(n)));
3305 
3306 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k2.trigTrigStatus'</span>);
3307 set(handles.ans_inj_k2,<span class="string">'String'</span>,num2str(temp.value(n)));
3308 
3309 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k3.trigTrigStatus'</span>);
3310 set(handles.ans_inj_k3,<span class="string">'String'</span>,num2str(temp.value(n)));
3311 
3312 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.1'</span>, <span class="string">'k4.trigTrigStatus'</span>);
3313 set(handles.ans_inj_k4,<span class="string">'String'</span>,num2str(temp.value(n)));
3314 
3315 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-p.trigTrigStatus'</span>);
3316 set(handles.ans_inj_sept_p,<span class="string">'String'</span>,num2str(temp.value(n)));
3317 
3318 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.Ainj.2'</span>, <span class="string">'sep-a.trigTrigStatus'</span>);
3319 set(handles.ans_inj_sept_a,<span class="string">'String'</span>,num2str(temp.value(n)));
3320 
3321 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'dcctTrigStatus'</span>);
3322 set(handles.ans_dcct,<span class="string">'String'</span>,num2str(temp.value(n)));
3323 
3324 temp=tango_read_attribute2(<span class="string">'ANS-C01/SY/LOCAL.DG.2'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3325 set(handles.ans_bpm,<span class="string">'String'</span>,num2str(temp.value(n)));
3326 set(handles.ans_bpm_c01,<span class="string">'String'</span>,num2str(temp.value(n)));
3327 
3328 temp=tango_read_attribute2(<span class="string">'ANS-C02/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3329 set(handles.ans_bpm_c02,<span class="string">'String'</span>,num2str(temp.value(n)));
3330 temp=tango_read_attribute2(<span class="string">'ANS-C03/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3331 set(handles.ans_bpm_c03,<span class="string">'String'</span>,num2str(temp.value(n)));
3332 temp=tango_read_attribute2(<span class="string">'ANS-C04/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3333 set(handles.ans_bpm_c04,<span class="string">'String'</span>,num2str(temp.value(n)));
3334 temp=tango_read_attribute2(<span class="string">'ANS-C05/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3335 set(handles.ans_bpm_c05,<span class="string">'String'</span>,num2str(temp.value(n)));
3336 temp=tango_read_attribute2(<span class="string">'ANS-C06/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3337 set(handles.ans_bpm_c06,<span class="string">'String'</span>,num2str(temp.value(n)));
3338 temp=tango_read_attribute2(<span class="string">'ANS-C07/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3339 set(handles.ans_bpm_c07,<span class="string">'String'</span>,num2str(temp.value(n)));
3340 temp=tango_read_attribute2(<span class="string">'ANS-C08/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3341 set(handles.ans_bpm_c08,<span class="string">'String'</span>,num2str(temp.value(n)));
3342 temp=tango_read_attribute2(<span class="string">'ANS-C09/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3343 set(handles.ans_bpm_c09,<span class="string">'String'</span>,num2str(temp.value(n)));
3344 temp=tango_read_attribute2(<span class="string">'ANS-C10/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3345 set(handles.ans_bpm_c10,<span class="string">'String'</span>,num2str(temp.value(n)));
3346 temp=tango_read_attribute2(<span class="string">'ANS-C11/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3347 set(handles.ans_bpm_c11,<span class="string">'String'</span>,num2str(temp.value(n)));
3348 temp=tango_read_attribute2(<span class="string">'ANS-C12/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3349 set(handles.ans_bpm_c12,<span class="string">'String'</span>,num2str(temp.value(n)));
3350 temp=tango_read_attribute2(<span class="string">'ANS-C13/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3351 set(handles.ans_bpm_c13,<span class="string">'String'</span>,num2str(temp.value(n)));
3352 temp=tango_read_attribute2(<span class="string">'ANS-C14/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3353 set(handles.ans_bpm_c14,<span class="string">'String'</span>,num2str(temp.value(n)));
3354 temp=tango_read_attribute2(<span class="string">'ANS-C15/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3355 set(handles.ans_bpm_c15,<span class="string">'String'</span>,num2str(temp.value(n)));
3356 temp=tango_read_attribute2(<span class="string">'ANS-C16/SY/LOCAL.DG.1'</span>, <span class="string">'bpm.trigTrigStatus'</span>);
3357 set(handles.ans_bpm_c16,<span class="string">'String'</span>,num2str(temp.value(n)));
3358 
3359 
3360 
3361 <span class="comment">% --- Executes on button press in togglebutton2.</span>
3362 <a name="_sub155" href="#_subfunctions" class="code">function togglebutton2_Callback(hObject, eventdata, handles)</a>
3363 <span class="comment">% hObject    handle to togglebutton2 (see GCBO)</span>
3364 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3365 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3366 
3367 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of togglebutton2</span>
3368 
3369 
3370 <span class="comment">% --- Executes on selection change in listbox_fillingmode.</span>
3371 <a name="_sub156" href="#_subfunctions" class="code">function listbox_fillingmode_Callback(hObject, eventdata, handles)</a>
3372 <span class="comment">% hObject    handle to listbox_fillingmode (see GCBO)</span>
3373 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3374 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3375 
3376 <span class="comment">% Hints: contents = get(hObject,'String') returns listbox_fillingmode contents as cell array</span>
3377 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from listbox_fillingmode</span>
3378 pattern=get(hObject,<span class="string">'String'</span>);
3379 mode=get(hObject,<span class="string">'Value'</span>);
3380 fprintf(<span class="string">'***************************************************\n'</span>)
3381 fprintf(<span class="string">'Mode de remplissage sélectionné : %s\n'</span>,pattern{mode})
3382 fprintf(<span class="string">'***************************************************\n'</span>)
3383 
3384 <span class="comment">% Prépare les tables pour le 3 Hz</span>
3385 
3386 quart=[1 105 209 313];
3387 temp=tango_read_attribute(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionOffsetClkStepValue'</span>);
3388 offset=temp.value(1)*52;
3389 
3390 <span class="keyword">if</span> (mode&lt;=4)
3391     bunch=quart(mode);
3392 <span class="keyword">elseif</span> (mode&gt;4)&amp;&amp;(mode&lt;=7)
3393     bunch=quart(1:(mode-3));
3394 <span class="keyword">elseif</span> (mode==8)   
3395     dbunch=4*8;
3396     bunch=(0:12)*dbunch;
3397 <span class="keyword">end</span>
3398 
3399 [dtour,dpaquet]=<a href="bucketnumber.html" class="code" title="function [n1 n2] = bucketnumber(num)">bucketnumber</a>(bunch);
3400 table=int32([length(bunch) dtour dpaquet]);
3401 tango_command_inout(<span class="string">'ANS/SY/CENTRAL'</span>,<span class="string">'SetTables'</span>,table);
3402 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'TablesCurrentDepth'</span>);
3403 n=temp.value;
3404 temp=tango_read_attribute2(<span class="string">'ANS/SY/CENTRAL'</span>, <span class="string">'ExtractionDelayTable'</span>);
3405 table=temp.value(1:n);
3406 set(handles.edit_filling_relecture_tables,<span class="string">'String'</span>,[num2str(table)]);
3407 set(handles.edit_filling_relecture_bunch, <span class="string">'String'</span>,[num2str(bunch)]);
3408 
3409 guidata(hObject, handles);
3410 
3411 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3412 <a name="_sub157" href="#_subfunctions" class="code">function listbox_fillingmode_CreateFcn(hObject, eventdata, handles)</a>
3413 <span class="comment">% hObject    handle to listbox_fillingmode (see GCBO)</span>
3414 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3415 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3416 
3417 <span class="comment">% Hint: listbox controls usually have a white background on Windows.</span>
3418 <span class="comment">%       See ISPC and COMPUTER.</span>
3419 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3420     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3421 <span class="keyword">end</span>
3422 
3423 
3424 <span class="comment">% --- Executes on button press in button_fix.</span>
3425 <a name="_sub158" href="#_subfunctions" class="code">function button_fix_Callback(hObject, eventdata, handles)</a>
3426 <span class="comment">% hObject    handle to button_fix (see GCBO)</span>
3427 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3428 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3429 
3430 [clk_pc,clk_soft]=<a href="fix_quart.html" class="code" title="function [clk_pc,clk_soft]=fix_quart">fix_quart</a>;
3431 handles.clk_pc  =clk_pc;
3432 handles.clk_soft=clk_soft;
3433 
3434 <span class="comment">% n=1;</span>
3435 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'TPcStepDelay');</span>
3436 <span class="comment">% clk1=temp.value(n);</span>
3437 <span class="comment">% temp=tango_read_attribute2('ANS/SY/CENTRAL', 'TSoftStepDelay');</span>
3438 <span class="comment">% clk2=temp.value(n);</span>
3439 <span class="comment">%</span>
3440 <span class="comment">% jump=int32([0 39 26 13]);</span>
3441 <span class="comment">% handles.clk_pc  =jump +  int32(clk1);</span>
3442 <span class="comment">% handles.clk_soft=jump  + int32(clk2);</span>
3443 
3444 guidata(hObject, handles);
3445 
3446 
3447 
3448 <a name="_sub159" href="#_subfunctions" class="code">function edit_Nshot_soft_Callback(hObject, eventdata, handles)</a>
3449 <span class="comment">% hObject    handle to edit_Nshot_soft (see GCBO)</span>
3450 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3451 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3452 
3453 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_Nshot_soft as text</span>
3454 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_Nshot_soft as a double</span>
3455 
3456 
3457 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3458 <a name="_sub160" href="#_subfunctions" class="code">function edit_Nshot_soft_CreateFcn(hObject, eventdata, handles)</a>
3459 <span class="comment">% hObject    handle to edit_Nshot_soft (see GCBO)</span>
3460 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3461 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3462 
3463 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3464 <span class="comment">%       See ISPC and COMPUTER.</span>
3465 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3466     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3467 <span class="keyword">end</span>
3468 
3469 
3470 
3471 <a name="_sub161" href="#_subfunctions" class="code">function edit_laps_Callback(hObject, eventdata, handles)</a>
3472 <span class="comment">% hObject    handle to edit_laps (see GCBO)</span>
3473 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3474 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3475 
3476 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_laps as text</span>
3477 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_laps as a double</span>
3478 
3479 
3480 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3481 <a name="_sub162" href="#_subfunctions" class="code">function edit_laps_CreateFcn(hObject, eventdata, handles)</a>
3482 <span class="comment">% hObject    handle to edit_laps (see GCBO)</span>
3483 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3484 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3485 
3486 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3487 <span class="comment">%       See ISPC and COMPUTER.</span>
3488 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3489     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3490 <span class="keyword">end</span>
3491 
3492 
3493 
3494 <a name="_sub163" href="#_subfunctions" class="code">function edit_qlt1_Callback(hObject, eventdata, handles)</a>
3495 <span class="comment">% hObject    handle to edit_qlt1 (see GCBO)</span>
3496 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3497 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3498 
3499 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_qlt1 as text</span>
3500 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_qlt1 as a double</span>
3501 
3502 
3503 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3504 <a name="_sub164" href="#_subfunctions" class="code">function edit_qlt1_CreateFcn(hObject, eventdata, handles)</a>
3505 <span class="comment">% hObject    handle to edit_qlt1 (see GCBO)</span>
3506 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3507 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3508 
3509 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3510 <span class="comment">%       See ISPC and COMPUTER.</span>
3511 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3512     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3513 <span class="keyword">end</span>
3514 
3515 
3516 
3517 <a name="_sub165" href="#_subfunctions" class="code">function edit_iboo_Callback(hObject, eventdata, handles)</a>
3518 <span class="comment">% hObject    handle to edit_iboo (see GCBO)</span>
3519 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3520 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3521 
3522 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_iboo as text</span>
3523 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_iboo as a double</span>
3524 
3525 
3526 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3527 <a name="_sub166" href="#_subfunctions" class="code">function edit_iboo_CreateFcn(hObject, eventdata, handles)</a>
3528 <span class="comment">% hObject    handle to edit_iboo (see GCBO)</span>
3529 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3530 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3531 
3532 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3533 <span class="comment">%       See ISPC and COMPUTER.</span>
3534 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3535     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3536 <span class="keyword">end</span>
3537 
3538 
3539 
3540 <a name="_sub167" href="#_subfunctions" class="code">function edit_dians_Callback(hObject, eventdata, handles)</a>
3541 <span class="comment">% hObject    handle to edit_dians (see GCBO)</span>
3542 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3543 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3544 
3545 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_dians as text</span>
3546 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_dians as a double</span>
3547 
3548 
3549 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3550 <a name="_sub168" href="#_subfunctions" class="code">function edit_dians_CreateFcn(hObject, eventdata, handles)</a>
3551 <span class="comment">% hObject    handle to edit_dians (see GCBO)</span>
3552 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3553 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3554 
3555 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3556 <span class="comment">%       See ISPC and COMPUTER.</span>
3557 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3558     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3559 <span class="keyword">end</span>
3560 
3561 
3562 
3563 <a name="_sub169" href="#_subfunctions" class="code">function edit_rlt1_Callback(hObject, eventdata, handles)</a>
3564 <span class="comment">% hObject    handle to edit_rlt1 (see GCBO)</span>
3565 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3566 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3567 
3568 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_rlt1 as text</span>
3569 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_rlt1 as a double</span>
3570 
3571 
3572 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3573 <a name="_sub170" href="#_subfunctions" class="code">function edit_rlt1_CreateFcn(hObject, eventdata, handles)</a>
3574 <span class="comment">% hObject    handle to edit_rlt1 (see GCBO)</span>
3575 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3576 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3577 
3578 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3579 <span class="comment">%       See ISPC and COMPUTER.</span>
3580 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3581     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3582 <span class="keyword">end</span>
3583 
3584 
3585 
3586 <a name="_sub171" href="#_subfunctions" class="code">function edit_rboo_Callback(hObject, eventdata, handles)</a>
3587 <span class="comment">% hObject    handle to edit_rboo (see GCBO)</span>
3588 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3589 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3590 
3591 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_rboo as text</span>
3592 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_rboo as a double</span>
3593 
3594 
3595 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3596 <a name="_sub172" href="#_subfunctions" class="code">function edit_rboo_CreateFcn(hObject, eventdata, handles)</a>
3597 <span class="comment">% hObject    handle to edit_rboo (see GCBO)</span>
3598 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3599 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3600 
3601 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3602 <span class="comment">%       See ISPC and COMPUTER.</span>
3603 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3604     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3605 <span class="keyword">end</span>
3606 
3607 
3608 
3609 <a name="_sub173" href="#_subfunctions" class="code">function edit_rans_Callback(hObject, eventdata, handles)</a>
3610 <span class="comment">% hObject    handle to edit_rans (see GCBO)</span>
3611 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3612 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3613 
3614 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_rans as text</span>
3615 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_rans as a double</span>
3616 
3617 
3618 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3619 <a name="_sub174" href="#_subfunctions" class="code">function edit_rans_CreateFcn(hObject, eventdata, handles)</a>
3620 <span class="comment">% hObject    handle to edit_rans (see GCBO)</span>
3621 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3622 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3623 
3624 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3625 <span class="comment">%       See ISPC and COMPUTER.</span>
3626 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3627     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3628 <span class="keyword">end</span>
3629 
3630 
3631 
3632 <a name="_sub175" href="#_subfunctions" class="code">function edit_dians1_Callback(hObject, eventdata, handles)</a>
3633 <span class="comment">% hObject    handle to edit_dians1 (see GCBO)</span>
3634 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3635 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3636 
3637 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_dians1 as text</span>
3638 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_dians1 as a double</span>
3639 
3640 
3641 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3642 <a name="_sub176" href="#_subfunctions" class="code">function edit_dians1_CreateFcn(hObject, eventdata, handles)</a>
3643 <span class="comment">% hObject    handle to edit_dians1 (see GCBO)</span>
3644 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3645 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3646 
3647 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3648 <span class="comment">%       See ISPC and COMPUTER.</span>
3649 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3650     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3651 <span class="keyword">end</span>
3652 
3653 
3654 
3655 <a name="_sub177" href="#_subfunctions" class="code">function edit_cycle_Callback(hObject, eventdata, handles)</a>
3656 <span class="comment">% hObject    handle to edit_cycle (see GCBO)</span>
3657 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3658 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3659 
3660 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_cycle as text</span>
3661 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_cycle as a double</span>
3662 
3663 
3664 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3665 <a name="_sub178" href="#_subfunctions" class="code">function edit_cycle_CreateFcn(hObject, eventdata, handles)</a>
3666 <span class="comment">% hObject    handle to edit_cycle (see GCBO)</span>
3667 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3668 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3669 
3670 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3671 <span class="comment">%       See ISPC and COMPUTER.</span>
3672 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3673     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3674 <span class="keyword">end</span>
3675 
3676 
3677 
3678 <a name="_sub179" href="#_subfunctions" class="code">function edit_courant_total_Callback(hObject, eventdata, handles)</a>
3679 <span class="comment">% hObject    handle to edit_courant_total (see GCBO)</span>
3680 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3681 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3682 
3683 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_courant_total as text</span>
3684 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_courant_total as a double</span>
3685 
3686 
3687 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3688 <a name="_sub180" href="#_subfunctions" class="code">function edit_courant_total_CreateFcn(hObject, eventdata, handles)</a>
3689 <span class="comment">% hObject    handle to edit_courant_total (see GCBO)</span>
3690 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3691 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3692 
3693 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3694 <span class="comment">%       See ISPC and COMPUTER.</span>
3695 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3696     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3697 <span class="keyword">end</span>
3698 
3699</pre></div>
<hr><address>Generated on Mon 21-May-2007 15:35:27 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>