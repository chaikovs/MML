<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of plotbeta2</title>
  <meta name="keywords" content="plotbeta2">
  <meta name="description" content="PLOTBETA(RING) finds and plots bea-functions of RING">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">mml</a> &gt; <a href="index.html">at</a> &gt; plotbeta2.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mml/at&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>plotbeta2
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>PLOTBETA(RING) finds and plots bea-functions of RING</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function varargout = plotbeta(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> PLOTBETA(RING) finds and plots bea-functions of RING
  It calls FindOrbit4 and LinOpt which assume a lattice
  with NO accelerating cavities and NO radiation
 
 PLOTBETA with no argumnts uses THERING as a default RING

 See also <a href="plotcod.html" class="code" title="function varargout = plotcod(RING,DP)">PLOTCOD</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = plotbeta(varargin)</a>
0002 <span class="comment">% PLOTBETA(RING) finds and plots bea-functions of RING</span>
0003 <span class="comment">%  It calls FindOrbit4 and LinOpt which assume a lattice</span>
0004 <span class="comment">%  with NO accelerating cavities and NO radiation</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% PLOTBETA with no argumnts uses THERING as a default RING</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% See also PLOTCOD</span>
0009 <span class="keyword">if</span> nargin == 0
0010     <span class="keyword">global</span> THERING
0011     RING = THERING;
0012 <span class="keyword">end</span>
0013 L = length(RING);
0014 spos = findspos(RING,1:L+1);
0015 [twissdata, tunes, chrom] = twissring(RING,0,1:L+1,<span class="string">'chrom'</span>);
0016 RINGLength = spos(L)+RING{L}.Length; 
0017 betax = zeros(1,L);
0018 betay = zeros(1,L);
0019 <span class="keyword">for</span> i =1:L 
0020    betax(i) = twissdata(i).beta(1);
0021    betay(i) = twissdata(i).beta(2);
0022 <span class="keyword">end</span>
0023 betax(L+1) = betax(1);
0024 betay(L+1) = betay(1);
0025 fprintf(<span class="string">'nux=%g, nuy=%g\n'</span>,tunes(1),tunes(2));
0026 fprintf(<span class="string">'chromaticity xix=%g, xiy=%g\n'</span>,chrom(1),chrom(2));
0027 
0028 figure
0029 <span class="comment">% plot betax and betay in two subplots</span>
0030 
0031 subplot(2,1,1)
0032 <span class="comment">%plot(spos,betax,'.-b'); Laurent sometimes negative !</span>
0033 plot(spos,abs(betax),<span class="string">'.-b'</span>);
0034 A= axis;
0035 A(1) = 0;
0036 A(2) = RINGLength;
0037 axis(A);
0038 xlabel(<span class="string">'s - position [m]'</span>);
0039 ylabel(<span class="string">'\beta_x [m]'</span>);
0040 grid on
0041 
0042 
0043 title(<span class="string">'beta-functions'</span>);
0044 
0045 subplot(2,1,2)
0046 <span class="comment">%plot(spos,betay,'.-r'); Laurent sometimes negative !</span>
0047 plot(spos,abs(betay),<span class="string">'.-r'</span>);
0048 A= axis;
0049 A(1) = 0;
0050 A(2) = RINGLength;
0051 axis(A);
0052 xlabel(<span class="string">'s - position [m]'</span>);
0053 ylabel(<span class="string">'\beta_y [m]'</span>);
0054 grid on
0055 addlabel(datestr(now));
0056 
0057 <span class="keyword">if</span> nargout &gt; 0
0058     varargout{1}=betax;
0059 <span class="keyword">end</span>
0060 <span class="keyword">if</span> nargout ==2
0061     varargout{2}=betay;
0062 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Mon 21-May-2007 15:29:18 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>