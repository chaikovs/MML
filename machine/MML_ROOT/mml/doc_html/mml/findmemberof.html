<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of findmemberof</title>
  <meta name="keywords" content="findmemberof">
  <meta name="description" content="FINDMEMBEROF - Finds all family members">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">mml</a> &gt; findmemberof.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mml&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>findmemberof
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>FINDMEMBEROF - Finds all family members</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function  FamilyName = findmemberof(MemberString, Field) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">FINDMEMBEROF - Finds all family members
  FamilyName = findmemberof(MemberString, Field)
  
  An optional Field input can be used to only look through subfields.
  FamilyNameCell = findmemberof(MemberString, Field)
  Subfield membership is usually not used.

  INPUTS
  1. MemberString - Must be a string or cell array of strings
  2. Field - Optional field

  OUPUTS
  1. FamilyName - Cell array of family name (Column cell) 
                  {} if no member is found

  EXAMPLES
  1. findmemberof('Magnet')

  See Also <a href="getmemberof.html" class="code" title="function  MemberOfCell = getmemberof(FamilyName, Field)">getmemberof</a>, <a href="ismemberof.html" class="code" title="function  [IsTest, Index] = ismemberof(FamilyName, Field, MemberString)">ismemberof</a>, <a href="isfamily.html" class="code" title="function  [FamilyFlag, AO] = isfamily(Family, Field)">isfamily</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="getfamilylist.html" class="code" title="function  [Families, AO] = getfamilylist(OutputFlag)">getfamilylist</a>	GETFAMILYLIST - Returns a list of all the family names</li><li><a href="getmemberof.html" class="code" title="function  MemberOfCell = getmemberof(FamilyName, Field)">getmemberof</a>	GETMEMBEROF - Returns the membership information of a family (cell of strings)</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="findrf.html" class="code" title="function [DeltaRF, HCMEnergyChangeTotal, DeltaL] = findrf(varargin)">findrf</a>	FINDRF - Finds the RF frequency that minimizes the energy change due</li><li><a href="getchroresp.html" class="code" title="function [ChromaticityMatrix, FileName] = getchroresp(varargin)">getchroresp</a>	GETCHRORESP - Loads the chromaticity response vector (or matrix) for multiple sextupole families</li><li><a href="getenergy.html" class="code" title="function [Energy, HCMEnergy] = getenergy(varargin)">getenergy</a>	GETENERGY - Returns the beam energy base on the bend magnet</li><li><a href="gethbpmfamily.html" class="code" title="function Family = gethbpmfamily">gethbpmfamily</a>	GETHBPMFAMILY - Return the default horizontal BPM family</li><li><a href="gethcmfamily.html" class="code" title="function Family = gethcmfamily">gethcmfamily</a>	GETHCMFAMILY - Returns the default horizontal corrector family</li><li><a href="gettuneresp.html" class="code" title="function [TuneMatrix, FileName] = gettuneresp(varargin)">gettuneresp</a>	GETTUNERESP - Loads the tune response vector (or matrix) for multiple quadrupole families</li><li><a href="getvbpmfamily.html" class="code" title="function Family = getvbpmfamily">getvbpmfamily</a>	GETVBPMFAMILY - Return the default vertical BPM family</li><li><a href="getvcmfamily.html" class="code" title="function Family = getvcmfamily">getvcmfamily</a>	GETVCMFAMILY - Returns the default vertical corrector family</li><li><a href="measchroresp.html" class="code" title="function [Rmat, OutputFileName] = measchroresp(varargin)">measchroresp</a>	MEASCHRORESP - measures the response from sextupoles to chromaticity</li><li><a href="meastuneresp.html" class="code" title="function [Rmat, OutputFileName] = meastuneresp(varargin)">meastuneresp</a>	MEASTUNERESP - Measures the response from quadrupole to tune</li><li><a href="monmags.html" class="code" title="function [MagnetSetpoints, MagnetMonitors, BPMMonitors, MagnetSetpointsEnd, FileName] = monmags(varargin)">monmags</a>	MONMAGS - Monitors all magnet power supplies and plots various statistics</li><li><a href="quad2bpm.html" class="code" title="function [BPMFamilyOutput, BPMDevOutput, DeltaSpos, PhaseAdvance] = quad2bpm(QUADFamily, QUADDev, LocationFlag)">quad2bpm</a>	QUAD2BPM - Returns the nearest BPM to the specified quadrupole</li><li><a href="setchro.html" class="code" title="function [DelSext, ActuatorFamily] = setchro(varargin)">setchro</a>	SETCHRO - Measures then sets the chromaticity</li><li><a href="setgolden.html" class="code" title="function varargout = setgolden(varargin)">setgolden</a>	SETGOLDEN - Set the golden values</li><li><a href="setoffset.html" class="code" title="function varargout = setoffset(varargin)">setoffset</a>	SETOFFSET - Set the offset</li><li><a href="settune.html" class="code" title="function [DelQuad, ActuatorFamily] = settune(varargin)">settune</a>	SETTUNE - Set the tune</li><li><a href="stepchro.html" class="code" title="function  [DelSext, ActuatorFamily] = stepchro(varargin)">stepchro</a>	STEPCHRO - Incremental change in the chromaticity (Delta Tune / Delta RF)</li><li><a href="steptune.html" class="code" title="function [DelQuad, ActuatorFamily] = steptune(varargin)">steptune</a>	STEPTUNE - Step the tune</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function  FamilyName = findmemberof(MemberString, Field)</a>
0002 <span class="comment">%FINDMEMBEROF - Finds all family members</span>
0003 <span class="comment">%  FamilyName = findmemberof(MemberString, Field)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">%  An optional Field input can be used to only look through subfields.</span>
0006 <span class="comment">%  FamilyNameCell = findmemberof(MemberString, Field)</span>
0007 <span class="comment">%  Subfield membership is usually not used.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%  INPUTS</span>
0010 <span class="comment">%  1. MemberString - Must be a string or cell array of strings</span>
0011 <span class="comment">%  2. Field - Optional field</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%  OUPUTS</span>
0014 <span class="comment">%  1. FamilyName - Cell array of family name (Column cell)</span>
0015 <span class="comment">%                  {} if no member is found</span>
0016 <span class="comment">%</span>
0017 <span class="comment">%  EXAMPLES</span>
0018 <span class="comment">%  1. findmemberof('Magnet')</span>
0019 <span class="comment">%</span>
0020 <span class="comment">%  See Also getmemberof, ismemberof, isfamily</span>
0021 
0022 <span class="comment">%</span>
0023 <span class="comment">% Written by Gregory J. Portmann</span>
0024 <span class="comment">%</span>
0025 
0026 
0027 <span class="keyword">if</span> nargin &lt; 1
0028     error(<span class="string">'1 inputs required'</span>);
0029 <span class="keyword">end</span>
0030 
0031 FamilyName = {};
0032 FamilyList = <a href="getfamilylist.html" class="code" title="function  [Families, AO] = getfamilylist(OutputFlag)">getfamilylist</a>;
0033 
0034 <span class="keyword">if</span> nargin &gt;= 2
0035     <span class="comment">% Look for subfield membership</span>
0036     <span class="keyword">for</span> i = 1:size(FamilyList,1)
0037         Family = deblank(FamilyList(i,:));
0038         <span class="keyword">if</span> iscell(MemberString)
0039             Hit = zeros(length(MemberString),1);
0040             <span class="keyword">for</span> j = 1:length(MemberString)
0041                 <span class="keyword">if</span> any(strcmpi(MemberString{j}, <a href="getmemberof.html" class="code" title="function  MemberOfCell = getmemberof(FamilyName, Field)">getmemberof</a>(Family, Field)))
0042                     Hit(j) = 1;
0043                 <span class="keyword">end</span>
0044             <span class="keyword">end</span>
0045             <span class="keyword">if</span> all(Hit)
0046                 FamilyName = [FamilyName; {Family}];
0047             <span class="keyword">end</span>
0048         <span class="keyword">else</span>
0049             <span class="keyword">if</span> any(strcmpi(MemberString, <a href="getmemberof.html" class="code" title="function  MemberOfCell = getmemberof(FamilyName, Field)">getmemberof</a>(Family, Field)))
0050                 FamilyName = [FamilyName; {Family}];
0051             <span class="keyword">end</span>
0052         <span class="keyword">end</span>
0053     <span class="keyword">end</span>
0054 <span class="keyword">else</span>
0055     <span class="comment">% Look for main field membership</span>
0056     <span class="keyword">for</span> i = 1:size(FamilyList,1)
0057         Family = deblank(FamilyList(i,:));
0058         <span class="keyword">if</span> iscell(MemberString)
0059             Hit = zeros(length(MemberString),1);
0060             <span class="keyword">for</span> j = 1:length(MemberString)
0061                 <span class="keyword">if</span> any(strcmpi(MemberString{j}, <a href="getmemberof.html" class="code" title="function  MemberOfCell = getmemberof(FamilyName, Field)">getmemberof</a>(Family)))
0062                     Hit(j) = 1;
0063                 <span class="keyword">end</span>
0064             <span class="keyword">end</span>
0065             <span class="keyword">if</span> all(Hit)
0066                 FamilyName = [FamilyName; {Family}];
0067             <span class="keyword">end</span>
0068         <span class="keyword">else</span>
0069             <span class="keyword">if</span> any(strcmpi(MemberString, <a href="getmemberof.html" class="code" title="function  MemberOfCell = getmemberof(FamilyName, Field)">getmemberof</a>(Family)))
0070                 FamilyName = [FamilyName; {Family}];
0071             <span class="keyword">end</span>
0072         <span class="keyword">end</span>
0073     <span class="keyword">end</span>
0074 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Mon 21-May-2007 15:29:18 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>