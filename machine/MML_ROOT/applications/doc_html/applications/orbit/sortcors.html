<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of sortcors</title>
  <meta name="keywords" content="sortcors">
  <meta name="description" content="SORTCORS - Compares vectors for several cases:">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="#">applications</a> &gt; <a href="index.html">orbit</a> &gt; sortcors.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for applications/orbit&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>sortcors
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>SORTCORS - Compares vectors for several cases:</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function varargout = sortcors(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">SORTCORS - Compares vectors for several cases:
(1) available electronically     (COR.status)
(2) available in response matrix (RSP.ic)
(3) check for user selection     (COR.ifit)

 INPUTS
 1. Corrector structure
 2. Response matrix structure

 OUTPUTS
 1. Updated Corrector structure</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="readwrite.html" class="code" title="function readwrite(action, varargin)">readwrite</a>	READWRITE - Multipurpose read/write function for orbit correction applicaiton</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = sortcors(varargin)</a>
0002 <span class="comment">%SORTCORS - Compares vectors for several cases:</span>
0003 <span class="comment">%(1) available electronically     (COR.status)</span>
0004 <span class="comment">%(2) available in response matrix (RSP.ic)</span>
0005 <span class="comment">%(3) check for user selection     (COR.ifit)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% INPUTS</span>
0008 <span class="comment">% 1. Corrector structure</span>
0009 <span class="comment">% 2. Response matrix structure</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% OUTPUTS</span>
0012 <span class="comment">% 1. Updated Corrector structure</span>
0013 
0014 <span class="comment">%</span>
0015 <span class="comment">% Written by William J. Corbett</span>
0016 <span class="comment">% Modified by Laurent S. Nadolski</span>
0017 
0018 COR = varargin{1}; 
0019 RSP = varargin{2}; 
0020 
0021 <span class="comment">% [C,IA,IB] = INTERSECT(A,B) returns index vectors IA and IB</span>
0022 <span class="comment">% such that C = A(IA) and C = B(IB)</span>
0023 <span class="comment">% [C,I] = SETDIFF(...) returns an index vector I such that C = A(I)</span>
0024 
0025 <span class="keyword">for</span> ip = 1:2 <span class="comment">% for each plane</span>
0026 <span class="comment">% compare response matrix with status</span>
0027 [COR(ip).avail,IA,IB] = intersect(RSP(ip).ic,COR(ip).status); <span class="comment">%RSP.ic and COR.status are compressed</span>
0028 [C,IA]                = setdiff(RSP(ip).ic,RSP(ip).ic(IA)); <span class="comment">%check for rejected response matrix CORs</span>
0029 <span class="keyword">if</span> ~isempty(IA)
0030     disp(<span class="string">'SortCORs Warning 1A: CORs in response matrix do not have valid status'</span>);
0031     <span class="keyword">for</span> ii = IA
0032         disp(COR(ip).name(ii,:));
0033     <span class="keyword">end</span>
0034 <span class="keyword">end</span>
0035 
0036 <span class="comment">% compare result with fit selection</span>
0037 [COR(ip).ifit,IA,IB] = intersect(COR(ip).avail,COR(ip).ifit);  <span class="comment">%COR.avail and COR.ifit are compressed</span>
0038 [C,IB]               = setdiff(COR(ip).ifit,COR(ip).ifit(IB)); <span class="comment">%check for rejected fit CORs</span>
0039 <span class="keyword">if</span> ~isempty(IB) 
0040     disp(<span class="string">'SortCORs Warning 2B: CORs in fit not do not have valid status or not in response matrix'</span>);
0041     <span class="keyword">for</span> ii = IB
0042         disp(COR(ip).name(ii,:));
0043     <span class="keyword">end</span>
0044 <span class="keyword">end</span>
0045 
0046 <span class="keyword">end</span>  <span class="comment">%end of plane loop</span>
0047 
0048 varargout{1} = COR;</pre></div>
<hr><address>Generated on Mon 21-May-2007 15:32:41 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>